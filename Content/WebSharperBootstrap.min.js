try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var u,f,e;for(u in t)if(f=typeof n[u],e=typeof t[u],f=="object"&&e=="object")i(n[u],t[u]);else if(f=="undefined"||r)n[u]=t[u];else throw new Error("Name conflict: "+u);}var r=!!this.overwrite;i(n,t)},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===undefined&&delete n[r];return n},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},GetOptional:function(n){return n===undefined?{$:0}:{$:1,$0:n}},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var i,r;if(typeof t=="function"){i=n.prototype;n.prototype=new t;for(r in i)n.prototype[r]=i[r]}},Safe:function(n){return n===undefined?{}:n},SetOptional:function(n,t,i){i.$==0?delete n[t]:n[t]=i.$0},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");}}};Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1;$.Define($$,{Arrays:{contains:function(_2,_3){var _4,_5,_6;_4=true;_5=0;_6=_3.length;while(_4?_5<_6:false){a.Equals(_3[_5],_2)?_4=false:_5=_5+1;}return!_4;},mapFold:function(_7,_8,_9){var _,ba,bb,bc,bd,be;_=b(_9.length);ba=_8;for(bb=0;bb<=_9.length-1;bb++){bc=(_7(ba))(c.get(_9,bb));bd=bc[1];be=bc[0];c.set(_,bb,be);ba=bd;}return[_,ba];},mapFoldBack:function(be,bf,bg){var bh,bi,bj,bk,bl,bm,bn,bo;bh=b(bf.length);bi=bg;bj=bf.length;for(bk=1;bk<=bj;bk++){bl=bj-bk;bm=(be(c.get(bf,bl)))(bi);bn=bm[1];bo=bm[0];c.set(bh,bl,bo);bi=bn;}return[bh,bi];},sortInPlaceByDescending:function(bp,bq){return bq.sort(function(br,bs){return-d.Compare(bp(br),bp(bs));});},splitInto:function(bt,bu){var bv,bw,bx,by,bz,bA,bB,bC;bt<=0?d.FailWith("Count must be positive"):null;bv=c.length(bu);if(bv===0){bw=[];}else{bx=d.Min(bt,bv);by=b(bx);bz=bv/bx>>0;bA=0;for(bB=0;bB<=bv%bx-1;bB++){c.set(by,bB,c.sub(bu,bA,bz+1));bA=bA+bz+1;}for(bC=bv%bx;bC<=bx-1;bC++){c.set(by,bC,c.sub(bu,bA,bz));bA=bA+bz;}bw=by;}return bw;},tryFindBack:function(bD,bE){var bF,bG;bF={$:0};bG=bE.length-1;while(bG>0?bF.$==0:false){bD(c.get(bE,bG))?bF={$:1,$0:c.get(bE,bG)}:null;bG=bG-1;}return bF;},tryFindIndexBack:function(bH,bI){var bJ,bK;bJ={$:0};bK=bI.length-1;while(bK>0?bJ.$==0:false){bH(c.get(bI,bK))?bJ={$:1,$0:bK}:null;bK=bK-1;}return bJ;}},List:{map3:function(bL,bM,bN,bO){var bP;bP=c.map2(function(bQ){return function(bR){return bQ(bR);};},c.map2(bL,c.ofSeq(bM),c.ofSeq(bN)),c.ofSeq(bO));return e.ofArray(bP);},skip:function(bS,bT){var bU,bV,bW,bX;bU=bT;for(bV=1;bV<=bS;bV++){if(bU.$==0){bW=d.FailWith("Input list too short.");}else{bX=bU.$1;bW=bU=bX;}}return bU;},skipWhile:function(bY,bZ){var b0;b0=bZ;while(!(b0.$==0)?bY(e.head(b0)):false){b0=e.tail(b0);}return b0;}},Seq:{chunkBySize:function(b1,b2){var b3;b1<=0?d.FailWith("Chunk size must be positive"):null;b3=function(){var b5,b6,b8;b5=f.Get(b2);b6=function(){return b5.Dispose();};b8=function(b9){var b_,b$,ca;if(b5.MoveNext()){b$=[b5.get_Current()];while(c.length(b$)<b1?b5.MoveNext():false){ca=b$.push(b5.get_Current());}b9.c=b$;b_=true;}else{b_=false;}return b_;};return g.New(null,null,b8,b6);};return h.Of(b3);},compareWith:function(cb,cc,cd){var ce,cf,cg,ch,ci,cj,ck;ce=f.Get(cc);try{cg=f.Get(cd);try{ci=0;cj=true;while(cj?ci===0:false){ck=[ce.MoveNext(),cg.MoveNext()];ck[0]?ck[1]?ci=(cb(ce.get_Current()))(cg.get_Current()):ci=1:ck[1]?ci=-1:cj=false;}ch=ci;}finally{cg.Dispose!=undefined?cg.Dispose():null;}cf=ch;}finally{ce.Dispose!=undefined?ce.Dispose():null;}return cf;},contains:function(cl,cm){var cn,co,cp;cn=f.Get(cm);try{cp=false;while(!cp?cn.MoveNext():false){cp=a.Equals(cn.get_Current(),cl);}co=cp;}finally{cn.Dispose!=undefined?cn.Dispose():null;}return co;},countBy:function(cq,cr){var cs;cs=function(){var cu,cv,cw,cx,cy,cz,cA,cB,cD,cE;cu={};cv=f.Get(cr);try{cx=[];while(cv.MoveNext()){cy=cq(cv.get_Current());cz=a.Hash(cy);if(cu.hasOwnProperty(cz)){cA=void(cu[cz]=cu[cz]+1);}else{cx.push(cy);cA=void(cu[cz]=1);}}cB=function(cC){return[cC,cu[a.Hash(cC)]];};cD=cx.slice(0);cE=c.map(cB,cD);cw=cE;}finally{cv.Dispose!=undefined?cv.Dispose():null;}return cw;};return i.delay(cs);},distinct:function(cF){return j.distinctBy(function(cG){return cG;},cF);},distinctBy:function(cH,cI){var cJ;cJ=function(){var cL,cM,cN,cV,cX;cL=f.Get(cI);cM=b.prototype.constructor.apply(b,[]);cN=function(cO){var cP,cQ,cR,cS,cT,cU;cP=cH(cO);cQ=a.Hash(cP);cR=cM[cQ];if(a.Equals(cR,undefined)){cM[cQ]=[cP];cS=true;}else{if(k.contains(cP,cR)){cT=false;}else{cU=cR.push(cP);cT=true;}cS=cT;}return cS;};cV=function(){return cL.Dispose();};cX=function(cY){var cZ,c0,c1,c2;if(cL.MoveNext()){c0=cL.get_Current();c1=cN(c0);while(!c1?cL.MoveNext():false){c0=cL.get_Current();c1=cN(c0);}if(c1){cY.c=c0;c2=true;}else{c2=false;}cZ=c2;}else{cZ=false;}return cZ;};return g.New(null,null,cX,cV);};return h.Of(cJ);},except:function(c3,c4){var c5;c5=function(){var c7,c8,c9,de,df,dg,dh,di,dk;c7=f.Get(c4);c8=b.prototype.constructor.apply(b,[]);c9=function(c_){var c$,da,db,dc,dd;c$=a.Hash(c_);da=c8[c$];if(a.Equals(da,undefined)){c8[c$]=[c_];db=true;}else{if(k.contains(c_,da)){dc=false;}else{dd=da.push(c_);dc=true;}db=dc;}return db;};de=f.Get(c3);try{while(de.MoveNext()){dg=de.get_Current();dh=c9(dg);}}finally{de.Dispose!=undefined?de.Dispose():null;}di=function(){return c7.Dispose();};dk=function(dl){var dm,dn,_do,dp;if(c7.MoveNext()){dn=c7.get_Current();_do=c9(dn);while(!_do?c7.MoveNext():false){dn=c7.get_Current();_do=c9(dn);}if(_do){dl.c=dn;dp=true;}else{dp=false;}dm=dp;}else{dm=false;}return dm;};return g.New(null,null,dk,di);};return h.Of(c5);},groupBy:function(dq,dr){return i.delay(function(){var dt,du,dv,dw,dx,dy,dz,dA;dt={};du={};dv=[];dw=f.Get(dr);try{while(dw.MoveNext()){dy=dw.get_Current();dz=dq(dy);dA=a.Hash(dz);!dt.hasOwnProperty(dA)?dv.push(dz):null;du[dA]=dz;dt.hasOwnProperty(dA)?dt[dA].push(dy):void(dt[dA]=[dy]);}dx=c.map(function(dB){return[dB,dt[a.Hash(dB)]];},dv);}finally{dw.Dispose!=undefined?dw.Dispose():null;}return dx;});},insufficient:function(){return d.FailWith("The input sequence has an insufficient number of elements.");},last:function(dC){var dD,dE,dF,dG;dD=f.Get(dC);try{dF=dD.MoveNext();if(!dF){dG=j.insufficient();}else{while(dD.MoveNext()){}dG=dD.get_Current();}dE=dG;}finally{dD.Dispose!=undefined?dD.Dispose():null;}return dE;},nonNegative:function(){return d.FailWith("The input must be non-negative.");},pairwise:function(dH){var dI,dK;dI=function(dJ){return[c.get(dJ,0),c.get(dJ,1)];};dK=j.windowed(2,dH);return i.map(dI,dK);},truncate:function(dL,dM){return i.delay(function(){return i.enumUsing(f.Get(dM),function(dO){var dP;dP=[0];return i.enumWhile(function(){return dO.MoveNext()?dP[0]<dL:false;},i.delay(function(){l.incr(dP);return[dO.get_Current()];}));});});},tryHead:function(dS){var dT,dU;dT=f.Get(dS);try{dU=dT.MoveNext()?{$:1,$0:dT.get_Current()}:{$:0};}finally{dT.Dispose!=undefined?dT.Dispose():null;}return dU;},tryItem:function(dV,dW){var dX,dY,dZ,d0,d1;if(dV<0){dX={$:0};}else{dY=0;dZ=f.Get(dW);try{d1=true;while(d1?dY<=dV:false){dZ.MoveNext()?dY=dY+1:d1=false;}d0=d1?{$:1,$0:dZ.get_Current()}:{$:0};}finally{dZ.Dispose!=undefined?dZ.Dispose():null;}dX=d0;}return dX;},tryLast:function(d2){var d3,d4,d5;d3=f.Get(d2);try{if(d3.MoveNext()){while(d3.MoveNext()){}d5={$:1,$0:d3.get_Current()};}else{d5={$:0};}d4=d5;}finally{d3.Dispose!=undefined?d3.Dispose():null;}return d4;},unfold:function(d6,d7){var d8;d8=function(){var d_;d_=function(d$){var ea,eb,ec,ed;ea=d6(d$.s);if(ea.$==0){eb=false;}else{ec=ea.$0[0];ed=ea.$0[1];d$.c=ec;d$.s=ed;eb=true;}return eb;};return g.New(d7,null,d_,function(){});};return h.Of(d8);},windowed:function(ef,eg){ef<=0?d.FailWith("The input must be positive."):null;return i.delay(function(){return i.enumUsing(f.Get(eg),function(ei){var ej;ej=[];return i.append(i.enumWhile(function(){return ej.length<ef?ei.MoveNext():false;},i.delay(function(){ej.push(ei.get_Current());return i.empty();})),i.delay(function(){return ej.length===ef?i.append([ej.slice(0)],i.delay(function(){return i.enumWhile(function(){return ei.MoveNext();},i.delay(function(){ej.shift();ej.push(ei.get_Current());return[ej.slice(0)];}));})):i.empty();}));});});}},WebSharper:{Activator:{Activate:$.Field(function(){var eq,er;if(m.hasDocument()){er=n.getElementById("websharper-data");eq=er?o(n).ready(function(){var et,eu,ev,eB;et=er.getAttribute("content");eu=p.Activate(q.parse(et));ev=function(ew){var ex,ey,ez,eA;ex=ew[0];ey=ew[1];ez=ey.get_Body();eA=n.getElementById(ex);return ez.ReplaceInDom(eA);};eB=s.GetFields(eu);return c.iter(ev,eB);}):null;}else{eq=null;}return eq;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},AggregateException:$.Class({},{New:function(eC){return $.New(this,t.New1("One or more errors occurred.",eC));},New1:function(eD){return $.New(this,u.New1(eD));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,v.New1("Value does not fall within the expected range."));},New1:function(eF){return $.New(this,u.New1(eF));}}),Arrays:{average:function(eG){return w(c.sum(eG))/w(eG.length);},averageBy:function(eH,eI){return w(c.sumBy(eH,eI))/w(eI.length);},blit:function(eJ,eK,eL,eM,eN){var eO;c.checkRange(eJ,eK,eN);c.checkRange(eL,eM,eN);for(eO=0;eO<=eN-1;eO++){c.set(eL,eM+eO,c.get(eJ,eK+eO));}return;},checkBounds:function(eP,eQ){return(eQ<0?true:eQ>=eP.length)?d.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(eR,eS,eT){return(((eS<0?true:eT<0)?true:eS>=eR.length)?true:eT>=(eR.length?eR[0].length:0))?d.Raise(x.New()):null;},checkLength:function(eU,eV){return eU.length!==eV.length?d.FailWith("Arrays differ in length."):null;},checkRange:function(eW,eX,eY){return((eY<0?true:eX<0)?true:eW.length<eX+eY)?d.FailWith("Index was outside the bounds of the array."):null;},choose:function(eZ,e0){var e1,e2,e3,e4,e5;e1=[];for(e2=0;e2<=e0.length-1;e2++){e3=eZ(c.get(e0,e2));if(e3.$==0){e4=null;}else{e5=e3.$0;e4=e1.push(e5);}}return e1;},chunkBySize:function(e6,e7){var e8;e8=j.chunkBySize(e6,e7);return i.toArray(e8);},collect:function(e9,e_){return b.prototype.concat.apply([],c.map(e9,e_));},compareWith:function(e$,fa,fb){return j.compareWith(e$,fa,fb);},concat:function(fc){return b.prototype.concat.apply([],c.ofSeq(fc));},contains:function(fd,fe){return j.contains(fd,fe);},countBy:function(ff,fg){var fh;fh=j.countBy(ff,fg);return i.toArray(fh);},create:function(fi,fj){var fk,fl;fk=b(fi);for(fl=0;fl<=fi-1;fl++){c.set(fk,fl,fj);}return fk;},create2D:function(fm){var fn,fp,fq;fn=function(fo){return c.ofSeq(fo);};fp=i.map(fn,fm);fq=c.ofSeq(fp);fq.dims=2;return fq;},distinct:function(fr){var fs;fs=j.distinct(fr);return i.toArray(fs);},distinctBy:function(ft,fu){var fv;fv=j.distinctBy(ft,fu);return i.toArray(fv);},exactlyOne:function(fw){return c.length(fw)===1?c.get(fw,0):d.FailWith("The input does not have precisely one element.");},except:function(fx,fy){var fz;fz=j.except(fx,fy);return i.toArray(fz);},exists2:function(fA,fB,fC){c.checkLength(fB,fC);return i.exists2(fA,fB,fC);},fill:function(fD,fE,fF,fG){var fH;c.checkRange(fD,fE,fF);for(fH=fE;fH<=fE+fF-1;fH++){c.set(fD,fH,fG);}return;},filter:function(fI,fJ){var fK,fL;fK=[];for(fL=0;fL<=fJ.length-1;fL++){fI(c.get(fJ,fL))?fK.push(c.get(fJ,fL)):null;}return fK;},find:function(fM,fN){var fO,fP,fQ;fO=c.tryFind(fM,fN);if(fO.$==0){fP=d.FailWith("KeyNotFoundException");}else{fQ=fO.$0;fP=fQ;}return fP;},findBack:function(fR,fS){var fT,fU,fV;fT=k.tryFindBack(fR,fS);if(fT.$==0){fU=d.FailWith("KeyNotFoundException");}else{fV=fT.$0;fU=fV;}return fU;},findINdex:function(fW,fX){var fY,fZ,f0;fY=c.tryFindIndex(fW,fX);if(fY.$==0){fZ=d.FailWith("KeyNotFoundException");}else{f0=fY.$0;fZ=f0;}return fZ;},findIndexBack:function(f1,f2){var f3,f4,f5;f3=k.tryFindIndexBack(f1,f2);if(f3.$==0){f4=d.FailWith("KeyNotFoundException");}else{f5=f3.$0;f4=f5;}return f4;},fold:function(f6,f7,f8){var f9,f_;f9=f7;for(f_=0;f_<=f8.length-1;f_++){f9=(f6(f9))(c.get(f8,f_));}return f9;},fold2:function(f$,ga,gb,gc){var gd,ge;c.checkLength(gb,gc);gd=ga;for(ge=0;ge<=gb.length-1;ge++){gd=((f$(gd))(c.get(gb,ge)))(c.get(gc,ge));}return gd;},foldBack:function(gf,gg,gh){var gi,gj,gk;gi=gh;gj=gg.length;for(gk=1;gk<=gj;gk++){gi=(gf(c.get(gg,gj-gk)))(gi);}return gi;},foldBack2:function(gl,gm,gn,go){var gp,gq,gr;c.checkLength(gm,gn);gp=gm.length;gq=go;for(gr=1;gr<=gp;gr++){gq=((gl(c.get(gm,gp-gr)))(c.get(gn,gp-gr)))(gq);}return gq;},forall2:function(gs,gt,gu){c.checkLength(gt,gu);return i.forall2(gs,gt,gu);},get:function(gv,gw){c.checkBounds(gv,gw);return gv[gw];},get2D:function(gx,gy,gz){c.checkBounds2D(gx,gy,gz);return gx[gy][gz];},groupBy:function(gA,gB){var gC,gG,gH;gC=function(gD){var gE,gF;gE=gD[0];gF=gD[1];return[gE,i.toArray(gF)];};gG=j.groupBy(gA,gB);gH=i.toArray(gG);return c.map(gC,gH);},head:function(gI){return e.head(e.ofArray(gI));},indexed:function(gJ){return c.mapi(function(gK){return function(gL){return[gK,gL];};},gJ);},init:function(gM,gN){var gO,gP;gM<0?d.FailWith("Negative size given."):null;gO=b(gM);for(gP=0;gP<=gM-1;gP++){c.set(gO,gP,gN(gP));}return gO;},iter:function(gQ,gR){var gS;for(gS=0;gS<=gR.length-1;gS++){gQ(c.get(gR,gS));}return;},iter2:function(gT,gU,gV){var gW;c.checkLength(gU,gV);for(gW=0;gW<=gU.length-1;gW++){(gT(c.get(gU,gW)))(c.get(gV,gW));}return;},iteri:function(gX,gY){var gZ;for(gZ=0;gZ<=gY.length-1;gZ++){(gX(gZ))(c.get(gY,gZ));}return;},iteri2:function(g0,g1,g2){var g3;c.checkLength(g1,g2);for(g3=0;g3<=g1.length-1;g3++){((g0(g3))(c.get(g1,g3)))(c.get(g2,g3));}return;},last:function(g4){return j.last(g4);},length:function(g5){var g6;g6=g5.dims;return g6===2?g5.length*g5.length:g5.length;},map:function(g7,g8){var g9,g_;g9=b(g8.length);for(g_=0;g_<=g8.length-1;g_++){c.set(g9,g_,g7(c.get(g8,g_)));}return g9;},map2:function(g$,ha,hb){var hc,hd;c.checkLength(ha,hb);hc=b(hb.length);for(hd=0;hd<=hb.length-1;hd++){c.set(hc,hd,(g$(c.get(ha,hd)))(c.get(hb,hd)));}return hc;},map3:function(he,hf,hg,hh){var hi;hi=y.map3(he,e.ofArray(hf),e.ofArray(hg),e.ofArray(hh));return c.ofSeq(hi);},mapi:function(hj,hk){var hl,hm;hl=b(hk.length);for(hm=0;hm<=hk.length-1;hm++){c.set(hl,hm,(hj(hm))(c.get(hk,hm)));}return hl;},mapi2:function(hn,ho,hp){var hq,hr;c.checkLength(ho,hp);hq=b(ho.length);for(hr=0;hr<=ho.length-1;hr++){c.set(hq,hr,((hn(hr))(c.get(ho,hr)))(c.get(hp,hr)));}return hq;},max:function(hs){return c.reduce(function(ht){return function(hu){return d.Max(ht,hu);};},hs);},maxBy:function(hv,hw){return c.reduce(function(hx){return function(hy){return a.Compare(hv(hx),hv(hy))===1?hx:hy;};},hw);},min:function(hz){return c.reduce(function(hA){return function(hB){return d.Min(hA,hB);};},hz);},minBy:function(hC,hD){return c.reduce(function(hE){return function(hF){return a.Compare(hC(hE),hC(hF))===-1?hE:hF;};},hD);},nonEmpty:function(hG){return hG.length===0?d.FailWith("The input array was empty."):null;},ofSeq:function(hH){var hI,hJ,hK;hI=[];hJ=f.Get(hH);try{while(hJ.MoveNext()){hI.push(hJ.get_Current());}hK=hI;}finally{hJ.Dispose!=undefined?hJ.Dispose():null;}return hK;},pairwise:function(hL){var hM;hM=j.pairwise(hL);return i.toArray(hM);},partition:function(hN,hO){var hP,hQ,hR;hP=[];hQ=[];for(hR=0;hR<=hO.length-1;hR++){hN(c.get(hO,hR))?hP.push(c.get(hO,hR)):hQ.push(c.get(hO,hR));}return[hP,hQ];},permute:function(hS,hT){var hU,hV;hU=b(hT.length);for(hV=0;hV<=hT.length-1;hV++){c.set(hU,hS(hV),c.get(hT,hV));}return hU;},pick:function(hW,hX){var hY,hZ,h0;hY=c.tryPick(hW,hX);if(hY.$==0){hZ=d.FailWith("KeyNotFoundException");}else{h0=hY.$0;hZ=h0;}return hZ;},reduce:function(h1,h2){var h3,h4;c.nonEmpty(h2);h3=c.get(h2,0);for(h4=1;h4<=h2.length-1;h4++){h3=(h1(h3))(c.get(h2,h4));}return h3;},reduceBack:function(h5,h6){var h7,h8,h9;c.nonEmpty(h6);h7=h6.length;h8=c.get(h6,h7-1);for(h9=2;h9<=h7;h9++){h8=(h5(c.get(h6,h7-h9)))(h8);}return h8;},replicate:function(h_,h$){return c.create(h_,h$);},reverse:function(ia,ib,ic){var id;id=c.sub(ia,ib,ic).slice().reverse();return c.blit(id,0,ia,ib,c.length(id));},scan:function(ie,_if,ig){var ih,ii;ih=b(1+ig.length);c.set(ih,0,_if);for(ii=0;ii<=ig.length-1;ii++){c.set(ih,ii+1,(ie(c.get(ih,ii)))(c.get(ig,ii)));}return ih;},scanBack:function(ij,ik,il){var im,_in,io;im=ik.length;_in=b(1+im);c.set(_in,im,il);for(io=0;io<=im-1;io++){c.set(_in,im-io-1,(ij(c.get(ik,im-io-1)))(c.get(_in,im-io)));}return _in;},set:function(ip,iq,ir){c.checkBounds(ip,iq);ip[iq]=ir;return;},set2D:function(is,it,iu,iv){c.checkBounds2D(is,it,iu);is[it][iu]=iv;return;},setSub:function(iw,ix,iy,iz){var iA;for(iA=0;iA<=iy-1;iA++){c.set(iw,ix+iA,c.get(iz,iA));}return;},setSub2D:function(iB,iC,iD,iE,iF,iG){var iH,iI;for(iH=0;iH<=iE-1;iH++){for(iI=0;iI<=iF-1;iI++){c.set2D(iB,iC+iH,iD+iI,c.get2D(iG,iH,iI));}}return;},skip:function(iJ,iK){return iJ<0?j.nonNegative():iJ>c.length(iK)?j.insufficient():iK.slice(iJ);},skipWhile:function(iL,iM){var iN,iO;iN=c.length(iM);iO=0;while(iO<iN?iL(c.get(iM,iO)):false){iO=iO+1;}return iM.slice(iO);},sort:function(iP){return c.sortBy(function(iQ){return iQ;},iP);},sortBy:function(iR,iS){return iS.slice().sort(function(iT,iU){return d.Compare(iR(iT),iR(iU));});},sortByDescending:function(iV,iW){return iW.slice().sort(function(iX,iY){return-d.Compare(iV(iX),iV(iY));});},sortDescending:function(iZ){return c.sortByDescending(function(i0){return i0;},iZ);},sortInPlace:function(i1){return c.sortInPlaceBy(function(i2){return i2;},i1);},sortInPlaceBy:function(i3,i4){return i4.sort(function(i5,i6){return d.Compare(i3(i5),i3(i6));});},sortInPlaceWith:function(i7,i8){return i8.sort(function(i9,i_){return(i7(i9))(i_);});},sortWith:function(i$,ja){return ja.slice().sort(function(jb,jc){return(i$(jb))(jc);});},splitAt:function(jd,je){return[c.take(jd,je),c.skip(jd,je)];},sub:function(jf,jg,jh){c.checkRange(jf,jg,jh);return jf.slice(jg,jg+jh);},sub2D:function(ji,jj,jk,jl,jm){var jn,jo,jp,jq,jr;jn=jl<0?0:jl;jo=jm<0?0:jm;jp=c.zeroCreate2D(jn,jo);for(jq=0;jq<=jn-1;jq++){for(jr=0;jr<=jo-1;jr++){c.set2D(jp,jq,jr,c.get2D(ji,jj+jq,jk+jr));}}return jp;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tail:function(js){return c.skip(1,js);},take:function(jt,ju){return jt<0?j.nonNegative():jt>c.length(ju)?j.insufficient():ju.slice(0,jt);},takeWhile:function(jv,jw){var jx,jy;jx=c.length(jw);jy=0;while(jy<jx?jv(c.get(jw,jy)):false){jy=jy+1;}return jw.slice(0,jy);},truncate:function(jz,jA){return jA.slice(jz);},tryFind:function(jB,jC){var jD,jE;jD={$:0};jE=0;while(jE<jC.length?jD.$==0:false){jB(c.get(jC,jE))?jD={$:1,$0:c.get(jC,jE)}:null;jE=jE+1;}return jD;},tryFindIndex:function(jF,jG){var jH,jI;jH={$:0};jI=0;while(jI<jG.length?jH.$==0:false){jF(c.get(jG,jI))?jH={$:1,$0:jI}:null;jI=jI+1;}return jH;},tryHead:function(jJ){return c.length(jJ)===0?{$:0}:{$:1,$0:jJ[0]};},tryItem:function(jK,jL){return(c.length(jL)<=jK?true:jK<0)?{$:0}:{$:1,$0:jL[jK]};},tryLast:function(jM){var jN;jN=c.length(jM);return jN===0?{$:0}:{$:1,$0:jM[jN-1]};},tryPick:function(jO,jP){var jQ,jR,jS;jQ={$:0};jR=0;while(jR<jP.length?jQ.$==0:false){jS=jO(c.get(jP,jR));jS.$==1?jQ=jS:null;jR=jR+1;}return jQ;},unfold:function(jT,jU){var jV;jV=j.unfold(jT,jU);return i.toArray(jV);},unzip:function(jW){var jX,jY,jZ,j0,j1,j2;jX=[];jY=[];for(jZ=0;jZ<=jW.length-1;jZ++){j0=c.get(jW,jZ);j1=j0[1];j2=j0[0];jX.push(j2);jY.push(j1);}return[jX,jY];},unzip3:function(j3){var j4,j5,j6,j7,j8,j9,j_,j$;j4=[];j5=[];j6=[];for(j7=0;j7<=j3.length-1;j7++){j8=c.get(j3,j7);j9=j8[2];j_=j8[1];j$=j8[0];j4.push(j$);j5.push(j_);j6.push(j9);}return[j4,j5,j6];},windowed:function(ka,kb){var kc;kc=j.windowed(ka,kb);return i.toArray(kc);},zeroCreate2D:function(kd,ke){var kf;kf=c.init(kd,function(){return b(ke);});kf.dims=2;return kf;},zip:function(kh,ki){var kj,kk;c.checkLength(kh,ki);kj=b(kh.length);for(kk=0;kk<=kh.length-1;kk++){c.set(kj,kk,[c.get(kh,kk),c.get(ki,kk)]);}return kj;},zip3:function(kl,km,kn){var ko,kp;c.checkLength(kl,km);c.checkLength(km,kn);ko=b(kl.length);for(kp=0;kp<=kl.length-1;kp++){c.set(ko,kp,[c.get(kl,kp),c.get(km,kp),c.get(kn,kp)]);}return ko;}},Arrays2D:{copy:function(kq){return z.init(kq.length,kq.length?kq[0].length:0,function(kr){return function(ks){return c.get2D(kq,kr,ks);};});},init:function(kt,ku,kv){var kw,kx,ky;kw=c.zeroCreate2D(kt,ku);for(kx=0;kx<=kt-1;kx++){for(ky=0;ky<=ku-1;ky++){c.set2D(kw,kx,ky,(kv(kx))(ky));}}return kw;},iter:function(kz,kA){var kB,kC,kD,kE;kB=kA.length;kC=kA.length?kA[0].length:0;for(kD=0;kD<=kB-1;kD++){for(kE=0;kE<=kC-1;kE++){kz(c.get2D(kA,kD,kE));}}return;},iteri:function(kF,kG){var kH,kI,kJ,kK;kH=kG.length;kI=kG.length?kG[0].length:0;for(kJ=0;kJ<=kH-1;kJ++){for(kK=0;kK<=kI-1;kK++){((kF(kJ))(kK))(c.get2D(kG,kJ,kK));}}return;},map:function(kL,kM){return z.init(kM.length,kM.length?kM[0].length:0,function(kN){return function(kO){return kL(c.get2D(kM,kN,kO));};});},mapi:function(kP,kQ){return z.init(kQ.length,kQ.length?kQ[0].length:0,function(kR){return function(kS){return((kP(kR))(kS))(c.get2D(kQ,kR,kS));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return A.GetCT();},get_DefaultCancellationToken:function(){return(A.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var kT,kU,kY,kZ;if(!this.c){this.c=true;kU=function(kV){var kW,kX;try{kV(null);kW={$:0};}catch(kX){kW={$:1,$0:kX};}return kW;};kY=this.r;kZ=c.choose(kU,kY);kT=c.length(kZ)>0?d.Raise(t.New(kZ)):null;}else{kT=null;}return kT;},Cancel1:function(k0){var k1,k2,k3,k5;if(!k0){k1=this.Cancel();}else{if(!this.c){this.c=true;k3=function(k4){return k4(null);};k5=this.r;k2=c.iter(k3,k5);}else{k2=null;}k1=k2;}return k1;},CancelAfter:function(k6){var k7,k8,k_,la=this;if(!this.c){k8=this.pending;B.iter(function(k9){return C(k9);},k8);k_=D(function(){return la.Cancel();},k6);k7=void(this.pending={$:1,$0:k_});}else{k7=null;}return k7;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(lb,lc){return E.CreateLinkedTokenSource1([lb,lc]);},CreateLinkedTokenSource1:function(ld){var le,lf;le=E.New();lf=function(lg){var lh;lh=A.Register(lg,function(){return function(){return le.Cancel();}();});return;};return c.iter(lf,ld);},New:function(){var lk;lk=$.New(this,{});lk.c=false;lk.pending={$:0};lk.r=[];return lk;}}),Char:$.Class({},{GetNumericValue:function(ll){return(ll>=48?ll<=57:false)?w(ll)-w(48):-1;},IsControl:function(lm){return(lm>=0?lm<=31:false)?true:lm>=128?lm<=159:false;},IsDigit:function(ln){return ln>=48?ln<=57:false;},IsLetter:function(lo){return(lo>=65?lo<=90:false)?true:lo>=97?lo<=122:false;},IsLetterOrDigit:function(lp){return F.IsLetter(lp)?true:F.IsDigit(lp);},IsLower:function(lq){return lq>=97?lq<=122:false;},IsUpper:function(lr){return lr>=65?lr<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(ls){return ls.length===1?ls.charCodeAt(0):d.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(lt,lu){var lv;lv=function(lw){var lx,ly,lz,lA,lB,lC;lx=function(){return G.subscribeTo(lt,function(lE){var lF;H.Force(ly).Dispose();H.Force(lA).Dispose();lF=function(){return lw.k.call(null,{$:0,$0:lE});};return A.scheduler().Fork(lF);});};ly=H.Create(lx);lz=function(){return A.Register(lw.ct,function(){var lJ,lK,lL;if(lu.$==1){lK=lu.$0;lJ=lK(null);}else{H.Force(ly).Dispose();lL=function(){return lw.k.call(null,{$:2,$0:I.New()});};lJ=A.scheduler().Fork(lL);}return lJ;});};lA=H.Create(lz);lB=H.Force(ly);lC=H.Force(lA);return null;};return A.checkCancel(lv);},Bind:function(lN,lO){var lP;lP=function(lQ){return lN({k:function(lR){var lS,lT,lU,lY;if(lR.$==0){lT=lR.$0;lU=function(){var lW,lX;try{lW=(lO(lT))(lQ);}catch(lX){lW=lQ.k.call(null,{$:1,$0:lX});}return lW;};lS=A.scheduler().Fork(lU);}else{lY=function(){return lQ.k.call(null,lR);};lS=A.scheduler().Fork(lY);}return lS;},ct:lQ.ct});};return A.checkCancel(lP);},Catch:function(l0){var l1;l1=function(l2){var l3,l8;try{l3=l0({k:function(l4){var l5,l6,l7;if(l4.$==0){l6=l4.$0;l5=l2.k.call(null,{$:0,$0:{$:0,$0:l6}});}else{if(l4.$==1){l7=l4.$0;l5=l2.k.call(null,{$:0,$0:{$:1,$0:l7}});}else{l5=l2.k.call(null,l4);}}return l5;},ct:l2.ct});}catch(l8){l3=l2.k.call(null,{$:0,$0:{$:1,$0:l8}});}return l3;};return A.checkCancel(l1);},Combine:function(l9,l_){return A.Bind(l9,function(){return l_;});},Delay:function(ma){var mb;mb=function(mc){var md,me;try{md=(ma(null))(mc);}catch(me){md=mc.k.call(null,{$:1,$0:me});}return md;};return A.checkCancel(mb);},For:function(mf,mg){return A.Using(f.Get(mf),function(mh){return A.While(function(){return mh.MoveNext();},A.Delay(function(){return mg(mh.get_Current());}));});},FromContinuations:function(mk){var ml;ml=function(mm){var mn,mo;mn=[false];mo=function(mp){var mq;if(mn[0]){mq=d.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{mn[0]=true;mq=A.scheduler().Fork(mp);}return mq;};return mk([function(mr){return mo(function(){return mm.k.call(null,{$:0,$0:mr});});},function(mt){return mo(function(){return mm.k.call(null,{$:1,$0:mt});});},function(mv){return mo(function(){return mm.k.call(null,{$:2,$0:mv});});}]);};return A.checkCancel(ml);},GetCT:$.Field(function(){var mx;mx=function(my){return my.k.call(null,{$:0,$0:my.ct});};return A.checkCancel(mx);}),Ignore:function(mz){return A.Bind(mz,function(){return A.Return(null);});},OnCancel:function(mB){var mC;mC=function(mD){return mD.k.call(null,{$:0,$0:A.Register(mD.ct,mB)});};return A.checkCancel(mC);},Parallel:function(mE){var mF,mG,mH;mF=c.ofSeq(mE);if(c.length(mF)===0){mG=A.Return([]);}else{mH=function(mI){var mJ,mK,mL,mM;mJ=mF.length;mK=[mJ];mL=c.create(mJ,undefined);mM=function(mN){return function(mO){var mP,mQ,mR,mS,mT,mU,mV,mW,mX;mP=[mK[0],mO];if(mP[0]===0){mQ=null;}else{if(mP[0]===1){if(mP[1].$==0){mS=mP[1].$0;c.set(mL,mN,mS);mK[0]=0;mR=mI.k.call(null,{$:0,$0:mL});}else{mP[0];mT=mP[1];mK[0]=0;mR=mI.k.call(null,mT);}mQ=mR;}else{if(mP[1].$==0){mV=mP[1].$0;mW=mP[0];c.set(mL,mN,mV);mU=void(mK[0]=mW-1);}else{mP[0];mX=mP[1];mK[0]=0;mU=mI.k.call(null,mX);}mQ=mU;}}return mQ;};};return c.iteri(function(mY){return function(mZ){var m0;m0=function(){return mZ({k:mM(mY),ct:mI.ct});};return A.scheduler().Fork(m0);};},mF);};mG=A.checkCancel(mH);}return mG;},Register:function(m2,m3){var m4;m4=m2.r.push(m3)-1;return{Dispose:function(){return c.set(m2.r,m4,function(){});}};},Return:function(m7){var m8;m8=function(m9){return m9.k.call(null,{$:0,$0:m7});};return A.checkCancel(m8);},Scheduler:$.Class({Fork:function(m_){var m$,na,nc=this;this.robin.push(m_);if(this.idle){this.idle=false;na=D(function(){return nc.tick();},0);m$=void na;}else{m$=null;}return m$;},tick:function(){var nd,ne,nf,ng,nh,ni,nk=this;nd=J.now();ne=true;while(ne){nf=this.robin.length;if(nf===0){this.idle=true;ng=ne=false;}else{(this.robin.shift())(null);if(J.now()-nd>40){ni=D(function(){return nk.tick();},0);nh=ne=false;}else{nh=null;}ng=nh;}}return;}},{New:function(){var nl;nl=$.New(this,{});nl.idle=true;nl.robin=[];return nl;}}),Sleep:function(nm){var nn;nn=function(no){var np,nq,nr,ns,nt,nu;np=function(){return D(function(){var nx;H.Force(ns).Dispose();nx=function(){return no.k.call(null,{$:0,$0:null});};return A.scheduler().Fork(nx);},nm);};nq=H.Create(np);nr=function(){return A.Register(no.ct,function(){var nB;C(H.Force(nq));nB=function(){return no.k.call(null,{$:2,$0:I.New()});};return A.scheduler().Fork(nB);});};ns=H.Create(nr);nt=H.Force(nq);nu=H.Force(ns);return null;};return A.checkCancel(nn);},Start:function(nD,nE){return A.StartWithContinuations(nD,function(){},function(nG){var nH;nH=[nG];return K?K.log.apply(K,["WebSharper: Uncaught asynchronous exception"].concat(nH)):undefined;},function(){},nE);},StartChild:function(nJ,nK){var nL;nL=function(nM){var nN,nO,nP,nQ,nR,nS,nT,nW,n2,n8;nN=[true];nO=[{$:0}];nP=[];if(nK.$==1){nS=nK.$0;nT=D(function(){var nV;nN[0]=false;nV={$:1,$0:L.New()};while(nP.length>0){(nP.shift())(nV);}return;},nS);nR={$:1,$0:nT};}else{nR={$:0};}nQ=nR;nW=function(){return nJ({k:function(nY){var nZ,n0,n1;if(nN[0]){nO[0]={$:1,$0:nY};if(nQ.$==1){n1=nQ.$0;n0=C(n1);}else{n0=null;}while(nP.length>0){(nP.shift())(nY);}}else{nZ=null;}return nZ;},ct:nM.ct});};A.scheduler().Fork(nW);n2=function(n3){var n4,n5,n6,n7;if(nN[0]){n5=nO[0];if(n5.$==0){n6=nP.push(n3.k);}else{n7=n5.$0;n6=n3.k.call(null,n7);}n4=n6;}else{n4=n3.k.call(null,{$:1,$0:L.New()});}return n4;};n8=A.checkCancel(n2);return nM.k.call(null,{$:0,$0:n8});};return A.checkCancel(nL);},StartWithContinuations:function(n9,n_,n$,oa,ob){var oc,od;oc=d.DefaultArg(ob,(A.defCTS())[0]);od=function(){return n9({k:function(of){var og,oh,oi,oj;if(of.$==1){oh=of.$0;og=n$(oh);}else{if(of.$==2){oi=of.$0;og=oa(oi);}else{oj=of.$0;og=n_(oj);}}return og;},ct:oc});};return A.scheduler().Fork(od);},TryCancelled:function(ok,ol){var om;om=function(on){return ok({k:function(oo){var op,oq;if(oo.$==2){oq=oo.$0;ol(oq);op=on.k.call(null,oo);}else{op=on.k.call(null,oo);}return op;},ct:on.ct});};return A.checkCancel(om);},TryFinally:function(or,os){var ot;ot=function(ou){return or({k:function(ov){var ow,ox;try{os(null);ow=ou.k.call(null,ov);}catch(ox){ow=ou.k.call(null,{$:1,$0:ox});}return ow;},ct:ou.ct});};return A.checkCancel(ot);},TryWith:function(oy,oz){var oA;oA=function(oB){return oy({k:function(oC){var oD,oE,oF,oG,oH;if(oC.$==0){oE=oC.$0;oD=oB.k.call(null,{$:0,$0:oE});}else{if(oC.$==1){oF=oC.$0;try{oG=(oz(oF))(oB);}catch(oH){oG=oB.k.call(null,oC);}oD=oG;}else{oD=oB.k.call(null,oC);}}return oD;},ct:oB.ct});};return A.checkCancel(oA);},Using:function(oI,oJ){return A.TryFinally(oJ(oI),function(){return oI.Dispose();});},While:function(oL,oM){return oL(null)?A.Bind(oM,function(){return A.While(oL,oM);}):A.Return(null);},checkCancel:function(oO){return function(oP){return oP.ct.c?oP.k.call(null,{$:2,$0:I.New()}):oO(oP);};},defCTS:$.Field(function(){return[E.New()];}),scheduler:$.Field(function(){return M.New();})},Control:{createEvent:function(oQ,oR,oS){return{AddHandler:oQ,RemoveHandler:oR,Subscribe:function(oT){var oU;oU=oS(function(){return function(oW){return oT.OnNext.call(null,oW);};});oQ(oU);return{Dispose:function(){return oR(oU);}};}};}},DateTimeHelpers:{AddMonths:function(oY,oZ){var o0;o0=new J(oY);return(new J(o0.getFullYear(),o0.getMonth()+oZ,o0.getDate(),o0.getHours(),o0.getMinutes(),o0.getSeconds(),o0.getMilliseconds())).getTime();},AddYears:function(o1,o2){var o3;o3=new J(o1);return(new J(o3.getFullYear()+o2,o3.getMonth(),o3.getDate(),o3.getHours(),o3.getMinutes(),o3.getSeconds(),o3.getMilliseconds())).getTime();},DatePortion:function(o4){var o5;o5=new J(o4);return(new J(o5.getFullYear(),o5.getMonth(),o5.getDate())).getTime();},LongDate:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});},LongTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});},Parse:function(o6){var o7;o7=J.parse(o6);return $$.isNaN(o7)?d.FailWith("Failed to parse date string."):o7;},ShortTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});},TimePortion:function(o8){var o9;o9=new J(o8);return(((24*0+o9.getHours())*60+o9.getMinutes())*60+o9.getSeconds())*1000+o9.getMilliseconds();}},Enumerable:{Of:function(o_){return{GetEnumerator:o_};}},Enumerator:{Get:function(o$){return o$ instanceof $$.Array?g.New(0,null,function(pa){var pb,pc;pb=pa.s;if(pb<c.length(o$)){pa.c=c.get(o$,pb);pa.s=pb+1;pc=true;}else{pc=false;}return pc;},function(){}):a.Equals(typeof o$,"string")?g.New(0,null,function(pe){var pf,pg;pf=pe.s;if(pf<o$.length){pe.c=o$.charCodeAt(pf);pe.s=pf+1;pg=true;}else{pg=false;}return pg;},function(){}):o$.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(pi,pj,pk,pl){var pm;pm=$.New(this,{});pm.s=pi;pm.c=pj;pm.n=pk;pm.d=pl;return pm;}})},Exception:$.Class({},{New:function(){return $.New(this,u.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(pn){return O.New(pn);},SingleNode:$.Class({ReplaceInDom:function(po){var pp;pp=this.node.parentNode.replaceChild(this.node,po);return;}},{New:function(pq){var pr;pr=$.New(this,{});pr.node=pq;return pr;}})},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,x.New1("Index was outside the bounds of the array."));},New1:function(ps){return $.New(this,u.New1(ps));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,P.New1("Operation is not valid due to the current state of the object."));},New1:function(pt){return $.New(this,u.New1(pt));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(pu){var pv,pw,px,py,pz,pA;pv={};pw=f.Get(pu);try{while(pw.MoveNext()){py=pw.get_Current();pz=py[1];pA=py[0];pv[pA]=pz;}}finally{pw.Dispose!=undefined?pw.Dispose():null;}return pv;}}},Json:{Activate:function(pB){var pC,pD,pE;pC=pB.$TYPES;for(pD=0;pD<=c.length(pC)-1;pD++){c.set(pC,pD,p.lookup(c.get(pC,pD)));}pE=function(pF){var pG,pH,pI,pJ,pK,pL,pM,pN;if(a.Equals(pF,null)){pG=pF;}else{pH=typeof pF;if(pH==="object"){if(pF instanceof $$.Array){pJ=p.shallowMap(pE,pF);}else{pK=p.shallowMap(pE,pF.$V);pL=pF.$T;if(a.Equals(typeof pL,"undefined")){pM=pK;}else{pN=new(c.get(pC,pL))();s.ForEach(pK,function(pO){pN[pO]=pK[pO];return false;});pM=pN;}pJ=pM;}pI=pJ;}else{pI=pF;}pG=pI;}return pG;};return pE(pB.$DATA);},lookup:function(pP){var pQ,pR,pS,pT,pU,pV;pQ=c.length(pP);pR=$$;pS=0;while(pS<pQ){pT=c.get(pP,pS);pU=pR[pT];if(!a.Equals(typeof pU,undefined)){pR=pU;pV=pS=pS+1;}else{pV=d.FailWith("Invalid server reply. Failed to find type: "+pT);}}return pR;},shallowMap:function(pW,pX){var pY,pZ,p0,p1;if(pX instanceof $$.Array){pY=c.map(pW,pX);}else{pZ=typeof pX;if(pZ==="object"){p1={};s.ForEach(pX,function(p2){p1[p2]=pW(pX[p2]);return false;});p0=p1;}else{p0=pX;}pY=p0;}return pY;}},Lazy:{Create:function(p3){var p4,p5;p4={value:undefined,created:false,eval:p3};p5=function(){var p7;if(p4.created){p7=p4.value;}else{p4.created=true;p4.value=p3(null);p7=p4.value;}return p7;};p4.eval=p5;return p4;},CreateFromValue:function(p8){return{value:p8,created:true,eval:function(){return p8;},eval:function(){return p8;}};},Force:function(p$){return p$.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return g.New(this,null,function(qa){var qb,qc,qd,qe;qb=qa.s;if(qb.$==0){qc=false;}else{qd=qb.$1;qe=qb.$0;qa.c=qe;qa.s=qd;qc=true;}return qc;},function(){});},GetSlice:function(qg,qh){var qi,qj,qk,ql,qm,qn,qo,qp,qq,qr,qs,qt,qu;qi=[qg,qh];if(qi[0].$==1){if(qi[1].$==1){ql=qi[0].$0;qm=qi[1].$0;qn=qm-ql+1;qo=y.skip(ql,this);qp=i.take(qn,qo);qk=e.ofSeq(qp);}else{qq=qi[0].$0;qk=y.skip(qq,this);}qj=qk;}else{if(qi[1].$==1){qs=qi[1].$0;qt=qs+1;qu=i.take(qt,this);qr=e.ofSeq(qu);}else{qr=this;}qj=qr;}return qj;},get_Item:function(qv){return i.nth(qv,this);},get_Length:function(){return i.length(this);}}),append:function(qw,qx){return e.ofSeq(i.append(qw,qx));},choose:function(qy,qz){return e.ofSeq(i.choose(qy,qz));},chunkBySize:function(qA,qB){var qC,qE,qF;qC=function(qD){return e.ofArray(qD);};qE=j.chunkBySize(qA,qB);qF=i.toList(qE);return e.map(qC,qF);},collect:function(qG,qH){return e.ofSeq(i.collect(qG,qH));},compareWith:function(qI,qJ,qK){return j.compareWith(qI,qJ,qK);},concat:function(qL){return e.ofSeq(i.concat(qL));},contains:function(qM,qN){return j.contains(qM,qN);},countBy:function(qO,qP){var qQ;qQ=j.countBy(qO,qP);return i.toList(qQ);},distinct:function(qR){var qS;qS=j.distinct(qR);return i.toList(qS);},distinctBy:function(qT,qU){var qV;qV=j.distinctBy(qT,qU);return i.toList(qV);},exactlyOne:function(qW){var qX,qY,qZ;if(qW.$==1){if(qW.$1.$==0){qZ=qW.$0;qY=qZ;}else{qY=d.FailWith("The input does not have precisely one element.");}qX=qY;}else{qX=d.FailWith("The input does not have precisely one element.");}return qX;},except:function(q0,q1){var q2;q2=j.except(q0,q1);return i.toList(q2);},exists2:function(q3,q4,q5){return c.exists2(q3,c.ofSeq(q4),c.ofSeq(q5));},filter:function(q6,q7){return e.ofSeq(i.filter(q6,q7));},findBack:function(q8,q9){var q_,q$,ra;q_=e.tryFindBack(q8,q9);if(q_.$==0){q$=d.FailWith("KeyNotFoundException");}else{ra=q_.$0;q$=ra;}return q$;},findIndexBack:function(rb,rc){var rd,re,rf;rd=k.tryFindIndexBack(rb,c.ofSeq(rc));if(rd.$==0){re=d.FailWith("KeyNotFoundException");}else{rf=rd.$0;re=rf;}return re;},fold2:function(rg,rh,ri,rj){return c.fold2(rg,rh,c.ofSeq(ri),c.ofSeq(rj));},foldBack:function(rk,rl,rm){return c.foldBack(rk,c.ofSeq(rl),rm);},foldBack2:function(rn,ro,rp,rq){return c.foldBack2(rn,c.ofSeq(ro),c.ofSeq(rp),rq);},forall2:function(rr,rs,rt){return c.forall2(rr,c.ofSeq(rs),c.ofSeq(rt));},groupBy:function(ru,rv){var rw,rA,rB;rw=function(rx){var ry,rz;ry=rx[0];rz=rx[1];return[ry,i.toList(rz)];};rA=j.groupBy(ru,rv);rB=i.toList(rA);return e.map(rw,rB);},head:function(rC){var rD,rE;if(rC.$==1){rE=rC.$0;rD=rE;}else{rD=d.FailWith("The input list was empty.");}return rD;},indexed:function(rF){return e.mapi(function(rG){return function(rH){return[rG,rH];};},rF);},init:function(rI,rJ){return e.ofArray(c.init(rI,rJ));},iter2:function(rK,rL,rM){return c.iter2(rK,c.ofSeq(rL),c.ofSeq(rM));},iteri2:function(rN,rO,rP){return c.iteri2(rN,c.ofSeq(rO),c.ofSeq(rP));},last:function(rQ){return j.last(rQ);},map:function(rR,rS){return e.ofSeq(i.map(rR,rS));},map2:function(rT,rU,rV){return e.ofArray(c.map2(rT,c.ofSeq(rU),c.ofSeq(rV)));},mapFold:function(rW,rX,rY){var rZ,r0,r1;rZ=k.mapFold(rW,rX,c.ofSeq(rY));r0=rZ[0];r1=rZ[1];return[e.ofArray(r0),r1];},mapFoldBack:function(r2,r3,r4){var r5,r6,r7;r5=k.mapFoldBack(r2,c.ofSeq(r3),r4);r6=r5[0];r7=r5[1];return[e.ofArray(r6),r7];},mapi:function(r8,r9){return e.ofSeq(i.mapi(r8,r9));},mapi2:function(r_,r$,sa){return e.ofArray(c.mapi2(r_,c.ofSeq(r$),c.ofSeq(sa)));},max:function(sb){return i.reduce(function(sc){return function(sd){return d.Max(sc,sd);};},sb);},maxBy:function(se,sf){return i.reduce(function(sg){return function(sh){return a.Compare(se(sg),se(sh))===1?sg:sh;};},sf);},min:function(si){return i.reduce(function(sj){return function(sk){return d.Min(sj,sk);};},si);},minBy:function(sl,sm){return i.reduce(function(sn){return function(so){return a.Compare(sl(sn),sl(so))===-1?sn:so;};},sm);},ofArray:function(sp){var sq,sr;sq=$.New(Q,{$:0});for(sr=0;sr<=c.length(sp)-1;sr++){sq=$.New(Q,{$:1,$0:c.get(sp,c.length(sp)-sr-1),$1:sq});}return sq;},ofSeq:function(ss){var st,su,sv,sw,sx;st=$.New(Q,{$:0});su=st;sv=f.Get(ss);try{while(sv.MoveNext()){su.$=1;sx=$.New(Q,{$:0});su.$0=sv.get_Current();su.$1=sx;su=sx;}su.$=0;sw=st;}finally{sv.Dispose!=undefined?sv.Dispose():null;}return sw;},pairwise:function(sy){var sz;sz=j.pairwise(sy);return i.toList(sz);},partition:function(sA,sB){var sC,sD,sE;sC=c.partition(sA,c.ofSeq(sB));sD=sC[1];sE=sC[0];return[e.ofArray(sE),e.ofArray(sD)];},permute:function(sF,sG){return e.ofArray(c.permute(sF,c.ofSeq(sG)));},reduceBack:function(sH,sI){return c.reduceBack(sH,c.ofSeq(sI));},replicate:function(sJ,sK){return e.ofArray(c.create(sJ,sK));},rev:function(sL){var sM;sM=c.ofSeq(sL);sM.reverse();return e.ofArray(sM);},scan:function(sN,sO,sP){return e.ofSeq(i.scan(sN,sO,sP));},scanBack:function(sQ,sR,sS){return e.ofArray(c.scanBack(sQ,c.ofSeq(sR),sS));},singleton:function(sT){return e.ofArray([sT]);},sort:function(sU){var sV;sV=c.ofSeq(sU);c.sortInPlace(sV);return e.ofArray(sV);},sortBy:function(sW,sX){return e.sortWith(function(sY){return function(sZ){return d.Compare(sW(sY),sW(sZ));};},sX);},sortByDescending:function(s0,s1){return e.sortWith(function(s2){return function(s3){return-d.Compare(s0(s2),s0(s3));};},s1);},sortDescending:function(s4){var s5;s5=c.ofSeq(s4);k.sortInPlaceByDescending(function(s6){return s6;},s5);return e.ofArray(s5);},sortWith:function(s7,s8){var s9;s9=c.ofSeq(s8);c.sortInPlaceWith(s7,s9);return e.ofArray(s9);},splitAt:function(s_,s$){return[e.ofSeq(i.take(s_,s$)),y.skip(s_,s$)];},splitInto:function(ta,tb){var tc,te,tf;tc=function(td){return e.ofArray(td);};te=k.splitInto(ta,c.ofSeq(tb));tf=e.ofArray(te);return e.map(tc,tf);},tail:function(tg){var th,ti;if(tg.$==1){ti=tg.$1;th=ti;}else{th=d.FailWith("The input list was empty.");}return th;},tryFindBack:function(tj,tk){return k.tryFindBack(tj,c.ofSeq(tk));},tryHead:function(tl){var tm,tn;if(tl.$==0){tm={$:0};}else{tn=tl.$0;tm={$:1,$0:tn};}return tm;},tryItem:function(to,tp){return j.tryItem(to,tp);},tryLast:function(tq){return j.tryLast(tq);},unfold:function(tr,ts){var tt;tt=j.unfold(tr,ts);return i.toList(tt);},unzip:function(tu){var tv,tw,tx,ty,tz,tA,tB;tv=[];tw=[];tx=f.Get(tu);try{while(tx.MoveNext()){tz=tx.get_Current();tA=tz[1];tB=tz[0];tv.push(tB);tw.push(tA);}}finally{tx.Dispose!=undefined?tx.Dispose():null;}return[e.ofArray(tv.slice(0)),e.ofArray(tw.slice(0))];},unzip3:function(tC){var tD,tE,tF,tG,tH,tI,tJ,tK,tL;tD=[];tE=[];tF=[];tG=f.Get(tC);try{while(tG.MoveNext()){tI=tG.get_Current();tJ=tI[2];tK=tI[1];tL=tI[0];tD.push(tL);tE.push(tK);tF.push(tJ);}}finally{tG.Dispose!=undefined?tG.Dispose():null;}return[e.ofArray(tD.slice(0)),e.ofArray(tE.slice(0)),e.ofArray(tF.slice(0))];},windowed:function(tM,tN){var tO,tQ,tR;tO=function(tP){return e.ofArray(tP);};tQ=j.windowed(tM,tN);tR=i.map(tO,tQ);return i.toList(tR);},zip:function(tS,tT){return e.ofArray(c.zip(c.ofSeq(tS),c.ofSeq(tT)));},zip3:function(tU,tV,tW){return e.ofArray(c.zip3(c.ofSeq(tU),c.ofSeq(tV),c.ofSeq(tW)));}},MatchFailureException:$.Class({},{New:function(tX,tY,tZ){return $.New(this,u.New1(tX+" at "+$$.String(tY)+":"+$$.String(tZ)));}}),Nullable:{get:function(t0){return t0==null?d.FailWith("Nullable object must have a value."):t0;},getOrValue:function(t1,t2){return t1==null?t2:t1;}},OperationCanceledException:$.Class({},{New:function(){return $.New(this,I.New1("The operation was canceled."));},New1:function(t3){return $.New(this,u.New1(t3));}}),Operators:{Compare:function(t4,t5){return a.Compare(t4,t5);},DefaultArg:function(t6,t7){var t8,t9;if(t6.$==0){t8=t7;}else{t9=t6.$0;t8=t9;}return t8;},FailWith:function(t_){return d.Raise(u.New1(t_));},KeyValue:function(t$){return[t$.K,t$.V];},Max:function(ua,ub){return a.Compare(ua,ub)===1?ua:ub;},Min:function(uc,ud){return a.Compare(uc,ud)===-1?uc:ud;},Pown:function(ue,uf){var ug;ug=function(uh){var ui,uj,uk;if(uh===1){ui=ue;}else{if(uh%2===0){uk=ug(uh/2>>0);uj=uk*uk;}else{uj=ue*ug(uh-1);}ui=uj;}return ui;};return ug(uf);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(ul){return ul===0?0:ul<0?-1:1;},Truncate:function(um){return um<0?S.ceil(um):S.floor(um);},Using:function(un,uo){var up;try{up=uo(un);}finally{un.Dispose();}return up;},range:function(uq,ur){var us;us=1+ur-uq;return us<=0?i.empty():i.init(us,function(ut){return ut+uq;});},step:function(uu,uv,uw){var ux,uy,uA,uC;ux=d.Sign(uv);uy=function(uz){return ux*(uw-uz)>=0;};uA=i.initInfinite(function(uB){return uu+uB*uv;});uC=i.takeWhile(uy,uA);return uC;}},Option:{bind:function(uD,uE){var uF,uG;if(uE.$==0){uF={$:0};}else{uG=uE.$0;uF=uD(uG);}return uF;},exists:function(uH,uI){var uJ,uK;if(uI.$==0){uJ=false;}else{uK=uI.$0;uJ=uH(uK);}return uJ;},filter:function(uL,uM){var uN,uO;if(uM.$==1){uO=uM.$0;uN=uL(uO)?{$:1,$0:uO}:{$:0};}else{uN={$:0};}return uN;},fold:function(uP,uQ,uR){var uS,uT;if(uR.$==0){uS=uQ;}else{uT=uR.$0;uS=(uP(uQ))(uT);}return uS;},foldBack:function(uU,uV,uW){var uX,uY;if(uV.$==0){uX=uW;}else{uY=uV.$0;uX=(uU(uY))(uW);}return uX;},forall:function(uZ,u0){var u1,u2;if(u0.$==0){u1=true;}else{u2=u0.$0;u1=uZ(u2);}return u1;},iter:function(u3,u4){var u5,u6;if(u4.$==0){u5=null;}else{u6=u4.$0;u5=u3(u6);}return u5;},map:function(u7,u8){var u9,u_;if(u8.$==0){u9={$:0};}else{u_=u8.$0;u9={$:1,$0:u7(u_)};}return u9;},ofObj:function(u$){return u$==null?{$:0}:{$:1,$0:u$};},toArray:function(va){var vb,vc;if(va.$==0){vb=[];}else{vc=va.$0;vb=[vc];}return vb;},toList:function(vd){var ve,vf;if(vd.$==0){ve=$.New(Q,{$:0});}else{vf=vd.$0;ve=e.ofArray([vf]);}return ve;},toObj:function(vg){var vh,vi;if(vg.$==0){}else{vi=vg.$0;vh=vi;}return vh;}},PrintfHelpers:{padNumLeft:function(vj,vk){var vl;vl=c.get(vj,0);return((vl===" "?true:vl==="+")?true:vl==="-")?vl+T.PadLeftWith(vj.substr(1),vk-1,48):T.PadLeftWith(vj,vk,48);},plusForPos:function(vm,vn){return 0<=vm?"+"+vn:vn;},prettyPrint:function(vo){var vp,vz,vA,vB,vC,vD,vF;vp=function(vq){var vr,vs,vt,vx,vy;vr=$$.String(vq);if(vr==="[object Object]"){vt=function(vu){var vv,vw;vv=vu[0];vw=vu[1];return vv+" = "+U.prettyPrint(vw);};vx=s.GetFields(vq);vy=c.map(vt,vx);vs="{"+T.concat("; ",vy)+"}";}else{vs=vr;}return vs;};vz=typeof vo;if(vz=="string"){vA="\""+vo+"\"";}else{if(vz=="object"){if(vo instanceof $$.Array){vD=function(vE){return U.prettyPrint(vE);};vF=c.map(vD,vo);vC="[|"+T.concat("; ",vF)+"|]";}else{vC=vp(vo);}vB=vC;}else{vB=$$.String(vo);}vA=vB;}return vA;},printArray:function(vG,vH){var vI;vI=c.map(vG,vH);return"[|"+T.concat("; ",vI)+"|]";},printArray2D:function(vJ,vK){var vL;vL=i.delay(function(){var vN;vN=vK.length?vK[0].length:0;return i.map(function(vO){var vP;vP=i.delay(function(){return i.map(function(vR){return vJ(c.get2D(vK,vO,vR));},d.range(0,vN-1));});return T.concat("; ",vP);},d.range(0,vK.length-1));});return"[["+T.concat("][",vL)+"]]";},printList:function(vS,vT){var vU;vU=i.map(vS,vT);return"["+T.concat("; ",vU)+"]";},spaceForPos:function(vV,vW){return 0<=vV?" "+vW:vW;},toSafe:function(vX){return vX==null?"":vX;}},Queue:{Clear:function(vY){return vY.splice(0,c.length(vY));},Contains:function(vZ,v0){return i.exists(function(v1){return a.Equals(v0,v1);},vZ);},CopyTo:function(v2,v3,v4){return c.blit(v2,0,v3,v4,c.length(v2));}},Random:$.Class({Next:function(){return S.floor(S.random()*2147483648);},Next1:function(v5){return v5<0?d.FailWith("'maxValue' must be greater than zero."):S.floor(S.random()*v5);},Next2:function(v6,v7){var v8,v9;if(v6>v7){v8=d.FailWith("'minValue' cannot be greater than maxValue.");}else{v9=v7-v6;v8=v6+S.floor(S.random()*v9);}return v8;},NextBytes:function(v_){var v$;for(v$=0;v$<=c.length(v_)-1;v$++){c.set(v_,v$,S.floor(S.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return W.New();}),AjaxRemotingProvider:$.Class({},{Async:function(wa,wb){var wc,wd;wc=V.makeHeaders(wa);wd=V.makePayload(wb);return A.Delay(function(){var wf;wf=X.get_CancellationToken();return A.Bind(wf,function(wg){return A.FromContinuations(function(wh){var wi,wj,wk,wl,wm,wq,wt,ww;wi=wh[0];wj=wh[1];wk=wh[2];wl=[true];wm=A.Register(wg,function(){return function(){var wp;if(wl[0]){wl[0]=false;wp=wk(I.New());}else{wp=null;}return wp;}();});wq=function(wr){var ws;if(wl[0]){wl[0]=false;wm.Dispose();ws=wi(p.Activate(q.parse(wr)));}else{ws=null;}return ws;};wt=function(wu){var wv;if(wl[0]){wl[0]=false;wm.Dispose();wv=wj(wu);}else{wv=null;}return wv;};ww=V.EndPoint();return V.AjaxProvider().Async(ww,wc,wd,wq,wt);});});});},Send:function(wx,wy){return A.Start(A.Ignore(Y.Async(wx,wy)),{$:0});},Sync:function(wz,wA){var wB,wC,wD,wE;wB=V.EndPoint();wC=V.makeHeaders(wz);wD=V.makePayload(wA);wE=V.AjaxProvider().Sync(wB,wC,wD);return p.Activate(q.parse(wE));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var wF,wG,wH,wI;try{if(!T.StartsWith(Z.location.href,"https://")){wH=T.Replace(Z.location.href,"http://","https://");V.EndPoint=function(){return wH;};wG=true;}else{wG=false;}wF=wG;}catch(wI){wF=false;}return wF;},XhrProvider:$.Class({Async:function(wJ,wK,wL,wM,wN){return V.ajax(true,wJ,wK,wL,wM,wN,function(){return V.ajax(true,wJ,wK,wL,wM,wN,undefined);});},Sync:function(wP,wQ,wR){var wS;wS=[undefined];V.ajax(false,wP,wQ,wR,function(wT){wS[0]=wT;},function(wU){return d.Raise(wU);},function(){return V.ajax(false,wP,wQ,wR,function(wW){wS[0]=wW;},function(wX){return d.Raise(wX);},undefined);});return wS[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err,$csrf){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();var csrf=$$.document.cookie.replace(new $$.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}if(csrf){xhr.setRequestHeader("x-csrftoken",csrf);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else if($csrf&&xhr.status==403&&xhr.responseText=="CSRF"){$csrf();}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(wY){var wZ;wZ={};wZ["content-type"]="application/json";wZ["x-websharper-rpc"]=wY;return wZ;},makePayload:function(w0){return q.stringify(w0);}},Seq:{append:function(w1,w2){return h.Of(function(){var w4,w5;w4=f.Get(w1);w5=[true];return g.New(w4,null,function(w6){var w7,w8,w9,w_;if(w6.s.MoveNext()){w6.c=w6.s.get_Current();w7=true;}else{w8=w6.s;!a.Equals(w8,null)?w8.Dispose():null;w6.s=null;if(w5[0]){w5[0]=false;w6.s=f.Get(w2);if(w6.s.MoveNext()){w6.c=w6.s.get_Current();w_=true;}else{w6.s.Dispose();w6.s=null;w_=false;}w9=w_;}else{w9=false;}w7=w9;}return w7;},function(w$){var xa;xa=w$.s;return!a.Equals(xa,null)?xa.Dispose():null;});});},average:function(xb){var xc,xh,xi;xc=i.fold(function(xd){var xe,xf;xe=xd[0];xf=xd[1];return function(xg){return[xe+1,xf+xg];};},[0,0],xb);xh=xc[1];xi=xc[0];return xh/xi;},averageBy:function(xj,xk){var xl,xq,xr;xl=i.fold(function(xm){var xn,xo;xn=xm[0];xo=xm[1];return function(xp){return[xn+1,xo+xj(xp)];};},[0,0],xk);xq=xl[1];xr=xl[0];return xq/xr;},cache:function(xs){var xt,xu,xv;xt=[];xu=[f.Get(xs)];xv=function(){var xx;xx=function(xy){var xz,xA,xB,xC;if(xy.s+1<xt.length){xy.s=xy.s+1;xy.c=xt[xy.s];xz=true;}else{xA=xu[0];if(a.Equals(xA,null)){xB=false;}else{if(xA.MoveNext()){xy.s=xy.s+1;xy.c=xA.get_Current();xt.push(xy.get_Current());xC=true;}else{xA.Dispose();xu[0]=null;xC=false;}xB=xC;}xz=xB;}return xz;};return g.New(0,null,xx,function(){});};return h.Of(xv);},choose:function(xE,xF){var xG;xG=function(xH){var xI,xJ,xK;xI=xE(xH);if(xI.$==0){xJ=$.New(Q,{$:0});}else{xK=xI.$0;xJ=e.ofArray([xK]);}return xJ;};return i.collect(xG,xF);},collect:function(xL,xM){return i.concat(i.map(xL,xM));},concat:function(xN){return h.Of(function(){var xP,xQ;xP=f.Get(xN);xQ=function(xR){var xS,xT,xU,xV;xS=xR.s;if(a.Equals(xS,null)){if(xP.MoveNext()){xR.s=f.Get(xP.get_Current());xU=xQ(xR);}else{xP.Dispose();xU=false;}xT=xU;}else{if(xS.MoveNext()){xR.c=xS.get_Current();xV=true;}else{xR.Dispose();xR.s=null;xV=xQ(xR);}xT=xV;}return xT;};return g.New(null,null,xQ,function(xW){var xX;xX=xW.s;!a.Equals(xX,null)?xX.Dispose():null;return!a.Equals(xP,null)?xP.Dispose():null;});});},delay:function(xY){return h.Of(function(){return f.Get(xY(null));});},empty:function(){return[];},enumFinally:function(x0,x1){var x2;x2=function(){var x4,x5,x6,x7,x9;try{x5=f.Get(x0);}catch(x6){x1(null);x5=d.Raise(x6);}x4=x5;x7=function(){x4.Dispose();return x1(null);};x9=function(x_){var x$;if(x4.MoveNext()){x_.c=x4.get_Current();x$=true;}else{x$=false;}return x$;};return g.New(null,null,x9,x7);};return h.Of(x2);},enumUsing:function(ya,yb){var yc;yc=function(){var ye,yf,yg,yh,yj;try{yf=f.Get(yb(ya));}catch(yg){ya.Dispose();yf=d.Raise(yg);}ye=yf;yh=function(){ye.Dispose();return ya.Dispose();};yj=function(yk){var yl;if(ye.MoveNext()){yk.c=ye.get_Current();yl=true;}else{yl=false;}return yl;};return g.New(null,null,yj,yh);};return h.Of(yc);},enumWhile:function(ym,yn){return h.Of(function(){var yp;yp=function(yq){var yr,ys,yt,yu;yr=yq.s;if(a.Equals(yr,null)){if(ym(null)){yq.s=f.Get(yn);yt=yp(yq);}else{yt=false;}ys=yt;}else{if(yr.MoveNext()){yq.c=yr.get_Current();yu=true;}else{yr.Dispose();yq.s=null;yu=yp(yq);}ys=yu;}return ys;};return g.New(null,null,yp,function(yv){var yw;yw=yv.s;return!a.Equals(yw,null)?yw.Dispose():null;});});},exists:function(yx,yy){var yz,yA,yB;yz=f.Get(yy);try{yB=false;while(!yB?yz.MoveNext():false){yB=yx(yz.get_Current());}yA=yB;}finally{yz.Dispose!=undefined?yz.Dispose():null;}return yA;},exists2:function(yC,yD,yE){var yF,yG,yH,yI,yJ;yF=f.Get(yD);try{yH=f.Get(yE);try{yJ=false;while((!yJ?yF.MoveNext():false)?yH.MoveNext():false){yJ=(yC(yF.get_Current()))(yH.get_Current());}yI=yJ;}finally{yH.Dispose!=undefined?yH.Dispose():null;}yG=yI;}finally{yF.Dispose!=undefined?yF.Dispose():null;}return yG;},filter:function(yK,yL){var yM;yM=function(){var yO,yP,yR;yO=f.Get(yL);yP=function(){return yO.Dispose();};yR=function(yS){var yT,yU,yV,yW;yT=yO.MoveNext();yU=yO.get_Current();yV=false;while(yT){if(yK(yU)){yS.c=yU;yV=true;yW=yT=false;}else{yW=yO.MoveNext()?yU=yO.get_Current():yT=false;}}return yV;};return g.New(null,null,yR,yP);};return h.Of(yM);},find:function(yX,yY){var yZ,y0,y1;yZ=i.tryFind(yX,yY);if(yZ.$==0){y0=d.FailWith("KeyNotFoundException");}else{y1=yZ.$0;y0=y1;}return y0;},findBack:function(y2,y3){var y4,y5,y6;y4=k.tryFindBack(y2,c.ofSeq(y3));if(y4.$==0){y5=d.FailWith("KeyNotFoundException");}else{y6=y4.$0;y5=y6;}return y5;},findIndex:function(y7,y8){var y9,y_,y$;y9=i.tryFindIndex(y7,y8);if(y9.$==0){y_=d.FailWith("KeyNotFoundException");}else{y$=y9.$0;y_=y$;}return y_;},findIndexBack:function(za,zb){var zc,zd,ze;zc=k.tryFindIndexBack(za,c.ofSeq(zb));if(zc.$==0){zd=d.FailWith("KeyNotFoundException");}else{ze=zc.$0;zd=ze;}return zd;},fold:function(zf,zg,zh){var zi,zj,zk;zi=zg;zj=f.Get(zh);try{while(zj.MoveNext()){zi=(zf(zi))(zj.get_Current());}zk=zi;}finally{zj.Dispose!=undefined?zj.Dispose():null;}return zk;},fold2:function(zl,zm,zn,zo){return c.fold2(zl,zm,c.ofSeq(zn),c.ofSeq(zo));},foldBack:function(zp,zq,zr){return c.foldBack(zp,c.ofSeq(zq),zr);},foldBack2:function(zs,zt,zu,zv){return c.foldBack2(zs,c.ofSeq(zt),c.ofSeq(zu),zv);},forall:function(zw,zx){return!i.exists(function(zy){return!zw(zy);},zx);},forall2:function(zz,zA,zB){return!i.exists2(function(zC){return function(zD){return!(zz(zC))(zD);};},zA,zB);},head:function(zE){var zF,zG;zF=f.Get(zE);try{zG=zF.MoveNext()?zF.get_Current():j.insufficient();}finally{zF.Dispose!=undefined?zF.Dispose():null;}return zG;},indexed:function(zH){return i.mapi(function(zI){return function(zJ){return[zI,zJ];};},zH);},init:function(zK,zL){return i.take(zK,i.initInfinite(zL));},initInfinite:function(zM){var zN;zN=function(){var zP;zP=function(zQ){zQ.c=zM(zQ.s);zQ.s=zQ.s+1;return true;};return g.New(0,null,zP,function(){});};return h.Of(zN);},isEmpty:function(zS){var zT,zU;zT=f.Get(zS);try{zU=!zT.MoveNext();}finally{zT.Dispose!=undefined?zT.Dispose():null;}return zU;},iter:function(zV,zW){return i.iteri(function(){return function(zY){return zV(zY);};},zW);},iter2:function(zZ,z0,z1){var z2,z3,z4,z5;z2=f.Get(z0);try{z4=f.Get(z1);try{while(z2.MoveNext()?z4.MoveNext():false){(zZ(z2.get_Current()))(z4.get_Current());}}finally{z4.Dispose!=undefined?z4.Dispose():null;}z3=z5;}finally{z2.Dispose!=undefined?z2.Dispose():null;}return z3;},iteri:function(z6,z7){var z8,z9,z_;z8=0;z9=f.Get(z7);try{while(z9.MoveNext()){(z6(z8))(z9.get_Current());z8=z8+1;}}finally{z9.Dispose!=undefined?z9.Dispose():null;}return z_;},iteri2:function(z$,Aa,Ab){return c.iteri2(z$,c.ofSeq(Aa),c.ofSeq(Ab));},length:function(Ac){var Ad,Ae,Af;Ad=0;Ae=f.Get(Ac);try{while(Ae.MoveNext()){Ad=Ad+1;}Af=Ad;}finally{Ae.Dispose!=undefined?Ae.Dispose():null;}return Af;},map:function(Ag,Ah){var Ai;Ai=function(){var Ak,Al,An;Ak=f.Get(Ah);Al=function(){return Ak.Dispose();};An=function(Ao){var Ap;if(Ak.MoveNext()){Ao.c=Ag(Ak.get_Current());Ap=true;}else{Ap=false;}return Ap;};return g.New(null,null,An,Al);};return h.Of(Ai);},map2:function(Aq,Ar,As){var At;At=function(){var Av,Aw,Ax,Az;Av=f.Get(Ar);Aw=f.Get(As);Ax=function(){Av.Dispose();return Aw.Dispose();};Az=function(AA){var AB;if(Av.MoveNext()?Aw.MoveNext():false){AA.c=(Aq(Av.get_Current()))(Aw.get_Current());AB=true;}else{AB=false;}return AB;};return g.New(null,null,Az,Ax);};return h.Of(At);},map3:function(AC,AD,AE,AF){var AG;AG=function(){var AI,AJ,AK,AL,AN;AI=f.Get(AD);AJ=f.Get(AE);AK=f.Get(AF);AL=function(){AI.Dispose();AJ.Dispose();return AK.Dispose();};AN=function(AO){var AP;if((AI.MoveNext()?AJ.MoveNext():false)?AK.MoveNext():false){AO.c=((AC(AI.get_Current()))(AJ.get_Current()))(AK.get_Current());AP=true;}else{AP=false;}return AP;};return g.New(null,null,AN,AL);};return h.Of(AG);},mapFold:function(AQ,AR,AS){var AT,AU,AV;AT=k.mapFold(AQ,AR,i.toArray(AS));AU=AT[0];AV=AT[1];return[AU,AV];},mapFoldBack:function(AW,AX,AY){var AZ,A0,A1;AZ=k.mapFoldBack(AW,i.toArray(AX),AY);A0=AZ[0];A1=AZ[1];return[A0,A1];},mapi:function(A2,A3){return i.map2(A2,i.initInfinite(function(A4){return A4;}),A3);},mapi2:function(A5,A6,A7){return i.map3(A5,i.initInfinite(function(A8){return A8;}),A6,A7);},max:function(A9){return i.reduce(function(A_){return function(A$){return a.Compare(A_,A$)>=0?A_:A$;};},A9);},maxBy:function(Ba,Bb){return i.reduce(function(Bc){return function(Bd){return a.Compare(Ba(Bc),Ba(Bd))>=0?Bc:Bd;};},Bb);},min:function(Be){return i.reduce(function(Bf){return function(Bg){return a.Compare(Bf,Bg)<=0?Bf:Bg;};},Be);},minBy:function(Bh,Bi){return i.reduce(function(Bj){return function(Bk){return a.Compare(Bh(Bj),Bh(Bk))<=0?Bj:Bk;};},Bi);},nth:function(Bl,Bm){var Bn,Bo,Bp;Bl<0?d.FailWith("negative index requested"):null;Bn=-1;Bo=f.Get(Bm);try{while(Bn<Bl){!Bo.MoveNext()?j.insufficient():null;Bn=Bn+1;}Bp=Bo.get_Current();}finally{Bo.Dispose!=undefined?Bo.Dispose():null;}return Bp;},permute:function(Bq,Br){return i.delay(function(){return c.permute(Bq,c.ofSeq(Br));});},pick:function(Bt,Bu){var Bv,Bw,Bx;Bv=i.tryPick(Bt,Bu);if(Bv.$==0){Bw=d.FailWith("KeyNotFoundException");}else{Bx=Bv.$0;Bw=Bx;}return Bw;},readOnly:function(By){return h.Of(function(){return f.Get(By);});},reduce:function(BA,BB){var BC,BD,BE;BC=f.Get(BB);try{!BC.MoveNext()?d.FailWith("The input sequence was empty"):null;BE=BC.get_Current();while(BC.MoveNext()){BE=(BA(BE))(BC.get_Current());}BD=BE;}finally{BC.Dispose!=undefined?BC.Dispose():null;}return BD;},reduceBack:function(BF,BG){return c.reduceBack(BF,c.ofSeq(BG));},replicate:function(BH,BI){BH<0?j.nonNegative():null;return i.delay(function(){return i.map(function(){return BI;},d.range(0,BH-1));});},rev:function(BL){return i.delay(function(){var BN;BN=i.toArray(BL).slice().reverse();return BN;});},scan:function(BO,BP,BQ){var BR;BR=function(){var BT,BU,BW;BT=f.Get(BQ);BU=function(){return BT.Dispose();};BW=function(BX){var BY,BZ;if(BX.s){if(BT.MoveNext()){BX.c=(BO(BX.get_Current()))(BT.get_Current());BZ=true;}else{BZ=false;}BY=BZ;}else{BX.c=BP;BX.s=true;BY=true;}return BY;};return g.New(false,null,BW,BU);};return h.Of(BR);},scanBack:function(B0,B1,B2){return i.delay(function(){return c.scanBack(B0,c.ofSeq(B1),B2);});},skip:function(B4,B5){return h.Of(function(){var B7;B7=f.Get(B5);return g.New(true,null,function(B8){var B9,B_,B$;if(B8.s){for(B_=1;B_<=B4;B_++){!B7.MoveNext()?j.insufficient():null;}B9=void(B8.s=false);}else{B9=null;}if(B7.MoveNext()){B8.c=B7.get_Current();B$=true;}else{B$=false;}return B$;},function(){return B7.Dispose();});});},skipWhile:function(Cb,Cc){return h.Of(function(){var Ce;Ce=f.Get(Cc);return g.New(true,null,function(Cf){var Cg,Ch,Ci,Cj,Ck,Cl;if(Cf.s){Ch=true;Ci=false;while(Ch){if(Ce.MoveNext()){Cj=!Cb(Ce.get_Current())?Ch=false:null;}else{Ch=false;Cj=Ci=true;}}Cf.s=false;if(Ci){Ck=false;}else{Cf.c=Ce.get_Current();Ck=true;}Cg=Ck;}else{if(Ce.MoveNext()){Cf.c=Ce.get_Current();Cl=true;}else{Cl=false;}Cg=Cl;}return Cg;},function(){return Ce.Dispose();});});},sort:function(Cn){return i.sortBy(function(Co){return Co;},Cn);},sortBy:function(Cp,Cq){return i.delay(function(){var Cs;Cs=c.ofSeq(Cq);c.sortInPlaceBy(Cp,Cs);return Cs;});},sortByDescending:function(Ct,Cu){return i.delay(function(){var Cw;Cw=c.ofSeq(Cu);k.sortInPlaceByDescending(Ct,Cw);return Cw;});},sortDescending:function(Cx){return i.sortByDescending(function(Cy){return Cy;},Cx);},sortWith:function(Cz,CA){return i.delay(function(){var CC;CC=c.ofSeq(CA);c.sortInPlaceWith(Cz,CC);return CC;});},splitInto:function(CD,CE){CD<=0?d.FailWith("Count must be positive"):null;return i.delay(function(){var CG;CG=k.splitInto(CD,c.ofSeq(CE));return CG;});},sum:function(CH){return i.fold(function(CI){return function(CJ){return CI+CJ;};},0,CH);},sumBy:function(CK,CL){return i.fold(function(CM){return function(CN){return CM+CK(CN);};},0,CL);},tail:function(CO){return i.skip(1,CO);},take:function(CP,CQ){CP<0?j.nonNegative():null;return h.Of(function(){var CS;CS=[f.Get(CQ)];return g.New(0,null,function(CT){var CU,CV,CW,CX,CY;CT.s=CT.s+1;if(CT.s>CP){CU=false;}else{CV=CS[0];if(a.Equals(CV,null)){CW=j.insufficient();}else{if(CV.MoveNext()){CT.c=CV.get_Current();if(CT.s===CP){CV.Dispose();CY=void(CS[0]=null);}else{CY=null;}CX=true;}else{CV.Dispose();CS[0]=null;CX=j.insufficient();}CW=CX;}CU=CW;}return CU;},function(){var C0;C0=CS[0];return!a.Equals(C0,null)?C0.Dispose():null;});});},takeWhile:function(C1,C2){return i.delay(function(){return i.enumUsing(f.Get(C2),function(C4){return i.enumWhile(function(){return C4.MoveNext()?C1(C4.get_Current()):false;},i.delay(function(){return[C4.get_Current()];}));});});},toArray:function(C7){var C8,C9,C_,C$;C8=[];C9=f.Get(C7);try{while(C9.MoveNext()){C$=C9.get_Current();C8.push(C$);}}finally{C9.Dispose!=undefined?C9.Dispose():null;}return C8.slice(0);},toList:function(Da){return e.ofSeq(Da);},tryFind:function(Db,Dc){var Dd,De,Df,Dg;Dd=f.Get(Dc);try{Df={$:0};while(Df.$==0?Dd.MoveNext():false){Dg=Dd.get_Current();Db(Dg)?Df={$:1,$0:Dg}:null;}De=Df;}finally{Dd.Dispose!=undefined?Dd.Dispose():null;}return De;},tryFindIndex:function(Dh,Di){var Dj,Dk,Dl,Dm,Dn;Dj=f.Get(Di);try{Dl=true;Dm=0;while(Dl?Dj.MoveNext():false){Dn=Dj.get_Current();Dh(Dn)?Dl=false:Dm=Dm+1;}Dk=Dl?{$:0}:{$:1,$0:Dm};}finally{Dj.Dispose!=undefined?Dj.Dispose():null;}return Dk;},tryPick:function(Do,Dp){var Dq,Dr,Ds;Dq=f.Get(Dp);try{Ds={$:0};while(a.Equals(Ds,{$:0})?Dq.MoveNext():false){Ds=Do(Dq.get_Current());}Dr=Ds;}finally{Dq.Dispose!=undefined?Dq.Dispose():null;}return Dr;},zip:function(Dt,Du){return i.map2(function(Dv){return function(Dw){return[Dv,Dw];};},Dt,Du);},zip3:function(Dx,Dy,Dz){return i.map2(function(DA){return function(DB){var DC,DD;DC=DB[0];DD=DB[1];return[DA,DC,DD];};},Dx,i.zip(Dy,Dz));}},Slice:{array:function(DE,DF,DG){var DH,DI,DJ,DK,DL,DM,DN,DO;DH=[DF,DG];if(DH[0].$==0){if(DH[1].$==1){DK=DH[1].$0;DJ=DE.slice(0,DK+1);}else{DJ=[];}DI=DJ;}else{if(DH[1].$==0){DM=DH[0].$0;DL=DE.slice(DM);}else{DN=DH[1].$0;DO=DH[0].$0;DL=DE.slice(DO,DN+1);}DI=DL;}return DI;},array2D:function(DP,DQ,DR,DS,DT){var DU,DV,DW,DX,DY,DZ,D0,D1,D2,D3,D4,D5,D6,D7;if(DQ.$==1){DW=DQ.$0;DV=DW;}else{DV=0;}DU=DV;if(DS.$==1){DZ=DS.$0;DY=DZ;}else{DY=0;}DX=DY;if(DR.$==1){D2=DR.$0;D1=D2;}else{D1=DP.length-1;}D0=D1;if(DT.$==1){D5=DT.$0;D4=D5;}else{D4=(DP.length?DP[0].length:0)-1;}D3=D4;D6=D0-DU+1;D7=D3-DX+1;return c.sub2D(DP,DU,DX,D6,D7);},array2Dfix1:function(D8,D9,D_,D$){var Ea,Eb,Ec,Ed,Ee,Ef,Eg,Eh,Ei;if(D_.$==1){Ec=D_.$0;Eb=Ec;}else{Eb=0;}Ea=Eb;if(D$.$==1){Ef=D$.$0;Ee=Ef;}else{Ee=(D8.length?D8[0].length:0)-1;}Ed=Ee;Eg=Ed-Ea+1;Eh=b(Eg);for(Ei=0;Ei<=Eg-1;Ei++){c.set(Eh,Ei,c.get2D(D8,D9,Ea+Ei));}return Eh;},array2Dfix2:function(Ej,Ek,El,Em){var En,Eo,Ep,Eq,Er,Es,Et,Eu,Ev;if(Ek.$==1){Ep=Ek.$0;Eo=Ep;}else{Eo=0;}En=Eo;if(El.$==1){Es=El.$0;Er=Es;}else{Er=Ej.length-1;}Eq=Er;Et=Eq-En+1;Eu=b(Et);for(Ev=0;Ev<=Et-1;Ev++){c.set(Eu,Ev,c.get2D(Ej,En+Ev,Em));}return Eu;},setArray:function(Ew,Ex,Ey,Ez){var EA,EB,EC,ED,EE,EF;if(Ex.$==1){EC=Ex.$0;EB=EC;}else{EB=0;}EA=EB;if(Ey.$==1){EF=Ey.$0;EE=EF;}else{EE=Ew.length-1;}ED=EE;return c.setSub(Ew,EA,ED-EA+1,Ez);},setArray2D:function(EG,EH,EI,EJ,EK,EL){var EM,EN,EO,EP,EQ,ER,ES,ET,EU,EV,EW,EX;if(EH.$==1){EO=EH.$0;EN=EO;}else{EN=0;}EM=EN;if(EJ.$==1){ER=EJ.$0;EQ=ER;}else{EQ=0;}EP=EQ;if(EI.$==1){EU=EI.$0;ET=EU;}else{ET=EG.length-1;}ES=ET;if(EK.$==1){EX=EK.$0;EW=EX;}else{EW=(EG.length?EG[0].length:0)-1;}EV=EW;return c.setSub2D(EG,EM,EP,ES-EM+1,EV-EP+1,EL);},setArray2Dfix1:function(EY,EZ,E0,E1,E2){var E3,E4,E5,E6,E7,E8,E9,E_;if(E0.$==1){E5=E0.$0;E4=E5;}else{E4=0;}E3=E4;if(E1.$==1){E8=E1.$0;E7=E8;}else{E7=(EY.length?EY[0].length:0)-1;}E6=E7;E9=E6-E3+1;for(E_=0;E_<=E9-1;E_++){c.set2D(EY,EZ,E3+E_,c.get(E2,E_));}return;},setArray2Dfix2:function(E$,Fa,Fb,Fc,Fd){var Fe,Ff,Fg,Fh,Fi,Fj,Fk,Fl;if(Fa.$==1){Fg=Fa.$0;Ff=Fg;}else{Ff=0;}Fe=Ff;if(Fb.$==1){Fj=Fb.$0;Fi=Fj;}else{Fi=E$.length-1;}Fh=Fi;Fk=Fh-Fe+1;for(Fl=0;Fl<=Fk-1;Fl++){c.set2D(E$,Fe+Fl,Fc,c.get(Fd,Fl));}return;},string:function(Fm,Fn,Fo){var Fp,Fq,Fr,Fs,Ft,Fu,Fv,Fw;Fp=[Fn,Fo];if(Fp[0].$==0){if(Fp[1].$==1){Fs=Fp[1].$0;Fr=Fm.slice(0,Fs+1);}else{Fr="";}Fq=Fr;}else{if(Fp[1].$==0){Fu=Fp[0].$0;Ft=Fm.slice(Fu);}else{Fv=Fp[1].$0;Fw=Fp[0].$0;Ft=Fm.slice(Fw,Fv+1);}Fq=Ft;}return Fq;}},Stack:{Clear:function(Fx){return Fx.splice(0,c.length(Fx));},Contains:function(Fy,Fz){return i.exists(function(FA){return a.Equals(Fz,FA);},Fy);},CopyTo:function(FB,FC,FD){return c.blit(FC,0,FC,FD,c.length(FB));}},Strings:{Compare:function(FE,FF){return d.Compare(FE,FF);},CopyTo:function(FG,FH,FI,FJ,FK){return c.blit(T.ToCharArray(FG),FH,FI,FJ,FK);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},Filter:function(FL,FM){var FN,FP;FN=function(FO){return FL(FO)?{$:1,$0:_0.fromCharCode(FO)}:{$:0};};FP=i.choose(FN,FM);return c.ofSeq(FP).join("");},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},IsNullOrWhiteSpace:function($x){var $0=this,$this=this;return $x==null||(/^\s*$/).test($x);},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(FQ,FR){return T.PadLeftWith(FQ,FR,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s:$s;},PadRight:function(FS,FT){return T.PadRightWith(FS,FT,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c)):$s;},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(FU,FV,FW){var FX;FX=function(FY){var FZ,F0,F1,F2;FZ=FY.indexOf(FV);if(FZ!==-1){F1=T.ReplaceOnce(FY,FV,FW);F2=FZ+FW.length;F0=T.Substring(F1,0,FZ+FW.length)+FX(F1.substring(F2));}else{F0=FY;}return F0;};return FX(FU);},ReplaceChar:function(F3,F4,F5){return T.Replace(F3,_0.fromCharCode(F4),_0.fromCharCode(F5));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(F6,F7,F8){var F9;F9=T.SplitWith(F6,F7);return F8===1?c.filter(function(F_){return F_!=="";},F9):F9;},SplitChars:function(F$,Ga,Gb){var Gc;Gc="["+T.RegexEscape(_0.fromCharCode.apply(undefined,Ga))+"]";return T.Split(F$,new _1(Gc),Gb);},SplitStrings:function(Gd,Ge,Gf){var Gg;Gg=T.concat("|",c.map(function(Gh){return T.RegexEscape(Gh);},Ge));return T.Split(Gd,new _1(Gg),Gf);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(Gi){return c.init(Gi.length,function(Gj){return Gi.charCodeAt(Gj);});},ToCharArrayRange:function(Gk,Gl,Gm){return c.init(Gm,function(Gn){return Gk.charCodeAt(Gl+Gn);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(Go,Gp){return c.init(Gp.length,function(Gq){return Go(Gp.charCodeAt(Gq));}).join("");},concat:function(Gr,Gs){return i.toArray(Gs).join(Gr);},exists:function(Gt,Gu){return i.exists(Gt,T.protect(Gu));},forall:function(Gv,Gw){return i.forall(Gv,T.protect(Gw));},init:function(Gx,Gy){return c.init(Gx,Gy).join("");},iter:function(Gz,GA){return i.iter(Gz,T.protect(GA));},iteri:function(GB,GC){return i.iteri(GB,T.protect(GC));},length:function(GD){return T.protect(GD).length;},map:function(GE,GF){return T.collect(function(GG){return _0.fromCharCode(GE(GG));},T.protect(GF));},mapi:function(GH,GI){return i.toArray(i.mapi(function(GJ){return function(GK){return _0.fromCharCode((GH(GJ))(GK));};},GI)).join("");},protect:function(GL){return GL===null?"":GL;},replicate:function(GM,GN){return T.init(GM,function(){return GN;});}},TimeoutException:$.Class({},{New:function(){return $.New(this,L.New1("The operation has timed out."));},New1:function(GP){return $.New(this,u.New1(GP));}}),Unchecked:{Compare:function(GQ,GR){var GS,G2,G3,G4,G5;GS=function(GT){return function(GU){var GV;GV=[0];s.ForEach(GT,function(GW){var GX,GY;if(!GT.hasOwnProperty(GW)){GX=false;}else{if(!GU.hasOwnProperty(GW)){GV[0]=1;GY=true;}else{GV[0]=a.Compare(GT[GW],GU[GW]);GY=GV[0]!==0;}GX=GY;}return GX;});GV[0]===0?s.ForEach(GU,function(GZ){var G0,G1;if(!GU.hasOwnProperty(GZ)){G0=false;}else{if(!GT.hasOwnProperty(GZ)){GV[0]=-1;G1=true;}else{G1=false;}G0=G1;}return G0;}):null;return GV[0];};};if(GQ===GR){G2=0;}else{G3=typeof GQ;if(G3==="function"){G4=d.FailWith("Cannot compare function values.");}else{if(G3==="boolean"){G4=GQ<GR?-1:1;}else{if(G3==="number"){G4=GQ<GR?-1:1;}else{if(G3==="string"){G4=GQ<GR?-1:1;}else{if(G3==="object"){G4=GQ===null?-1:GR===null?1:"CompareTo"in GQ?GQ.CompareTo(GR):(GQ instanceof b?GR instanceof b:false)?a.compareArrays(GQ,GR):(GQ instanceof J?GR instanceof J:false)?a.compareDates(GQ,GR):(GS(GQ))(GR);}else{G5=typeof GR;G4=G5==="undefined"?0:-1;}}}}}G2=G4;}return G2;},Equals:function(G6,G7){var G8,Hc,Hd;G8=function(G9){return function(G_){var G$;G$=[true];s.ForEach(G9,function(Ha){G$[0]=!G9.hasOwnProperty(Ha)?true:G_.hasOwnProperty(Ha)?a.Equals(G9[Ha],G_[Ha]):false;return!G$[0];});G$[0]?s.ForEach(G_,function(Hb){G$[0]=!G_.hasOwnProperty(Hb)?true:G9.hasOwnProperty(Hb);return!G$[0];}):null;return G$[0];};};if(G6===G7){Hc=true;}else{Hd=typeof G6;Hc=Hd==="object"?(((G6===null?true:G6===undefined)?true:G7===null)?true:G7===undefined)?false:"Equals"in G6?G6.Equals(G7):(G6 instanceof b?G7 instanceof b:false)?a.arrayEquals(G6,G7):(G6 instanceof J?G7 instanceof J:false)?a.dateEquals(G6,G7):(G8(G6))(G7):false;}return Hc;},Hash:function(He){var Hf;Hf=typeof He;return Hf==="function"?0:Hf==="boolean"?He?1:0:Hf==="number"?He:Hf==="string"?a.hashString(He):Hf==="object"?He==null?0:He instanceof b?a.hashArray(He):a.hashObject(He):0;},arrayEquals:function(Hg,Hh){var Hi,Hj,Hk;if(c.length(Hg)===c.length(Hh)){Hj=true;Hk=0;while(Hj?Hk<c.length(Hg):false){!a.Equals(c.get(Hg,Hk),c.get(Hh,Hk))?Hj=false:null;Hk=Hk+1;}Hi=Hj;}else{Hi=false;}return Hi;},compareArrays:function(Hl,Hm){var Hn,Ho,Hp,Hq;if(c.length(Hl)<c.length(Hm)){Hn=-1;}else{if(c.length(Hl)>c.length(Hm)){Ho=1;}else{Hp=0;Hq=0;while(Hp===0?Hq<c.length(Hl):false){Hp=a.Compare(c.get(Hl,Hq),c.get(Hm,Hq));Hq=Hq+1;}Ho=Hp;}Hn=Ho;}return Hn;},compareDates:function(Hr,Hs){return d.Compare(Hr.getTime(),Hs.getTime());},dateEquals:function(Ht,Hu){return Ht.getTime()===Hu.getTime();},hashArray:function(Hv){var Hw,Hx;Hw=-34948909;for(Hx=0;Hx<=c.length(Hv)-1;Hx++){Hw=a.hashMix(Hw,a.Hash(c.get(Hv,Hx)));}return Hw;},hashMix:function(Hy,Hz){return(Hy<<5)+Hy+Hz;},hashObject:function(HA){var HB,HC,HF;if("GetHashCode"in HA){HB=HA.GetHashCode();}else{HC=function(HD,HE){return a.hashMix(HD,HE);};HF=[0];s.ForEach(HA,function(HG){HF[0]=HC(HC(HF[0],a.hashString(HG)),a.Hash(HA[HG]));return false;});HB=HF[0];}return HB;},hashString:function(HH){var HI,HJ,HK;if(HH===null){HI=0;}else{HJ=5381;for(HK=0;HK<=HH.length-1;HK++){HJ=a.hashMix(HJ,HH.charCodeAt(HK)<<0);}HI=HJ;}return HI;}},Util:{addListener:function(HL,HM){HL.Subscribe(G.observer(HM));},observer:function(HN){return{OnCompleted:function(){},OnError:function(){},OnNext:HN};},subscribeTo:function(HQ,HR){return HQ.Subscribe(G.observer(HR));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Operators);e=$.Safe($$.WebSharper.List);f=$.Safe($$.WebSharper.Enumerator);g=$.Safe(f.T);h=$.Safe($$.WebSharper.Enumerable);i=$.Safe($$.WebSharper.Seq);j=$.Safe($$.Seq);k=$.Safe($$.Arrays);l=$.Safe($$.WebSharper.Ref);m=$.Safe($$.WebSharper.Activator);n=$.Safe($$.document);o=$.Safe($$.jQuery);p=$.Safe($$.WebSharper.Json);q=$.Safe($$.JSON);r=$.Safe($$.WebSharper.JavaScript);s=$.Safe(r.JSModule);t=$.Safe($$.WebSharper.AggregateException);u=$.Safe($$.WebSharper.Exception);v=$.Safe($$.WebSharper.ArgumentException);w=$.Safe($$.Number);x=$.Safe($$.WebSharper.IndexOutOfRangeException);y=$.Safe($$.List);z=$.Safe($$.WebSharper.Arrays2D);A=$.Safe($$.WebSharper.Concurrency);B=$.Safe($$.WebSharper.Option);C=$.Safe($$.clearTimeout);D=$.Safe($$.setTimeout);E=$.Safe($$.WebSharper.CancellationTokenSource);F=$.Safe($$.WebSharper.Char);G=$.Safe($$.WebSharper.Util);H=$.Safe($$.WebSharper.Lazy);I=$.Safe($$.WebSharper.OperationCanceledException);J=$.Safe($$.Date);K=$.Safe($$.console);L=$.Safe($$.WebSharper.TimeoutException);M=$.Safe(A.Scheduler);N=$.Safe($$.WebSharper.HtmlContentExtensions);O=$.Safe(N.SingleNode);P=$.Safe($$.WebSharper.InvalidOperationException);Q=$.Safe(e.T);R=$.Safe($$.WebSharper.MatchFailureException);S=$.Safe($$.Math);T=$.Safe($$.WebSharper.Strings);U=$.Safe($$.WebSharper.PrintfHelpers);V=$.Safe($$.WebSharper.Remoting);W=$.Safe(V.XhrProvider);X=$.Safe($$.WebSharper.AsyncProxy);Y=$.Safe(V.AjaxRemotingProvider);Z=$.Safe($$.window);_0=$.Safe($$.String);return _1=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(t,u);$.Inherit(v,u);$.Inherit(x,u);$.Inherit(P,u);$.Inherit(R,u);$.Inherit(I,u);$.Inherit(L,u);V.EndPoint();V.AjaxProvider();A.scheduler();A.defCTS();A.GetCT();m.Activate();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;$.Define($$,{WebSharper:{Collections:{BalancedTree:{Add:function(D,E){return b.Put(function(){return function(G){return G;};},D,E);},Branch:function(H,I,J){return{Node:H,Left:I,Right:J,Height:1+c.Max(I==null?0:I.Height,J==null?0:J.Height),Count:1+(I==null?0:I.Count)+(J==null?0:J.Count)};},Build:function(K,L,M){var N,O,P,Q,R;N=M-L+1;if(N<=0){O=null;}else{P=(L+M)/2>>0;Q=b.Build(K,L,P-1);R=b.Build(K,P+1,M);O=b.Branch(d.get(K,P),Q,R);}return O;},Contains:function(S,T){return!((b.Lookup(S,T))[0]==null);},Enumerate:function(U,V){var W;W=function(X){var Y,Z,_0,_1,_2,_3,_4;Y=X[0];Z=X[1];if(Y==null){if(Z.$==1){_2=Z.$0[0];_3=Z.$1;_4=Z.$0[1];_1={$:1,$0:[_2,[_4,_3]]};}else{_1={$:0};}_0=_1;}else{_0=U?W([Y.Right,$.New(g,{$:1,$0:[Y.Node,Y.Left],$1:Z})]):W([Y.Left,$.New(g,{$:1,$0:[Y.Node,Y.Right],$1:Z})]);}return _0;};return e.unfold(W,[V,$.New(g,{$:0})]);},Lookup:function(_5,_6){var _7,_8,_9,_,ba,bb;_7=[];_8=_6;_9=true;while(_9){if(_8==null){_=_9=false;}else{ba=c.Compare(_5,_8.Node);if(ba===0){bb=_9=false;}else{if(ba===1){_7.unshift([true,_8.Node,_8.Left]);bb=_8=_8.Right;}else{_7.unshift([false,_8.Node,_8.Right]);bb=_8=_8.Left;}}_=bb;}}return[_8,_7];},OfSeq:function(bb){var bc;bc=d.sort(h.toArray(e.distinct(bb)));return b.Build(bc,0,bc.length-1);},Put:function(bd,be,bf){var bg,bh,bi;bg=b.Lookup(be,bf);bh=bg[0];bi=bg[1];return bh==null?b.Rebuild(bi,b.Branch(be,null,null)):b.Rebuild(bi,b.Branch((bd(bh.Node))(be),bh.Left,bh.Right));},Rebuild:function(bj,bk){var bl,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA;bl=function(bm){return bm==null?0:bm.Height;};bn=bk;for(bo=0;bo<=d.length(bj)-1;bo++){bp=d.get(bj,bo);if(bp[0]){br=bp[1];bs=bp[2];if(bl(bn)>bl(bs)+1){if(bl(bn.Left)===bl(bn.Right)+1){bv=bn.Left;bu=b.Branch(bv.Node,b.Branch(br,bs,bv.Left),b.Branch(bn.Node,bv.Right,bn.Right));}else{bu=b.Branch(bn.Node,b.Branch(br,bs,bn.Left),bn.Right);}bt=bu;}else{bt=b.Branch(br,bs,bn);}bq=bt;}else{bw=bp[1];bx=bp[2];if(bl(bn)>bl(bx)+1){if(bl(bn.Right)===bl(bn.Left)+1){bA=bn.Right;bz=b.Branch(bA.Node,b.Branch(bn.Node,bn.Left,bA.Left),b.Branch(bw,bA.Right,bx));}else{bz=b.Branch(bn.Node,bn.Left,b.Branch(bw,bn.Right,bx));}by=bz;}else{by=b.Branch(bw,bn,bx);}bq=by;}bn=bq;}return bn;},Remove:function(bB,bC){var bD,bE,bF,bG,bH,bI,bJ,bK,bL;bD=b.Lookup(bB,bC);bE=bD[0];bF=bD[1];if(bE==null){bG=bC;}else{if(bE.Right==null){bH=b.Rebuild(bF,bE.Left);}else{if(bE.Left==null){bI=b.Rebuild(bF,bE.Right);}else{bJ=h.append(b.Enumerate(false,bE.Left),b.Enumerate(false,bE.Right));bK=h.toArray(bJ);bL=b.Build(bK,0,bK.length-1);bI=b.Rebuild(bF,bL);}bH=bI;}bG=bH;}return bG;},TryFind:function(bM,bN){var bO;bO=(b.Lookup(bM,bN))[0];return bO==null?{$:0}:{$:1,$0:bO.Node};}},Dictionary:$.Class({Add:function(bP,bQ){var bR,bS;bR=this.hash.call(null,bP);if(this.data.hasOwnProperty(bR)){bS=c.FailWith("An item with the same key has already been added.");}else{this.data[bR]={K:bP,V:bQ};bS=void(this.count=this.count+1);}return bS;},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bT){return this.data.hasOwnProperty(this.hash.call(null,bT));},GetEnumerator:function(){var bU;bU=j.GetFieldValues(this.data);return k.Get(bU);},Remove:function(bV){var bW,bX;bW=this.hash.call(null,bV);if(this.data.hasOwnProperty(bW)){j.Delete(this.data,bW);this.count=this.count-1;bX=true;}else{bX=false;}return bX;},get_Item:function(bY){var bZ,b0,b1;bZ=this.hash.call(null,bY);if(this.data.hasOwnProperty(bZ)){b1=this.data[bZ];b0=b1.V;}else{b0=l.notPresent();}return b0;},set_Item:function(b2,b3){var b4;b4=this.hash.call(null,b2);!this.data.hasOwnProperty(b4)?void(this.count=this.count+1):null;this.data[b4]={K:b2,V:b3};return;}},{New:function(b5){return $.New(this,m.New4(b5,function(b6){return function(b7){return n.Equals(b6,b7);};},function(b8){return n.Hash(b8);}));},New1:function(b9,b_){return $.New(this,m.New4(b9,function(b$){return function(ca){return b_.Equals(b$,ca);};},function(cb){return b_.GetHashCode(cb);}));},New11:function(cc,cd){return $.New(this,m.New3(cd));},New12:function(){return $.New(this,m.New4([],function(ce){return function(cf){return n.Equals(ce,cf);};},function(cg){return n.Hash(cg);}));},New2:function(){return $.New(this,m.New12());},New3:function(ci){return $.New(this,m.New4([],function(cj){return function(ck){return ci.Equals(cj,ck);};},function(cl){return ci.GetHashCode(cl);}));},New4:function(cm,cn,co){var cp,cq,cr,cs,ct;cp=$.New(this,{});cp.hash=co;cp.count=0;cp.data={};cq=k.Get(cm);try{while(cq.MoveNext()){cs=cq.get_Current();ct=cs.K;cp.data[cp.hash.call(null,ct)]=cs.V;}}finally{cq.Dispose!=undefined?cq.Dispose():null;}return cp;}}),DictionaryUtil:{notPresent:function(){return c.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(cu,cv){var cw,cx;cw=this.tree;cx=$.New(p,{Key:cu,Value:cv});return o.New(b.Add(cx,cw));},CompareTo:function(cy){return e.compareWith(function(cz){return function(cA){return c.Compare(cz,cA);};},this,cy);},ContainsKey:function(cB){var cC,cD;cC=this.tree;cD=$.New(p,{Key:cB,Value:undefined});return b.Contains(cD,cC);},Equals:function(cE){return this.get_Count()===cE.get_Count()?h.forall2(function(cF){return function(cG){return n.Equals(cF,cG);};},this,cE):false;},GetEnumerator:function(){var cH,cJ,cK;cH=function(cI){return{K:cI.Key,V:cI.Value};};cJ=b.Enumerate(false,this.tree);cK=h.map(cH,cJ);return k.Get(cK);},GetHashCode:function(){return n.Hash(h.toArray(this));},Remove:function(cL){var cM,cN;cM=this.tree;cN=$.New(p,{Key:cL,Value:undefined});return o.New(b.Remove(cN,cM));},TryFind:function(cO){var cP,cQ,cR,cT;cP=this.tree;cQ=$.New(p,{Key:cO,Value:undefined});cR=function(cS){return cS.Value;};cT=b.TryFind(cQ,cP);return q.map(cR,cT);},get_Count:function(){var cU;cU=this.tree;return cU==null?0:cU.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cV){var cW,cX,cY;cW=this.TryFind(cV);if(cW.$==0){cX=c.FailWith("The given key was not present in the dictionary.");}else{cY=cW.$0;cX=cY;}return cX;},get_Tree:function(){return this.tree;}},{New:function(cZ){var c0;c0=$.New(this,{});c0.tree=cZ;return c0;},New1:function(c1){return $.New(this,o.New(r.fromSeq(c1)));}}),FSharpSet:$.Class({Add:function(c2){return s.New1(b.Add(c2,this.tree));},CompareTo:function(c3){return e.compareWith(function(c4){return function(c5){return c.Compare(c4,c5);};},this,c3);},Contains:function(c6){return b.Contains(c6,this.tree);},Equals:function(c7){return this.get_Count()===c7.get_Count()?h.forall2(function(c8){return function(c9){return n.Equals(c8,c9);};},this,c7):false;},GetEnumerator:function(){return k.Get(b.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(h.toArray(this));},IsProperSubsetOf:function(c_){return this.IsSubsetOf(c_)?this.get_Count()<c_.get_Count():false;},IsProperSupersetOf:function(c$){return this.IsSupersetOf(c$)?this.get_Count()>c$.get_Count():false;},IsSubsetOf:function(da){return h.forall(function(db){return da.Contains(db);},this);},IsSupersetOf:function(dc){var de=this;return h.forall(function(dd){return de.Contains(dd);},dc);},Remove:function(df){return s.New1(b.Remove(df,this.tree));},add:function(dg){return s.New1(b.OfSeq(h.append(this,dg)));},get_Count:function(){var dh;dh=this.tree;return dh==null?0:dh.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return h.head(b.Enumerate(true,this.tree));},get_MinimumElement:function(){return h.head(b.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(di){return t.Filter(function(dj){return!di.Contains(dj);},this);}},{New:function(dk){return $.New(this,s.New1(u.ofSeq(dk)));},New1:function(dl){var dm;dm=$.New(this,{});dm.tree=dl;return dm;}}),HashSetProxy:$.Class({Add:function(dn){return this.add(dn);},Clear:function(){this.data=v.prototype.constructor.apply(v,[]);this.count=0;return;},Contains:function(_do){var dp;dp=this.data[this.hash.call(null,_do)];return dp==null?false:this.arrContains(_do,dp);},CopyTo:function(dq){var dr,ds,dt;dr=0;ds=w.concat(this.data);for(dt=0;dt<=ds.length-1;dt++){d.set(dq,dt,ds[dt]);}return;},ExceptWith:function(du){var dv,dw,dx,dy;dv=k.Get(du);try{while(dv.MoveNext()){dx=dv.get_Current();dy=this.Remove(dx);}}finally{dv.Dispose!=undefined?dv.Dispose():null;}return dw;},GetEnumerator:function(){return k.Get(w.concat(this.data));},IntersectWith:function(dz){var dA,dB,dC,dD,dE,dF,dG;dA=x.New3(dz,this.equals,this.hash);dB=w.concat(this.data);for(dC=0;dC<=dB.length-1;dC++){dD=dB[dC];dE=dA.Contains(dD);if(!dE){dG=this.Remove(dD);dF=void dG;}else{dF=null;}}return;},IsProperSubsetOf:function(dH){var dI;dI=d.ofSeq(dH);return this.count<d.length(dI)?this.IsSubsetOf(dI):false;},IsProperSupersetOf:function(dJ){var dK;dK=d.ofSeq(dJ);return this.count>d.length(dK)?this.IsSupersetOf(dK):false;},IsSubsetOf:function(dL){var dM,dN,dP;dM=x.New3(dL,this.equals,this.hash);dN=function(dO){return dM.Contains(dO);};dP=w.concat(this.data);return h.forall(dN,dP);},IsSupersetOf:function(dQ){var dR,dT=this;dR=function(dS){return dT.Contains(dS);};return h.forall(dR,dQ);},Overlaps:function(dU){var dV,dX=this;dV=function(dW){return dX.Contains(dW);};return h.exists(dV,dU);},Remove:function(dY){var dZ,d0,d1,d2;dZ=this.hash.call(null,dY);d0=this.data[dZ];if(d0==null){d1=false;}else{if(this.arrRemove(dY,d0)){this.count=this.count-1;d2=true;}else{d2=false;}d1=d2;}return d1;},RemoveWhere:function(d3){var d4,d5,d6,d7,d8;d4=w.concat(this.data);for(d5=0;d5<=d4.length-1;d5++){d6=d4[d5];if(d3(d6)){d8=this.Remove(d6);d7=void d8;}else{d7=null;}}return;},SetEquals:function(d9){var d_;d_=x.New3(d9,this.equals,this.hash);return this.get_Count()===d_.get_Count()?this.IsSupersetOf(d_):false;},SymmetricExceptWith:function(d$){var ea,eb,ec,ed,ee,ef;ea=k.Get(d$);try{while(ea.MoveNext()){ec=ea.get_Current();if(this.Contains(ec)){ee=this.Remove(ec);ed=void ee;}else{ef=this.Add(ec);ed=void ef;}}}finally{ea.Dispose!=undefined?ea.Dispose():null;}return eb;},UnionWith:function(eg){var eh,ei,ej,ek;eh=k.Get(eg);try{while(eh.MoveNext()){ej=eh.get_Current();ek=this.Add(ej);}}finally{eh.Dispose!=undefined?eh.Dispose():null;}return ei;},add:function(el){var em,en,eo,ep,eq;em=this.hash.call(null,el);en=this.data[em];if(en==null){this.data[em]=[el];this.count=this.count+1;eo=true;}else{if(this.arrContains(el,en)){ep=false;}else{eq=en.push(el);this.count=this.count+1;ep=true;}eo=ep;}return eo;},arrContains:function(er,es){var et,eu,ev;et=true;eu=0;ev=es.length;while(et?eu<ev:false){(this.equals.call(null,es[eu]))(er)?et=false:eu=eu+1;}return!et;},arrRemove:function(ew,ex){var ey,ez,eA,eB,eC,eD,eE;ey=true;ez=0;eA=ex.length;while(ey?ez<eA:false){if((this.equals.call(null,ex[ez]))(ew)){eC=ez;eD=[];eE=ex.splice.apply(ex,[eC,1].concat(eD));eB=ey=false;}else{eB=ez=ez+1;}}return!ey;},get_Count:function(){return this.count;}},{New:function(eF){return $.New(this,x.New3(eF,function(eG){return function(eH){return n.Equals(eG,eH);};},function(eI){return n.Hash(eI);}));},New1:function(eJ){return $.New(this,x.New3(h.empty(),function(eK){return function(eL){return eJ.Equals(eK,eL);};},function(eM){return eJ.GetHashCode(eM);}));},New11:function(){return $.New(this,x.New3(h.empty(),function(eN){return function(eO){return n.Equals(eN,eO);};},function(eP){return n.Hash(eP);}));},New2:function(eQ,eR){return $.New(this,x.New3(eQ,function(eS){return function(eT){return eR.Equals(eS,eT);};},function(eU){return eR.GetHashCode(eU);}));},New3:function(eV,eW,eX){var eY,eZ,e0,e1,e2;eY=$.New(this,{});eY.equals=eW;eY.hash=eX;eY.data=v.prototype.constructor.apply(v,[]);eY.count=0;eZ=k.Get(eV);try{while(eZ.MoveNext()){e1=eZ.get_Current();e2=eY.add(e1);}}finally{eZ.Dispose!=undefined?eZ.Dispose():null;}return eY;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}},LinkedList:{E:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(e3){var e4;e4=$.New(this,{});e4.c=e3;return e4;}}),T:$.Class({AddAfter:function(e5,e6){var e7,e8,e9;e7=e5.n;e8={p:e5,n:e7,v:e6};n.Equals(e5.n,null)?void(this.p=e8):null;e5.n=e8;if(!n.Equals(e7,null)){e7.p=e8;e9=e8;}else{e9=null;}this.c=this.c+1;return e8;},AddBefore:function(e_,e$){var fa,fb,fc;fa=e_.p;fb={p:fa,n:e_,v:e$};n.Equals(e_.p,null)?void(this.n=fb):null;e_.p=fb;if(!n.Equals(fa,null)){fa.n=fb;fc=fb;}else{fc=null;}this.c=this.c+1;return fb;},AddFirst:function(fd){var fe,ff;if(this.c===0){ff={p:null,n:null,v:fd};this.n=ff;this.p=this.n;this.c=1;fe=ff;}else{fe=this.AddBefore(this.n,fd);}return fe;},AddLast:function(fg){var fh,fi;if(this.c===0){fi={p:null,n:null,v:fg};this.n=fi;this.p=this.n;this.c=1;fh=fi;}else{fh=this.AddAfter(this.p,fg);}return fh;},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(fj){var fk,fl;fk=false;fl=this.n;while(!n.Equals(fl,null)?!fk:false){fl.v==fj?fk=true:fl=fl.n;}return fk;},Find:function(fm){var fn,fo;fn=this.n;fo=true;while(fo?!n.Equals(fn,null):false){fn.v==fm?fo=false:fn=fn.n;}return fo?null:fn;},FindLast:function(fp){var fq,fr;fq=this.p;fr=true;while(fr?!n.Equals(fq,null):false){fq.v==fp?fr=false:fq=fq.p;}return fr?null:fq;},GetEnumerator:function(){return z.New(this);},Remove:function(fs){var ft,fu,fv,fw;ft=fs.p;fu=fs.n;if(n.Equals(ft,null)){fv=void(this.n=fu);}else{ft.n=fu;fv=fu;}if(n.Equals(fu,null)){fw=void(this.p=ft);}else{fu.p=ft;fw=ft;}this.c=this.c-1;return;},Remove1:function(fx){var fy,fz;fy=this.Find(fx);if(n.Equals(fy,null)){fz=false;}else{this.Remove(fy);fz=true;}return fz;},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,A.New1(h.empty()));},New1:function(fA){var fB,fC,fD,fE;fB=$.New(this,{});fB.c=0;fB.n=null;fB.p=null;fC=k.Get(fA);if(fC.MoveNext()){fB.n={p:null,n:null,v:fC.get_Current()};fB.p=fB.n;fD=void(fB.c=1);}else{fD=null;}while(fC.MoveNext()){fE={p:fB.p,n:null,v:fC.get_Current()};fB.p.n=fE;fB.p=fE;fB.c=fB.c+1;}return fB;}})},MapModule:{Exists:function(fF,fG){var fH;fH=function(fI){return(fF(fI.K))(fI.V);};return h.exists(fH,fG);},Filter:function(fJ,fK){var fL,fN,fO,fP,fQ;fL=function(fM){return(fJ(fM.Key))(fM.Value);};fN=b.Enumerate(false,fK.get_Tree());fO=h.filter(fL,fN);fP=h.toArray(fO);fQ=b.Build(fP,0,fP.length-1);return o.New(fQ);},FindKey:function(fR,fS){var fT;fT=function(fU){return(fR(fU.K))(fU.V)?{$:1,$0:fU.K}:{$:0};};return h.pick(fT,fS);},Fold:function(fV,fW,fX){var fY,f1;fY=function(fZ){return function(f0){return((fV(fZ))(f0.Key))(f0.Value);};};f1=b.Enumerate(false,fX.get_Tree());return h.fold(fY,fW,f1);},FoldBack:function(f2,f3,f4){var f5,f8;f5=function(f6){return function(f7){return((f2(f7.Key))(f7.Value))(f6);};};f8=b.Enumerate(true,f3.get_Tree());return h.fold(f5,f4,f8);},ForAll:function(f9,f_){var f$;f$=function(ga){return(f9(ga.K))(ga.V);};return h.forall(f$,f_);},Iterate:function(gb,gc){var gd;gd=function(ge){return(gb(ge.K))(ge.V);};return h.iter(gd,gc);},Map:function(gf,gg){var gh,gj,gk,gl;gh=function(gi){return $.New(p,{Key:gi.Key,Value:(gf(gi.Key))(gi.Value)});};gj=b.Enumerate(false,gg.get_Tree());gk=h.map(gh,gj);gl=b.OfSeq(gk);return o.New(gl);},OfArray:function(gm){var gn,gr,gs;gn=function(go){var gp,gq;gp=go[0];gq=go[1];return $.New(p,{Key:gp,Value:gq});};gr=h.map(gn,gm);gs=b.OfSeq(gr);return o.New(gs);},Partition:function(gt,gu){var gv,gx,gy,gz,gA;gv=function(gw){return(gt(gw.Key))(gw.Value);};gx=h.toArray(b.Enumerate(false,gu.get_Tree()));gy=d.partition(gv,gx);gz=gy[1];gA=gy[0];return[o.New(b.Build(gA,0,gA.length-1)),o.New(b.Build(gz,0,gz.length-1))];},Pick:function(gB,gC){var gD;gD=function(gE){return(gB(gE.K))(gE.V);};return h.pick(gD,gC);},ToSeq:function(gF){var gG,gI;gG=function(gH){return[gH.Key,gH.Value];};gI=b.Enumerate(false,gF.get_Tree());return h.map(gG,gI);},TryFind:function(gJ,gK){return gK.TryFind(gJ);},TryFindKey:function(gL,gM){var gN;gN=function(gO){return(gL(gO.K))(gO.V)?{$:1,$0:gO.K}:{$:0};};return h.tryPick(gN,gM);},TryPick:function(gP,gQ){var gR;gR=function(gS){return(gP(gS.K))(gS.V);};return h.tryPick(gR,gQ);}},MapUtil:{fromSeq:function(gT){var gU;gU=h.toArray(h.delay(function(){return h.collect(function(gW){var gX,gY;gX=gW[1];gY=gW[0];return[$.New(p,{Key:gY,Value:gX})];},e.distinctBy(function(gZ){return gZ[0];},gT));}));d.sortInPlace(gU);return b.Build(gU,0,gU.length-1);}},Pair:$.Class({CompareTo:function(g0){return c.Compare(this.Key,g0.Key);},Equals:function(g1){return n.Equals(this.Key,g1.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(g2){return this.arr.push(g2);},AddRange:function(g3){var g5=this;return h.iter(function(g4){return g5.Add(g4);},g3);},Clear:function(){var g6;g6=B.splice(this.arr,0,d.length(this.arr),[]);return;},CopyTo:function(g7){return this.CopyTo1(g7,0);},CopyTo1:function(g8,g9){return this.CopyTo2(0,g8,g9,this.get_Count());},CopyTo2:function(g_,g$,ha,hb){return d.blit(this.arr,g_,g$,ha,hb);},GetEnumerator:function(){return k.Get(this.arr);},GetRange:function(hc,hd){return C.New11(d.sub(this.arr,hc,hd));},Insert:function(he,hf){var hg;hg=B.splice(this.arr,he,0,[hf]);return;},InsertRange:function(hh,hi){var hj;hj=B.splice(this.arr,hh,0,h.toArray(hi));return;},RemoveAt:function(hk){var hl;hl=B.splice(this.arr,hk,1,[]);return;},RemoveRange:function(hm,hn){var ho;ho=B.splice(this.arr,hm,hn,[]);return;},Reverse:function(){return this.arr.reverse();},Reverse1:function(hp,hq){return d.reverse(this.arr,hp,hq);},ToArray:function(){return this.arr.slice();},get_Count:function(){return d.length(this.arr);},get_Item:function(hr){return d.get(this.arr,hr);},set_Item:function(hs,ht){return d.set(this.arr,hs,ht);}},{New:function(hu){return $.New(this,C.New11(h.toArray(hu)));},New1:function(){return $.New(this,C.New11([]));},New11:function(hw){var hx;hx=$.New(this,{});hx.arr=hw;return hx;},New2:function(){return $.New(this,C.New11([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(hy,hz){var hA;hA=h.toArray(h.filter(hy,hz));return s.New1(b.Build(hA,0,hA.length-1));},FoldBack:function(hB,hC,hD){return h.fold(function(hE){return function(hF){return(hB(hF))(hE);};},hD,b.Enumerate(true,hC.get_Tree()));},Partition:function(hG,hH){var hI,hJ,hK;hI=d.partition(hG,h.toArray(hH));hJ=hI[1];hK=hI[0];return[s.New1(b.OfSeq(hK)),s.New1(b.OfSeq(hJ))];}},SetUtil:{ofSeq:function(hL){var hM;hM=h.toArray(hL);d.sortInPlace(hM);return b.Build(hM,0,hM.length-1);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Collections);b=$.Safe(a.BalancedTree);c=$.Safe($$.WebSharper.Operators);d=$.Safe($$.WebSharper.Arrays);e=$.Safe($$.Seq);f=$.Safe($$.WebSharper.List);g=$.Safe(f.T);h=$.Safe($$.WebSharper.Seq);i=$.Safe($$.WebSharper.JavaScript);j=$.Safe(i.JSModule);k=$.Safe($$.WebSharper.Enumerator);l=$.Safe(a.DictionaryUtil);m=$.Safe(a.Dictionary);n=$.Safe($$.WebSharper.Unchecked);o=$.Safe(a.FSharpMap);p=$.Safe(a.Pair);q=$.Safe($$.WebSharper.Option);r=$.Safe(a.MapUtil);s=$.Safe(a.FSharpSet);t=$.Safe(a.SetModule);u=$.Safe(a.SetUtil);v=$.Safe($$.Array);w=$.Safe(a.HashSetUtil);x=$.Safe(a.HashSetProxy);y=$.Safe(a.LinkedList);z=$.Safe(y.E);A=$.Safe(y.T);B=$.Safe(a.ResizeArray);return C=$.Safe(B.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;$.Define($$,{WebSharper:{Json:{Internals:{Provider:$.Field(function(){return b.New();})},Provider:$.Class({DecodeArray:function(t){return this.EncodeArray(t);},DecodeDateTime:function(){return function(){return function(v){return(new c(v)).getTime();};};},DecodeList:function(w){return function(){return function(y){var z;z=w(null);return d.init(e.length(y),function(A){return z(e.get(y,A));});};};},DecodeRecord:function(B,C){return function(){return function(E){var F,G;F=B===undefined?{}:new B();G=function(H){var I,J,K;I=H[0];J=H[1];K=H[2];return f.Equals(K,0)?void(F[I]=(J(null))(E[I])):f.Equals(K,1)?void(F[I]=E.hasOwnProperty(I)?{$:1,$0:(J(null))(E[I])}:{$:0}):f.Equals(K,2)?E.hasOwnProperty(I)?void(F[I]=(J(null))(E[I])):null:g.FailWith("Invalid field option kind");};e.iter(G,C);return F;};};},DecodeSet:function(L){return function(){return function(N){var O;O=L(null);return i.New1(j.OfSeq(e.map(O,N)));};};},DecodeStringDictionary:function(P){return function(){return function(R){var S;S=k.New12();P(null);m.ForEach(R,function(T){S.set_Item(T,R[T]);return false;});return S;};};},DecodeStringMap:function(U){return function(){return function(W){var X;X=[n.New1([])];U(null);m.ForEach(W,function(Y){X[0]=X[0].Add(Y,W[Y]);return false;});return X[0];};};},DecodeTuple:function(Z){return this.EncodeTuple(Z);},DecodeUnion:function(_0,_1,_2){return function(){return function(_4){var _5,_6,_7,_8,_9,_,bc,bf,bg,bh;if(typeof _4==="object"){_6=_0===undefined?{}:new _0();if(f.Equals(typeof _1,"string")){_9=_4[_1];_=function(ba){var bb;bb=ba[0];ba[1];return bb===_9;};_8=e.findINdex(_,_2);}else{bc=[undefined];m.ForEach(_1,function(bd){var be;if(_4.hasOwnProperty(bd)){bc[0]=_1[bd];be=true;}else{be=false;}return be;});_8=bc[0];}_7=_8;_6.$=_7;bf=e.get(_2,_7);bg=bf[1];bh=function(bi){var bj,bk,bl,bm;bj=bi[0];bk=bi[1];bl=bi[2];bm=bi[3];return bj===null?void(_6.$0=(bl(null))(_4)):f.Equals(bm,0)?void(_6[bj]=(bl(null))(_4[bk])):f.Equals(bm,1)?void(_6[bj]=_4.hasOwnProperty(bk)?{$:1,$0:(bl(null))(_4[bk])}:{$:0}):g.FailWith("Invalid field option kind");};e.iter(bh,bg);_5=_6;}else{_5=_4;}return _5;};};},EncodeArray:function(bm){return function(){return function(bo){var bp;bp=bm(null);return e.map(bp,bo);};};},EncodeDateTime:function(){return function(){return function(br){return(new c(br)).toISOString();};};},EncodeList:function(bs){return function(){return function(bu){var bv,bw,bx;bv=[];bw=bs(null);bx=function(by){var bz;bz=bv.push(bw(by));return;};o.iter(bx,bu);return bv;};};},EncodeRecord:function(bA,bB){return function(){return function(bD){var bE,bF;bE={};bF=function(bG){var bH,bI,bJ,bK,bL,bM,bN;bH=bG[0];bI=bG[1];bJ=bG[2];if(f.Equals(bJ,0)){bK=void(bE[bH]=(bI(null))(bD[bH]));}else{if(f.Equals(bJ,1)){bL=bD[bH];if(bL.$==0){bM=null;}else{bN=bL.$0;bM=void(bE[bH]=(bI(null))(bN));}bK=bM;}else{bK=f.Equals(bJ,2)?bD.hasOwnProperty(bH)?void(bE[bH]=(bI(null))(bD[bH])):null:g.FailWith("Invalid field option kind");}}return bK;};e.iter(bF,bB);return bE;};};},EncodeSet:function(bO){return function(){return function(bQ){var bR,bS,bT;bR=[];bS=bO(null);bT=function(bU){var bV;bV=bR.push(bS(bU));return;};o.iter(bT,bQ);return bR;};};},EncodeStringDictionary:function(bW){return function(){return function(bY){var bZ,b0,b1,b2,b3,b4,b5,b6;bZ={};b0=bW(null);b1=p.Get(bY);try{while(b1.MoveNext()){b3=b1.get_Current();b4=g.KeyValue(b3);b5=b4[1];b6=b4[0];bZ[b6]=b0(b5);}}finally{b1.Dispose!=undefined?b1.Dispose():null;}return bZ;};};},EncodeStringMap:function(b7){return function(){return function(b9){var b_,b$,ca;b_={};b$=b7(null);ca=function(cb){return function(cc){b_[cb]=b$(cc);};};q.Iterate(ca,b9);return b_;};};},EncodeTuple:function(cd){return function(){return function(cf){return e.map2(function(cg){return function(ch){return(cg(null))(ch);};},cd,cf);};};},EncodeUnion:function(ci,cj,ck){return function(){return function(cm){var cn,co,cp,cq,cr,cs,ct;if(typeof cm==="object"){co={};cp=cm.$;cq=e.get(ck,cp);cr=cq[0];cs=cq[1];f.Equals(typeof cj,"string")?void(co[cj]=cr):null;ct=function(cu){var cv,cw,cx,cy,cz,cA,cC,cD,cE,cF;cv=cu[0];cw=cu[1];cx=cu[2];cy=cu[3];if(cv===null){cA=(cx(null))(cm.$0);cz=m.ForEach(cA,function(cB){co[cB]=cA[cB];return false;});}else{if(f.Equals(cy,0)){cC=void(co[cw]=(cx(null))(cm[cv]));}else{if(f.Equals(cy,1)){cD=cm[cv];if(cD.$==0){cE=null;}else{cF=cD.$0;cE=void(co[cw]=(cx(null))(cF));}cC=cE;}else{cC=g.FailWith("Invalid field option kind");}}cz=cC;}return cz;};e.iter(ct,cs);cn=co;}else{cn=cm;}return cn;};};}},{Id:function(){return function(cG){return cG;};},New:function(){return $.New(this,{});},get_Default:function(){return r.Provider();}})},Web:{InlineControl:$.Class({get_Body:function(){var cH;cH=e.fold(function(cI){return function(cJ){return cI[cJ];};},s,this.funcName);return cH.apply(null,this.args);}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Json);b=$.Safe(a.Provider);c=$.Safe($$.Date);d=$.Safe($$.WebSharper.List);e=$.Safe($$.WebSharper.Arrays);f=$.Safe($$.WebSharper.Unchecked);g=$.Safe($$.WebSharper.Operators);h=$.Safe($$.WebSharper.Collections);i=$.Safe(h.FSharpSet);j=$.Safe(h.BalancedTree);k=$.Safe(h.Dictionary);l=$.Safe($$.WebSharper.JavaScript);m=$.Safe(l.JSModule);n=$.Safe(h.FSharpMap);o=$.Safe($$.WebSharper.Seq);p=$.Safe($$.WebSharper.Enumerator);q=$.Safe(h.MapModule);r=$.Safe(a.Internals);return s=$.Safe($$.window);});$.OnLoad(function(){r.Provider();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt;$.Define($$,{WebSharper:{UI:{Next:{Abbrev:{Async:{Schedule:function(bu){var bv;bv=a.Delay(function(){return a.Return(bu(null));});return a.Start(bv,{$:0});},StartTo:function(bw,bx){return a.StartWithContinuations(bw,bx,function(){},function(){},{$:0});}},Dict:{ToKeyArray:function(bA){var bB,bC;bB=b(bA.count);bC=function(bD){return function(bE){return c.set(bB,bD,bE.K);};};d.iteri(bC,bA);return bB;},ToValueArray:function(bF){var bG,bH;bG=b(bF.count);bH=function(bI){return function(bJ){return c.set(bG,bI,bJ.V);};};d.iteri(bH,bF);return bG;}},Fresh:{Id:function(){var bK;bK=h.counter()+1;h.counter=function(){return bK;};return"uid"+$$.String(h.counter());},Int:function(){var bL;bL=h.counter()+1;h.counter=function(){return bL;};return h.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bM,bN){var bO;bO=j.New(k.ToArray(bN));bO.ExceptWith(k.ToArray(bM));return bO;},Filter:function(bP,bQ){var bR;bR=k.ToArray(bQ);return j.New(c.filter(bP,bR));},Intersect:function(bS,bT){var bU;bU=j.New(k.ToArray(bS));bU.IntersectWith(k.ToArray(bT));return bU;},ToArray:function(bV){var bW;bW=b(bV.get_Count());bV.CopyTo(bW);return bW;}},JQueue:{Add:function($x,$q){var $0=this,$this=this;return $q.push($x);},Count:function(bX){return bX.length;},Dequeue:function($q){var $0=this,$this=this;return $q.shift();},Iter:function(bY,bZ){return c.iter(bY,l.ToArray(bZ));},ToArray:function(b0){return b0.slice();}},Mailbox:{StartProcessor:function(b1){var b2,b3,b4,b$,cc;b2=[];b3=[false];b4=a.Delay(function(){return a.Combine(a.While(function(){return l.Count(b2)>0;},a.Delay(function(){var b8;b8=l.Dequeue(b2);return a.Bind(b1(b8),function(){return a.Return(null);});})),a.Delay(function(){return a.Return(void(b3[0]=false));}));});b$=function(){var cb;if(!b3[0]){b3[0]=true;cb=a.Start(b4,{$:0});}else{cb=null;}return cb;};cc=function(cd){l.Add(cd,b2);return b$(null);};return cc;}},Slot1:$.Class({Equals:function(ce){return m.Equals(this.key.call(null,this.value),this.key.call(null,ce.get_Value()));},GetHashCode:function(){return m.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{Create:function(cf,cg){return n.New(cf,cg);},New:function(ch,ci){var cj;cj=$.New(this,{});cj.key=ch;cj.value=ci;return cj;}}),U:function(){return;}},An:$.Class({},{Append:function(ck,cl){var cm,cn;cm=ck.$0;cn=cl.$0;return $.New(o,{$:0,$0:p.Append(cm,cn)});},Concat:function(co){var cp,cr;cp=d.map(function(cq){return q.List(cq);},co);cr=p.Concat(cp);return $.New(o,{$:0,$0:cr});},Const:function(cs){return q.Const(cs);},Delayed:function(ct,cu,cv,cw,cx,cy){var cz;cz=cv+cw;return{Compute:function(cA){var cB,cC;if(cA<=cw){cB=cx;}else{cC=cu.TransformTime.call(null,(cA-cw)/cv);cB=ct.Interpolate(cC,cx,cy);}return cB;},Duration:cz};},Map:function(cD,cE){var cF;cF=cE.Compute;return q.Def(cE.Duration,function(cG){return cD(cF(cG));});},Pack:function(cH){return $.New(o,{$:0,$0:p.Single({$:1,$0:cH})});},Play:function(cI){return a.Delay(function(){var cK,cM;cK=function(){};cM=q.Actions(cI);return a.Bind(o.Run(cK,cM),function(){return a.Return(q.Finalize(cI));});});},Run:function(cO,cP){var cQ,cR;cQ=cP.Duration;cR=function(cS){var cT,cU,cV,cW,c3;cT=cS[0];cU=cS[1];cV=cS[2];cW=function(cX,cY){var cZ,c0,c1;cZ=cY-cX;cO(cP.Compute.call(null,cZ));if(cZ<=cQ){c1=r(function(c2){return cW(cX,c2);});c0=void c1;}else{c0=cT(null);}return c0;};c3=r(function(c4){return cW(c4,c4);});return;};return a.FromContinuations(cR);},Simple:function(c5,c6,c7,c8,c9){return{Compute:function(c_){var c$;c$=c6.TransformTime.call(null,c_/c7);return c5.Interpolate(c$,c8,c9);},Duration:c7};},WhenDone:function(da,db){var dc;dc=$.New(o,{$:0,$0:p.Single({$:0,$0:da})});return o.Append(dc,db);},get_Empty:function(){return $.New(o,{$:0,$0:p.Empty()});}}),AnimatedAttrNode:$.Class({GetChangeAnim:function(dd){var de,df,dh=this,di,dj,dk,dl,dm,dn,_do,dp,dr,ds;de=[this.visible,this.logical];df=function(){return dh.sync(dd);};if(de[0].$==1){if(de[1].$==1){de[0].$0;de[1].$0;if(dh.dirty){dm=de[1].$0;dn=de[0].$0;_do=dh.tr;dp=function(dq){return dh.pushVisible(dd,dq);};dr=s.AnimateChange(_do,dn,dm);ds=o.Map(dp,dr);dl=o.Pack(ds);}else{dl=o.get_Empty();}dk=dl;}else{dk=o.get_Empty();}dj=dk;}else{dj=o.get_Empty();}di=dj;return o.WhenDone(df,di);},GetEnterAnim:function(dt){var du,dv,dx=this,dy,dz,dA,dB,dC,dD,dE,dF,dH,dI,dJ,dK,dL,dM,dN,dP,dQ,dR,dS,dT,dU,dV,dX,dY,dZ,d0,d1,d2,d3,d5,d6;du=[this.visible,this.logical];dv=function(){return dx.sync(dt);};if(du[0].$==1){if(du[1].$==1){du[0].$0;du[1].$0;if(dx.dirty){dC=du[1].$0;dD=du[0].$0;dE=dx.tr;dF=function(dG){return dx.pushVisible(dt,dG);};dH=s.AnimateChange(dE,dD,dC);dI=o.Map(dF,dH);dB=o.Pack(dI);}else{if(du[0].$==0){if(du[1].$==1){dL=du[1].$0;dM=dx.tr;dN=function(dO){return dx.pushVisible(dt,dO);};dP=s.AnimateEnter(dM,dL);dQ=o.Map(dN,dP);dK=o.Pack(dQ);}else{dK=o.get_Empty();}dJ=dK;}else{dJ=o.get_Empty();}dB=dJ;}dA=dB;}else{if(du[0].$==0){if(du[1].$==1){dT=du[1].$0;dU=dx.tr;dV=function(dW){return dx.pushVisible(dt,dW);};dX=s.AnimateEnter(dU,dT);dY=o.Map(dV,dX);dS=o.Pack(dY);}else{dS=o.get_Empty();}dR=dS;}else{dR=o.get_Empty();}dA=dR;}dz=dA;}else{if(du[0].$==0){if(du[1].$==1){d1=du[1].$0;d2=dx.tr;d3=function(d4){return dx.pushVisible(dt,d4);};d5=s.AnimateEnter(d2,d1);d6=o.Map(d3,d5);d0=o.Pack(d6);}else{d0=o.get_Empty();}dZ=d0;}else{dZ=o.get_Empty();}dz=dZ;}dy=dz;return o.WhenDone(dv,dy);},GetExitAnim:function(d7){var d8,d9,d$=this,ea,eb,ec,ed,ee,eg,eh;d8=this.visible;d9=function(){d$.dirty=true;d$.visible={$:0};return;};if(d8.$==1){ec=d8.$0;ed=d$.tr;ee=function(ef){return d$.pushVisible(d7,ef);};eg=s.AnimateExit(ed,ec);eh=o.Map(ee,eg);eb=o.Pack(eh);}else{eb=o.get_Empty();}ea=eb;return o.WhenDone(d9,ea);},Init:function(){return null;},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(ek,el){this.visible={$:1,$0:el};this.dirty=true;return(this.push.call(null,ek))(el);},sync:function(em){var en;if(this.dirty){t.iter(this.push.call(null,em),this.logical);this.visible=this.logical;en=void(this.dirty=false);}else{en=null;}return en;}},{New:function(eo,ep,eq){var er,es;er=$.New(this,{});er.tr=eo;er.push=eq;er.logical={$:0};er.visible={$:0};er.dirty=true;es=function(et){er.logical={$:1,$0:et};er.dirty=true;return;};er.updates=u.Map(es,ep);return er;}}),Anims:{Actions:function(eu){var ev,ew,eA,eB;ev=eu.$0;ew=function(ex){var ey,ez;if(ex.$==1){ez=ex.$0;ey={$:1,$0:ez};}else{ey={$:0};}return ey;};eA=p.ToArray(ev);eB=c.choose(ew,eA);return q.ConcatActions(eB);},ConcatActions:function(eC){var eD,eE,eF,eG,eI,eJ,eK;eD=d.toArray(eC);eE=c.length(eD);if(eE===0){eF=q.Const(null);}else{if(eE===1){eF=c.get(eD,0);}else{eG=function(eH){return eH.Duration;};eI=d.map(eG,eD);eJ=d.max(eI);eK=c.map(function(eL){return q.Prolong(eJ,eL);},eD);eF=q.Def(eJ,function(eM){return c.iter(function(eN){return eN.Compute.call(null,eM);},eK);});}}return eF;},Const:function(eO){return q.Def(0,function(){return eO;});},Def:function(eQ,eR){return{Compute:eR,Duration:eQ};},Finalize:function(eS){var eT,eU,eY;eT=eS.$0;eU=function(eV){var eW,eX;if(eV.$==0){eX=eV.$0;eW=eX(null);}else{eW=null;}return eW;};eY=p.ToArray(eT);return c.iter(eU,eY);},List:function(eZ){var e0;e0=eZ.$0;return e0;},Prolong:function(e1,e2){var e3,e4,e5,e7;e3=e2.Compute;e4=e2.Duration;e5=v.Create(function(){return e2.Compute.call(null,e2.Duration);});e7=function(e8){return e8>=e4?e5.eval():e3(e8);};return{Compute:e7,Duration:e1};}},AppendList1:{Append:function(e9,e_){var e$,fa,fb,fc,fd;e$=[e9,e_];if(e$[0].$==0){fb=e$[1];fa=fb;}else{if(e$[1].$==0){fd=e$[0];fc=fd;}else{fc={$:2,$0:e9,$1:e_};}fa=fc;}return fa;},Concat:function(fe){var ff,fg,fi,fj;ff=d.toArray(fe);fg=function(fh){return fh;};fi=p.Empty();fj=function(fk){return function(fl){return p.Append(fk,fl);};};return w.MapReduce(fg,fi,fj,ff);},Empty:function(){return{$:0};},FromArray:function(fm){var fn;fn=fm.length;return fn===0?{$:0}:fn===1?{$:1,$0:c.get(fm,0)}:{$:3,$0:fm.slice()};},Single:function(fo){return{$:1,$0:fo};},ToArray:function(fp){var fq,fr;fq=[];fr=function(fs){var ft,fu,fv,fw,fx;if(fs.$==1){fu=fs.$0;ft=l.Add(fu,fq);}else{if(fs.$==2){fv=fs.$1;fw=fs.$0;fr(fw);ft=fr(fv);}else{if(fs.$==3){fx=fs.$0;ft=c.iter(function(fy){return l.Add(fy,fq);},fx);}else{ft=null;}}}return ft;};fr(fp);return l.ToArray(fq);}},Array:{MapReduce:function(fz,fA,fB,fC){var fD;fD=function(fE,fF){var fG,fH,fI,fJ,fK,fL,fM,fN,fO;if(fF<=0){fG=fA;}else{if(fF===1){if(fE>=0?fE<c.length(fC):false){fI=fz(c.get(fC,fE));}else{fJ=fF/2>>0;fK=fD(fE,fJ);fL=fD(fE+fJ,fF-fJ);fI=(fB(fK))(fL);}fH=fI;}else{fM=fF/2>>0;fN=fD(fE,fM);fO=fD(fE+fM,fF-fM);fH=(fB(fN))(fO);}fG=fH;}return fG;};return fD(0,c.length(fC));}},AttrModule:{Animated:function(fP,fQ,fR,fS){return x.Animated(fQ,fR,function(fT){return function(fU){return y.SetAttr(fT,fP,fS(fU));};});},AnimatedStyle:function(fV,fW,fX,fY){return x.Animated(fW,fX,function(fZ){return function(f0){return y.SetStyle(fZ,fV,fY(f0));};});},Class:function(f1){return x.Static(function(f2){return y.AddClass(f2,f1);});},ContentEditableHtml:function(f3){var f4,f8;f4=z.CustomVar(f3,function(f5){return function(f6){f5.innerHTML=f6;};},function(f7){return{$:1,$0:f7.innerHTML};});f8=A.Create("contenteditable","true");return A.Append(f8,f4);},ContentEditableText:function(f9){var f_,gc;f_=z.CustomVar(f9,function(f$){return function(ga){f$.textContent=ga;};},function(gb){return{$:1,$0:gb.textContent};});gc=A.Create("contenteditable","true");return A.Append(gc,f_);},CustomValue:function(gd,ge,gf){return z.CustomVar(gd,function(gg){return function(gh){gg.value=ge(gh);};},function(gi){return gf(gi.value);});},CustomVar:function(gj,gk,gl){var gm,gu;gm=function(gn){return function(){return gj.UpdateMaybe(function(gp){var gq,gr,gs,gt;gq=gl(gn);if(gq.$==1){gs=gq.$0;if(!m.Equals(gs,gp)){gq.$0;gt=gq;}else{gt={$:0};}gr=gt;}else{gr={$:0};}return gr;});};};gu=function(gv){return function(gw){var gx,gy,gz,gA;gx=gl(gv);if(gx.$==1){gz=gx.$0;if(m.Equals(gz,gw)){gx.$0;gA=null;}else{gA=(gk(gv))(gw);}gy=gA;}else{gy=(gk(gv))(gw);}return gy;};};return A.Concat(B.ofArray([z.Handler("change",gm),z.Handler("input",gm),z.Handler("keypress",gm),z.DynamicCustom(gu,gj.get_View())]));},Dynamic:function(gB,gC){return x.Dynamic(gC,function(){},function(gE){return function(gF){return y.SetAttr(gE,gB,gF);};});},DynamicClass:function(gG,gH,gI){return x.Dynamic(gH,function(){},function(gK){return function(gL){return gI(gL)?y.AddClass(gK,gG):y.RemoveClass(gK,gG);};});},DynamicCustom:function(gM,gN){return x.Dynamic(gN,function(){},gM);},DynamicPred:function(gP,gQ,gR){var gS,gX,g0;gS=function(gT){return function(gU){var gV,gW;gV=gU[0];gW=gU[1];return gV?y.SetAttr(gT,gP,gW):y.RemoveAttr(gT,gP);};};gX=function(gY){return function(gZ){return[gY,gZ];};};g0=u.Map2(gX,gQ,gR);return x.Dynamic(g0,function(){},gS);},DynamicProp:function(g2,g3){return x.Dynamic(g3,function(){},function(g5){return function(g6){g5[g2]=g6;};});},DynamicStyle:function(g7,g8){return x.Dynamic(g8,function(){},function(g_){return function(g$){return y.SetStyle(g_,g7,g$);};});},Handler:function(ha,hb){return x.Static(function(hc){return hc.addEventListener(ha,hb(hc),false);});},HandlerView:function(hd,he,hf){var hg,hh,hl;hg=h.Id();hh=function(hi){var hj;hj=hf(hi);return hi.addEventListener(hd,function(hk){return(hj(hk))(hi[hg]);},false);};hl=function(hm){return function(hn){hm[hg]=hn;};};return x.Dynamic(he,hh,hl);},OnAfterRender:function(ho){return x.Mk(0,{$:4,$0:ho});},Style:function(hp,hq){return x.Static(function(hr){return y.SetStyle(hr,hp,hq);});},ValidateForm:function(){return z.OnAfterRender(function(hs){return $$.H5F?$$.H5F.setup(hs):undefined;});},Value:function(ht){return z.CustomValue(ht,function(hu){return hu;},function(hv){return{$:1,$0:hv};});}},AttrProxy:$.Class({},{Append:function(hw,hx){return x.Mk(hw.Flags|hx.Flags,x.AppendTree(hw.Tree,hx.Tree));},Concat:function(hy){var hz,hA,hC,hD;hz=d.toArray(hy);hA=function(hB){return hB;};hC=A.get_Empty();hD=function(hE){return function(hF){return A.Append(hE,hF);};};return w.MapReduce(hA,hC,hD,hz);},Create:function(hG,hH){return x.Static(function(hI){return y.SetAttr(hI,hG,hH);});},Handler:function(hJ,hK){return x.Static(function(hL){return hL.addEventListener(hJ,hK(hL),false);});},get_Empty:function(){return x.EmptyAttr();}}),Attrs:{Animated:function(hM,hN,hO){var hP,hQ;hP=C.New(hM,hN,hO);hQ=4;s.CanAnimateEnter(hM)?hQ=hQ|1:null;s.CanAnimateExit(hM)?hQ=hQ|2:null;return x.Mk(hQ,{$:1,$0:hP});},AppendTree:function(hR,hS){var hT,hU,hV,hW,hX;hT=[hR,hS];if(hT[0].$==0){hV=hT[1];hU=hV;}else{if(hT[1].$==0){hX=hT[0];hW=hX;}else{hW={$:2,$0:hR,$1:hS};}hU=hW;}return hU;},Dynamic:function(hY,hZ,h0){var h1;h1={$:1,$0:D.New(hY,hZ,h0)};return x.Mk(0,h1);},EmptyAttr:$.Field(function(){return x.Mk(0,{$:0});}),GetAnim:function(h2,h3){var h4,h6,h7;h4=function(h5){return(h3(h5))(h2.DynElem);};h6=h2.DynNodes;h7=c.map(h4,h6);return o.Concat(h7);},GetChangeAnim:function(h8){return x.GetAnim(h8,function(h9){return function(h_){return h9.GetChangeAnim(h_);};});},GetEnterAnim:function(h$){return x.GetAnim(h$,function(ia){return function(ib){return ia.GetEnterAnim(ib);};});},GetExitAnim:function(ic){return x.GetAnim(ic,function(id){return function(ie){return id.GetExitAnim(ie);};});},HasChangeAnim:function(_if){return(_if.DynFlags&4)!==0;},HasEnterAnim:function(ig){return(ig.DynFlags&1)!==0;},HasExitAnim:function(ih){return(ih.DynFlags&2)!==0;},Insert:function(ii,ij){var ik,il,im,iu;ik=[];il=[];im=function(_in){var io,ip,iq,ir,is,it;if(_in.$==1){ip=_in.$0;ip.Init(ii);io=l.Add(ip,ik);}else{if(_in.$==2){iq=_in.$1;ir=_in.$0;im(ir);io=im(iq);}else{if(_in.$==3){is=_in.$0;io=is(ii);}else{if(_in.$==4){it=_in.$0;io=l.Add(it,il);}else{io=null;}}}}return io;};im(ij.Tree);iu=l.ToArray(ik);return $.DeleteEmptyFields({DynElem:ii,DynFlags:ij.Flags,DynNodes:iu,OnAfterRender:(l.Count(il)===0?{$:0}:{$:1,$0:function(iv){return l.Iter(function(iw){return iw(iv);},il);}}).$0},["OnAfterRender"]);},Mk:function(ix,iy){return $.New(A,{Flags:ix,Tree:iy});},Static:function(iz){return x.Mk(0,{$:3,$0:iz});},Sync:function(iA,iB){var iC,iE;iC=function(iD){return iD.Sync(iA);};iE=iB.DynNodes;return c.iter(iC,iE);},Updates:function(iF){var iG,iM,iN,iP;iG=function(iH){return function(iI){var iJ;iJ=function(){return function(){return null;};};return u.Map2(iJ,iH,iI);};};iM=iF.DynNodes;iN=function(iO){return iO.get_Changed();};iP=E.Const(null);return w.MapReduce(iN,iP,iG,iM);}},CheckedInput:$.Class({get_Input:function(){var iQ,iR,iS,iT;if(this.$==1){iR=this.$0;iQ=iR;}else{if(this.$==2){iS=this.$0;iQ=iS;}else{iT=this.$1;iQ=iT;}}return iQ;}}),Doc:$.Class({ReplaceInDom:function(iU){var iV,iW;iV=F.createTextNode("");iW=iU.parentNode.replaceChild(iV,iU);return G.RunBefore(iV,this);},get_DocNode:function(){return this.docNode;},get_Updates:function(){return this.updates;}},{Append:function(iX,iY){var iZ,i2,i3,i4,i5;iZ=function(){return function(){return null;};};i2=iX.get_Updates();i3=iY.get_Updates();i4=u.Map2(iZ,i2,i3);i5={$:0,$0:iX.get_DocNode(),$1:iY.get_DocNode()};return G.Mk(i5,i4);},Async:function(i6){var i7,i9,i_;i7=function(i8){return i8;};i9=E.Const(i6);i_=u.MapAsync(i7,i9);return G.EmbedView(i_);},BindView:function(i$,ja){return G.EmbedView(u.Map(i$,ja));},Button:function(jb,jc,jd){var je,jf,jg;je=A.Concat(jc);jf=G.Clickable("button",jd);jg=G.TextNode(jb);return H.New(jf,je,jg);},ButtonView:function(jh,ji,jj,jk){var jl,jo,jp,jq;jl=z.HandlerView("click",jj,function(){return function(){return jk;};});jo=A.Concat(d.append([jl],ji));jp=y.CreateElement("button");jq=G.TextNode(jh);return H.New(jp,jo,jq);},CheckBox:function(jr,js){var jt,ju,jw,jA;jt=y.CreateElement("input");ju=function(){return js.Set(jt.checked);};jt.addEventListener("click",ju,false);jw=A.Concat(d.toList(d.delay(function(){return d.append(jr,d.delay(function(){return d.append([A.Create("type","checkbox")],d.delay(function(){return[z.DynamicProp("checked",js.get_View())];}));}));})));jA=G.get_Empty();return H.New(jt,jw,jA);},CheckBoxGroup:function(jB,jC,jD){var jE,jF,jL,jN,jP,jQ,jR,jS,jT,jU,jV,jY;jE=jD.get_View();jF=function(jG){return jD.Update(function(jH){var jI,jK;jI=jG?B.append(jH,B.ofArray([jC])):B.filter(function(jJ){return!m.Equals(jJ,jC);},jH);jK=I.distinct(jI);return d.toList(jK);});};jL=function(jM){return m.Equals(jM,jC);};jN=function(jO){return d.exists(jL,jO);};jP=u.Map(jN,jE);jR=jD.get_Id();jS=h.Id();jQ=B.append(B.ofArray([A.Create("type","checkbox"),A.Create("name",jR),A.Create("value",jS),z.DynamicProp("checked",jP)]),B.ofSeq(jB));jT=A.Concat(jQ);jU=y.CreateElement("input");jV=function(){var jX;jX=jU.checked;return jF(jX);};jU.addEventListener("click",jV,false);jY=G.get_Empty();return H.New(jU,jT,jY);},Clickable:function(jZ,j0){var j1;j1=y.CreateElement(jZ);j1.addEventListener("click",function(j2){j2.preventDefault();return j0(null);},false);return j1;},Concat:function(j3){var j4,j5,j7,j8;j4=d.toArray(j3);j5=function(j6){return j6;};j7=G.get_Empty();j8=function(j9){return function(j_){return G.Append(j9,j_);};};return w.MapReduce(j5,j7,j8,j4);},Convert:function(j$,ka){var kb;kb=u.MapSeqCached(j$,ka);return G.Flatten(kb);},ConvertBy:function(kc,kd,ke){var kf;kf=u.MapSeqCachedBy(kc,kd,ke);return G.Flatten(kf);},ConvertSeq:function(kg,kh){var ki;ki=u.MapSeqCachedView(kg,kh);return G.Flatten(ki);},ConvertSeqBy:function(kj,kk,kl){var km;km=u.MapSeqCachedViewBy(kj,kk,kl);return G.Flatten(km);},Element:function(kn,ko,kp){var kq,kr,ks;kq=A.Concat(ko);kr=G.Concat(kp);ks=y.CreateElement(kn);return H.New(ks,kq,kr);},EmbedView:function(kt){var ku,kv,kx,kz,kA,kB;ku=J.CreateEmbedNode();kv=function(kw){J.UpdateEmbedNode(ku,kw.get_DocNode());return kw.get_Updates();};kx=function(){};kz=E.Bind(kv,kt);kA=u.Map(kx,kz);kB={$:2,$0:ku};return G.Mk(kB,kA);},Flatten:function(kC){var kD,kF;kD=function(kE){return G.Concat(kE);};kF=u.Map(kD,kC);return G.EmbedView(kF);},FloatInput:function(kG,kH){var kI,kO;kI=function(kJ){return function(kK){var kL,kM,kN;if(K.isBlank(kK)){kM=(kJ.checkValidity?kJ.checkValidity():true)?$.New(L,{$:2,$0:kK}):$.New(L,{$:1,$0:kK});}else{kN=+kK;kM=$$.isNaN(kN)?$.New(L,{$:1,$0:kK}):$.New(L,{$:0,$0:kN,$1:kK});}kL=kM;return{$:1,$0:kL};};};kO=function(kP){return d.append(kG,[z.CustomValue(kH,function(kQ){return kQ.get_Input();},kI(kP)),A.Create("type","number")]);};return G.InputInternal("input",kO);},FloatInputUnchecked:function(kR,kS){var kT,kX;kT=function(kU){var kV,kW;if(K.isBlank(kU)){kV={$:1,$0:0};}else{kW=+kU;kV=$$.isNaN(kW)?{$:0}:{$:1,$0:kW};}return kV;};kX=function(){return d.append(kR,[kS.Get()===0?A.Create("value","0"):A.get_Empty(),z.CustomValue(kS,function(kZ){return $$.String(kZ);},kT),A.Create("type","number")]);};return G.InputInternal("input",kX);},Input:function(k0,k1){var k2;k2=function(){return d.append(k0,[z.Value(k1)]);};return G.InputInternal("input",k2);},InputArea:function(k4,k5){var k6;k6=function(){return d.append(k4,[z.Value(k5)]);};return G.InputInternal("textarea",k6);},InputInternal:function(k8,k9){var k_,k$,la;k_=y.CreateElement(k8);k$=A.Concat(k9(k_));la=G.get_Empty();return H.New(k_,k$,la);},IntInput:function(lb,lc){var ld,lj;ld=function(le){return function(lf){var lg,lh,li;if(K.isBlank(lf)){lh=(le.checkValidity?le.checkValidity():true)?$.New(L,{$:2,$0:lf}):$.New(L,{$:1,$0:lf});}else{li=+lf;lh=$$.isNaN(li)?$.New(L,{$:1,$0:lf}):$.New(L,{$:0,$0:li,$1:lf});}lg=lh;return{$:1,$0:lg};};};lj=function(lk){return d.append(lb,[z.CustomValue(lc,function(ll){return ll.get_Input();},ld(lk)),A.Create("type","number"),A.Create("step","1")]);};return G.InputInternal("input",lj);},IntInputUnchecked:function(lm,ln){var lo,ls;lo=function(lp){var lq,lr;if(K.isBlank(lp)){lq={$:1,$0:0};}else{lr=+lp;lq=lr!==lr>>0?{$:0}:{$:1,$0:lr};}return lq;};ls=function(){return d.append(lm,[ln.Get()===0?A.Create("value","0"):A.get_Empty(),z.CustomValue(ln,function(lu){return $$.String(lu);},lo),A.Create("type","number"),A.Create("step","1")]);};return G.InputInternal("input",ls);},Link:function(lv,lw,lx){var ly,lz,lA,lB,lC;ly=A.Concat(lw);lz=A.Create("href","#");lA=A.Append(lz,ly);lB=G.Clickable("a",lx);lC=G.TextNode(lv);return H.New(lB,lA,lC);},LinkView:function(lD,lE,lF,lG){var lH,lK,lL,lM;lH=z.HandlerView("click",lF,function(){return function(){return lG;};});lK=A.Concat(d.append([lH,A.Create("href","#")],lE));lL=y.CreateElement("a");lM=G.TextNode(lD);return H.New(lL,lK,lM);},Mk:function(lN,lO){return G.New(lN,lO);},New:function(lP,lQ){var lR;lR=$.New(this,{});lR.docNode=lP;lR.updates=lQ;return lR;},PasswordBox:function(lS,lT){var lU;lU=function(){return d.append(lS,[z.Value(lT),A.Create("type","password")]);};return G.InputInternal("input",lU);},Radio:function(lW,lX,lY){var lZ,l1,l3,l4,l5,l6,l9,l_,l$;lZ=y.CreateElement("input");lZ.addEventListener("click",function(){return lY.Set(lX);},false);l1=function(l2){return m.Equals(l2,lX);};l3=lY.get_View();l4=u.Map(l1,l3);l5=z.DynamicProp("checked",l4);l6=function(l7,l8){return A.Create(l7,l8);};l9=B.append(B.ofArray([l6("type","radio"),l6("name",lY.get_Id()),l5]),B.ofSeq(lW));l_=A.Concat(l9);l$=G.get_Empty();return H.New(lZ,l_,l$);},Run:function(ma,mb){var mc,md,me,mg;mc=mb.get_DocNode();J.LinkElement(ma,mc);md=J.CreateRunState(ma,mc);me=M.StartProcessor(function(){return J.PerformAnimatedUpdate(md,mc);});mg=mb.get_Updates();return E.Sink(me,mg);},RunAfter:function(mh,mi){var mj,mk;mj=F.createTextNode("");mk=mh.parentNode.insertBefore(mj,mh.nextSibling);return G.RunBetween(mh,mj,mi);},RunAfterById:function(ml,mm){var mn;mn=y.Doc().getElementById(ml);return m.Equals(mn,null)?N.FailWith("invalid id: "+ml):G.RunAfter(mn,mm);},RunAppend:function(mo,mp){var mq,mr;mq=F.createTextNode("");mr=mo.appendChild(mq);return G.RunBefore(mq,mp);},RunAppendById:function(ms,mt){var mu;mu=y.Doc().getElementById(ms);return m.Equals(mu,null)?N.FailWith("invalid id: "+ms):G.RunAppend(mu,mt);},RunBefore:function(mv,mw){var mx,my;mx=F.createTextNode("");my=mv.parentNode.insertBefore(mx,mv);return G.RunBetween(mx,mv,mw);},RunBeforeById:function(mz,mA){var mB;mB=y.Doc().getElementById(mz);return m.Equals(mB,null)?N.FailWith("invalid id: "+mz):G.RunBefore(mB,mA);},RunBetween:function(mC,mD,mE){var mF,mG,mI;J.LinkPrevElement(mD,mE.get_DocNode());mF=J.CreateDelimitedRunState(mC,mD,mE.get_DocNode());mG=M.StartProcessor(function(){return J.PerformAnimatedUpdate(mF,mE.get_DocNode());});mI=mE.get_Updates();return E.Sink(mG,mI);},RunById:function(mJ,mK){var mL;mL=y.Doc().getElementById(mJ);return m.Equals(mL,null)?N.FailWith("invalid id: "+mJ):G.Run(mL,mK);},RunPrepend:function(mM,mN){var mO,mP;mO=F.createTextNode("");mP=mM.insertBefore(mO,mM.firstChild);return G.RunBefore(mO,mN);},RunPrependById:function(mQ,mR){var mS;mS=y.Doc().getElementById(mQ);return m.Equals(mS,null)?N.FailWith("invalid id: "+mQ):G.RunPrepend(mS,mR);},Select:function(mT,mU,mV,mW){var mX;mX=E.Const(mV);return G.SelectDyn(mT,mU,mX,mW);},SelectDyn:function(mY,mZ,m0,m1){var m2,m3,m5,m8,m$,nd,ne,nf,ng,nk,np,nq,ny,nz,nA,nB,nD;m2=[$.New(O,{$:0})];m3=function(m4){return m4.selectedIndex;};m5=function(m6){var m7;m7=m3(m6);return m2[0].get_Item(m7);};m8=function(m9){return d.findIndex(function(m_){return m.Equals(m9,m_);},m2[0]);};m$=function(na){return function(nb){var nc;nc=m8(nb);na.selectedIndex=nc;return;};};nd=y.CreateElement("select");ne=m1.get_View();nf=z.DynamicCustom(m$,ne);ng=function(){return m1.UpdateMaybe(function(ni){var nj;nj=m5(nd);return m.Equals(ni,nj)?{$:0}:{$:1,$0:nj};});};nd.addEventListener("change",ng,false);nk=function(nl){var nm;m2[0]=nl;nm=function(nn){return function(no){return[nn,no];};};return d.mapi(nm,nl);};np=u.Map(nk,m0);nq=function(nr){var ns,nt,nu,nv,nw,nx;ns=nr[0];nt=nr[1];nu=G.TextNode(mZ(nt));nw=$$.String(ns);nv=B.ofArray([A.Create("value",nw)]);nx=B.ofArray([nu]);return G.Element("option",nv,nx);};ny=G.Convert(nq,np);nz=A.Concat(mY);nA=A.Append(nf,nz);nB=z.OnAfterRender(function(nC){return(m$(nC))(m1.Get());});nD=A.Append(nB,nA);return H.New(nd,nD,ny);},SelectDynOptional:function(nE,nF,nG,nH,nI){var nJ,nN,nQ;nJ=function(nK){var nL,nM;if(nK.$==1){nM=nK.$0;nL=nG(nM);}else{nL=nF;}return nL;};nN=function(nO){return $.New(O,{$:1,$0:{$:0},$1:B.map(function(nP){return{$:1,$0:nP};},nO)});};nQ=u.Map(nN,nH);return G.SelectDyn(nE,nJ,nQ,nI);},SelectOptional:function(nR,nS,nT,nU,nV){var nW,n0;nW=function(nX){var nY,nZ;if(nX.$==1){nZ=nX.$0;nY=nT(nZ);}else{nY=nS;}return nY;};n0=$.New(O,{$:1,$0:{$:0},$1:B.map(function(n1){return{$:1,$0:n1};},nU)});return G.Select(nR,nW,n0,nV);},Static:function(n2){var n3,n4;n3=A.get_Empty();n4=G.get_Empty();return H.New(n2,n3,n4);},SvgElement:function(n5,n6,n7){var n8,n9,n_;n8=A.Concat(n6);n9=G.Concat(n7);n_=y.CreateSvgElement(n5);return H.New(n_,n8,n9);},TextNode:function(n$){var oa,ob;oa={$:5,$0:y.CreateText(n$)};ob=E.Const(null);return G.Mk(oa,ob);},TextView:function(oc){var od,oe,og,oh;od=J.CreateTextNode();oe=function(of){return J.UpdateTextNode(od,of);};og=u.Map(oe,oc);oh={$:4,$0:od};return G.Mk(oh,og);},Verbatim:function(oi){var oj,ok,ol,on,oq,or;oj=P.parseHTML(oi);ok=m.Equals(oj,null)?[]:oj;ol=function(om){return{$:1,$0:J.CreateElemNode(om,A.get_Empty(),{$:3})};};on=function(oo){return function(op){return{$:0,$0:oo,$1:op};};};oq=w.MapReduce(ol,{$:3},on,ok);or=E.Const(null);return G.Mk(oq,or);},get_Empty:function(){var os,ot;os={$:3};ot=E.Const(null);return G.Mk(os,ot);}}),DocElemNode:$.Class({Equals:function(ou){return this.ElKey===ou.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(ov,ow){var ox,oz,oB,oC,oD,oE,oG,oH;ox=function(oy){return x.HasChangeAnim(oy.Attr);};oz=function(oA){return Q.Filter(ox,oA);};oB=oz(ov.PreviousNodes);oC=oz(ow);oD=Q.Intersect(oB,oC);oE=function(oF){return x.GetChangeAnim(oF.Attr);};oG=Q.ToArray(oD);oH=c.map(oE,oG);return o.Concat(oH);},ComputeEnterAnim:function(oI,oJ){var oK,oM,oN,oO,oP,oR,oS;oK=function(oL){return x.HasEnterAnim(oL.Attr);};oM=oI.PreviousNodes;oN=Q.Filter(oK,oJ);oO=Q.Except(oM,oN);oP=function(oQ){return x.GetEnterAnim(oQ.Attr);};oR=Q.ToArray(oO);oS=c.map(oP,oR);return o.Concat(oS);},ComputeExitAnim:function(oT,oU){var oV,oX,oZ,o0,o1,o2,o3;oV=function(oW){return x.HasExitAnim(oW.Attr);};oX=function(oY){return x.GetExitAnim(oY.Attr);};oZ=oT.PreviousNodes;o0=Q.Filter(oV,oZ);o1=Q.Except(oU,o0);o2=Q.ToArray(o1);o3=c.map(oX,o2);return o.Concat(o3);},CreateDelimitedElemNode:function(o4,o5,o6,o7){var o8,o9;o8=o4.parentNode;J.LinkPrevElement(o5,o7);o9=x.Insert(o8,o6);return $.New(R,$.DeleteEmptyFields({Attr:o9,Children:o7,Delimiters:[o4,o5],El:o8,ElKey:h.Int(),Render:$.GetOptional(o9.OnAfterRender).$0},["Render"]));},CreateDelimitedRunState:function(o_,o$,pa){return{PreviousNodes:Q.get_Empty(),Top:J.CreateDelimitedElemNode(o_,o$,A.get_Empty(),pa)};},CreateElemNode:function(pb,pc,pd){var pe;J.LinkElement(pb,pd);pe=x.Insert(pb,pc);return $.New(R,$.DeleteEmptyFields({Attr:pe,Children:pd,El:pb,ElKey:h.Int(),Render:$.GetOptional(pe.OnAfterRender).$0},["Render"]));},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(pf,pg){return{PreviousNodes:Q.get_Empty(),Top:J.CreateElemNode(pf,A.get_Empty(),pg)};},CreateTextNode:function(){return{Text:y.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(ph){var pi,pj,pu,pv,pw,px,py,pz,pB,pC,pD,pE,pF,pG;pi=ph.El;pj=function(pk,pl){var pm,pn,po,pp,pq,pr,ps,pt;if(pk.$==1){pn=pk.$0;pm={$:1,$0:pn.El};}else{if(pk.$==2){po=pk.$0;if(po.Dirty){po.Dirty=false;pp=J.InsertDoc(pi,po.Current,pl);}else{pp=pj(po.Current,pl);}pm=pp;}else{if(pk.$==3){pm=pl;}else{if(pk.$==4){pq=pk.$0;pm={$:1,$0:pq.Text};}else{if(pk.$==5){pr=pk.$0;pm={$:1,$0:pr};}else{ps=pk.$1;pt=pk.$0;pm=pj(pt,pj(ps,pl));}}}}}return pm;};pu=S.DocChildren(ph);pv=ph.El;pw=$.GetOptional(ph.Delimiters);px=S.Children(pv,pw);py=ph.El;pz=function(pA){return y.RemoveNode(py,pA);};pB=S.Except(pu,px);S.Iter(pz,pB);pC=$.GetOptional(ph.Delimiters);if(pC.$==1){pF=pC.$0[1];pE={$:1,$0:pF};}else{pE={$:0};}pD=pE;pG=pj(ph.Children,pD);return;},DomNodes:$.Class({},{Children:function(pH,pI){var pJ,pK,pL,pM,pN,pO,pP;if(pI.$==1){pK=pI.$0[1];pL=pI.$0[0];pM=b.prototype.constructor.apply(b,[]);pN=pL.nextSibling;while(pN!==pK){pO=pM.push(pN);pN=pN.nextSibling;}pJ=$.New(S,{$:0,$0:pM});}else{pP=pH.childNodes;pJ=$.New(S,{$:0,$0:c.init(pH.childNodes.length,function(pQ){return pP[pQ];})});}return pJ;},DocChildren:function(pR){var pS,pT;pS=[];pT=function(pU){var pV,pW,pX,pY,pZ,p0,p1;if(pU.$==2){pW=pU.$0;pV=pT(pW.Current);}else{if(pU.$==1){pX=pU.$0;pV=l.Add(pX.El,pS);}else{if(pU.$==3){pV=null;}else{if(pU.$==5){pY=pU.$0;pV=l.Add(pY,pS);}else{if(pU.$==4){pZ=pU.$0;pV=l.Add(pZ.Text,pS);}else{p0=pU.$1;p1=pU.$0;pT(p1);pV=pT(p0);}}}}}return pV;};pT(pR.Children);return $.New(S,{$:0,$0:l.ToArray(pS)});},Except:function(p2,p3){var p4,p5,p6,p_;p4=p2.$0;p5=p3.$0;p6=function(p7){var p8;p8=function(p9){return!(p7===p9);};return d.forall(p8,p4);};p_=c.filter(p6,p5);return $.New(S,{$:0,$0:p_});},FoldBack:function(p$,qa,qb){var qc;qc=qa.$0;return c.foldBack(p$,qc,qb);},Iter:function(qd,qe){var qf;qf=qe.$0;return c.iter(qd,qf);}}),InsertDoc:function(qg,qh,qi){var qj,qk,ql,qm,qn,qo,qp;if(qh.$==1){qk=qh.$0;qj=J.InsertNode(qg,qk.El,qi);}else{if(qh.$==2){ql=qh.$0;ql.Dirty=false;qj=J.InsertDoc(qg,ql.Current,qi);}else{if(qh.$==3){qj=qi;}else{if(qh.$==4){qm=qh.$0;qj=J.InsertNode(qg,qm.Text,qi);}else{if(qh.$==5){qn=qh.$0;qj=J.InsertNode(qg,qn,qi);}else{qo=qh.$1;qp=qh.$0;qj=J.InsertDoc(qg,qp,J.InsertDoc(qg,qo,qi));}}}}}return qj;},InsertNode:function(qq,qr,qs){y.InsertAt(qq,qs,qr);return{$:1,$0:qr};},LinkElement:function(qt,qu){var qv;qv=J.InsertDoc(qt,qu,{$:0});return;},LinkPrevElement:function(qw,qx){var qy;qy=J.InsertDoc(qw.parentNode,qx,{$:1,$0:qw});return;},NodeSet:$.Class({},{Except:function(qz,qA){var qB,qC;qB=qz.$0;qC=qA.$0;return $.New(Q,{$:0,$0:k.Except(qB,qC)});},Filter:function(qD,qE){var qF;qF=qE.$0;return $.New(Q,{$:0,$0:k.Filter(qD,qF)});},FindAll:function(qG){var qH,qI;qH=[];qI=function(qJ){var qK,qL,qM,qN,qO;if(qJ.$==0){qL=qJ.$1;qM=qJ.$0;qI(qM);qK=qI(qL);}else{if(qJ.$==1){qN=qJ.$0;l.Add(qN,qH);qK=qI(qN.Children);}else{if(qJ.$==2){qO=qJ.$0;qK=qI(qO.Current);}else{qK=null;}}}return qK;};qI(qG);return $.New(Q,{$:0,$0:j.New(l.ToArray(qH))});},Intersect:function(qP,qQ){var qR,qS;qR=qP.$0;qS=qQ.$0;return $.New(Q,{$:0,$0:k.Intersect(qR,qS)});},IsEmpty:function(qT){var qU;qU=qT.$0;return qU.get_Count()===0;},ToArray:function(qV){var qW;qW=qV.$0;return k.ToArray(qW);},get_Empty:function(){return $.New(Q,{$:0,$0:j.New11()});}}),PerformAnimatedUpdate:function(qX,qY){return a.Delay(function(){var q0,q1,q2,q3;q0=Q.FindAll(qY);q1=J.ComputeChangeAnim(qX,q0);q2=J.ComputeEnterAnim(qX,q0);q3=J.ComputeExitAnim(qX,q0);return a.Bind(o.Play(o.Append(q1,q3)),function(){J.SyncElemNode(qX.Top);return a.Bind(o.Play(q2),function(){return a.Return(void(qX.PreviousNodes=q0));});});});},Sync:function(q6){var q7;q7=function(q8){var q9,q_,q$,ra,rb,rc,rd;if(q8.$==1){q_=q8.$0;J.SyncElement(q_);q9=q7(q_.Children);}else{if(q8.$==2){q$=q8.$0;q9=q7(q$.Current);}else{if(q8.$==3){q9=null;}else{if(q8.$==5){q9=null;}else{if(q8.$==4){ra=q8.$0;if(ra.Dirty){ra.Text.nodeValue=ra.Value;rb=void(ra.Dirty=false);}else{rb=null;}q9=rb;}else{rc=q8.$1;rd=q8.$0;q7(rd);q9=q7(rc);}}}}}return q9;};return q7(q6);},SyncElemNode:function(re){J.SyncElement(re);return J.Sync(re.Children);},SyncElement:function(rf){var rg,ro,rp,rq;rg=function(rh){var ri;ri=function(rj){var rk,rl,rm,rn;if(rj.$==0){rl=rj.$1;rm=rj.$0;rk=ri(rm)?true:ri(rl);}else{if(rj.$==2){rn=rj.$0;rk=rn.Dirty?true:ri(rn.Current);}else{rk=false;}}return rk;};return ri(rh.Children);};x.Sync(rf.El,rf.Attr);rg(rf)?J.DoSyncElement(rf):null;ro=$.GetOptional(rf.Render);if(ro.$==1){rq=ro.$0;rq(rf.El);rp=void(delete rf.Render);}else{rp=null;}return rp;},UpdateEmbedNode:function(rr,rs){rr.Current=rs;rr.Dirty=true;return;},UpdateTextNode:function(rt,ru){rt.Value=ru;rt.Dirty=true;return;}},DomUtility:{AddClass:function(rv,rw){var rx;rx=P(rv).addClass(rw);return;},AppendTo:function(ry,rz){var rA;rA=ry.appendChild(rz);return;},Clear:function(rB){var rC;while(rB.hasChildNodes()){rC=rB.removeChild(rB.firstChild);}return;},ClearAttrs:function(rD){var rE;while(rD.hasAttributes()){rE=rD.removeAttributeNode(rD.attributes.item(0));}return;},CreateAttr:function(rF,rG){var rH;rH=y.Doc().createAttribute(rF);rH.value=rG;return rH;},CreateElement:function(rI){return y.Doc().createElement(rI);},CreateSvgElement:function(rJ){return y.Doc().createElementNS("http://www.w3.org/2000/svg",rJ);},CreateText:function(rK){return y.Doc().createTextNode(rK);},Doc:$.Field(function(){return F;}),InsertAt:function(rL,rM,rN){var rO,rR,rS,rT,rU,rV,rW,rX,rY,rZ,r0,r1,r2,r3;rO=function(rP){var rQ;rQ=rP.nextSibling;return m.Equals(rQ,null)?{$:0}:{$:1,$0:rQ};};if(rN.parentNode===rL){rT=rO(rN);rU=[rM,rT];if(rU[0].$==1){if(rU[1].$==1){rX=rU[0].$0;rY=rU[1].$0;rW=rX===rY;}else{rW=false;}rV=rW;}else{rV=rU[1].$==0?true:false;}rS=rV;}else{rS=false;}rR=rS;if(!rR){if(rM.$==1){r1=rM.$0;r2=rL.insertBefore(rN,r1);r0=void r2;}else{r3=rL.appendChild(rN);r0=void r3;}rZ=r0;}else{rZ=null;}return rZ;},RemoveAttr:function(r4,r5){return r4.removeAttribute(r5);},RemoveClass:function(r6,r7){var r8;r8=P(r6).removeClass(r7);return;},RemoveNode:function(r9,r_){var r$,sa;if(r_.parentNode===r9){sa=r9.removeChild(r_);r$=void sa;}else{r$=null;}return r$;},SetAttr:function(sb,sc,sd){return sb.setAttribute(sc,sd);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(se,sf,sg){return y.SetProperty(se.style,sf,sg);}},DoubleInterpolation:$.Class({Interpolate:function(sh,si,sj){return si+sh*(sj-si);}}),DynamicAttrNode:$.Class({GetChangeAnim:function(){return o.get_Empty();},GetEnterAnim:function(){return o.get_Empty();},GetExitAnim:function(){return o.get_Empty();},Init:function(sn){return this.init.call(null,sn);},Sync:function(so){var sp;if(this.dirty){(this.push.call(null,so))(this.value);sp=void(this.dirty=false);}else{sp=null;}return sp;},get_Changed:function(){return this.updates;}},{New:function(sq,sr,ss){var st,su;st=$.New(this,{});st.init=sr;st.push=ss;st.value=g.U();st.dirty=true;su=function(sv){st.value=sv;st.dirty=true;return;};st.updates=u.Map(su,sq);return st;}}),Easing:$.Class({},{Custom:function(sw){return $.New(T,{TransformTime:sw});},get_CubicInOut:function(){return U.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){var sx;sx=function(sy){var sz,sA;sz=sy*sy;sA=sz*sy;return 3*sz-2*sA;};return $.New(T,{TransformTime:sx});})},Elt:$.Class({AddClass:function($cls){var $this=this;return $this.elt.className+=" "+$cls;},Append:function(sB){var sC,sD,sE,sH,sI,sJ;sC=this.get_DocElemNode();sC.Children={$:0,$0:sC.Children,$1:sB.get_DocNode()};sD=this.rvUpdates;sE=function(){return function(){return null;};};sH=V.Get(this.rvUpdates);sI=sB.get_Updates();V.Set(sD,u.Map2(sE,sH,sI));sJ=J.InsertDoc(this.elt,sB.get_DocNode(),{$:0});return;},Clear:function(){var sK;this.get_DocElemNode().Children={$:3};V.Set(this.rvUpdates,E.Const(null));while(this.elt.hasChildNodes()){sK=this.elt.removeChild(this.elt.firstChild);}return;},GetAttribute:function(sL){return this.elt.getAttribute(sL);},GetProperty:function(sM){return this.elt[sM];},GetText:function(){return this.elt.textContent;},GetValue:function(){return this.elt.value;},HasAttribute:function(sN){return this.elt.hasAttribute(sN);},HasClass:function(sO){return(new W("(\\s|^)"+sO+"(\\s|$)")).test(this.elt.className);},Html:function(){return this.elt.outerHTML;},Id:function(){return this.elt.id;},OnAfterRender:function(sP){var sQ,sR,sS;sQ=$.GetOptional(this.get_DocElemNode().Render);if(sQ.$==1){sS=sQ.$0;sR={$:1,$0:function(sT){sS(sT);return sP(sT);}};}else{sR={$:1,$0:sP};}$.SetOptional(this.get_DocElemNode(),"Render",sR);return this;},Prepend:function(sU){var sV,sW,sX,s0,s1,s2,s3,s4;sV=this.get_DocElemNode();sV.Children={$:0,$0:sU.get_DocNode(),$1:sV.Children};sW=this.rvUpdates;sX=function(){return function(){return null;};};s0=V.Get(this.rvUpdates);s1=sU.get_Updates();V.Set(sW,u.Map2(sX,s0,s1));s2=this.elt.firstChild;s3=m.Equals(s2,null)?{$:0}:{$:1,$0:s2};s4=J.InsertDoc(this.elt,sU.get_DocNode(),s3);return;},RemoveAttribute:function(s5){return this.elt.removeAttribute(s5);},RemoveClass:function(s6){this.elt.className=this.elt.className.replace(new W("(\\s|^)"+s6+"(\\s|$)")," ");},SetAttribute:function(s7,s8){return this.elt.setAttribute(s7,s8);},SetProperty:function(s9,s_){this.elt[s9]=s_;},SetStyle:function(s$,ta){this.elt.style[s$]=ta;},SetText:function(tb){this.get_DocElemNode().Children={$:3};V.Set(this.rvUpdates,E.Const(null));this.elt.textContent=tb;return;},SetValue:function(tc){this.elt.value=tc;},get_DocElemNode:function(){var td,te,tf;td=this.docNode1;if(td.$==1){tf=td.$0;te=tf;}else{te=N.FailWith("Elt: Invalid docNode");}return te;},get_Element:function(){return this.elt;},on:function(tg,th){this.elt.addEventListener(tg,th(this.elt),false);return this;}},{New:function(ti,tj,tk){var tl,tm,tn,to,tr,tt,tu;tl=J.CreateElemNode(ti,tj,tk.get_DocNode());tm=X.Create(tk.get_Updates());tn=x.Updates(tl.Attr);to=function(){return function(){return null;};};tr=function(ts){return u.Map2(to,tn,ts);};tt=tm.get_View();tu=E.Bind(tr,tt);return H.New1({$:1,$0:tl},tu,ti,tm,tn);},New1:function(tv,tw,tx,ty){var tA;tA=$.New(this,G.New(tv,tw));tA.docNode1=tv;tA.elt=tx;tA.rvUpdates=ty;return tA;}}),Flow:$.Class({},{get_Do:function(){return Y.New();}}),Flow1:$.Class({},{Bind:function(tB,tC){return{Render:function(tD){return function(tE){return(tB.Render.call(null,tD))(function(tF){return(tC(tF).Render.call(null,tD))(tE);});};}};},Define:function(tG){return{Render:function(tH){return function(tI){var tJ;tJ=tG(tI);return V.Set(tH,tJ);};}};},Embed:function(tK){var tL;tL=X.Create(G.get_Empty());(tK.Render.call(null,tL))(function(){});return G.EmbedView(tL.get_View());},Map:function(tN,tO){return{Render:function(tP){return function(tQ){return(tO.Render.call(null,tP))(function(tR){return tQ(tN(tR));});};}};},Return:function(tS){return{Render:function(){return function(tU){return tU(tS);};}};},Static:function(tV){return{Render:function(tW){return function(tX){V.Set(tW,tV);return tX(null);};}};}}),FlowBuilder:$.Class({Bind:function(tY,tZ){return Z.Bind(tY,tZ);},Return:function(t0){return Z.Return(t0);},ReturnFrom:function(t1){return t1;}},{New:function(){return $.New(this,{});}}),Html:{attr:$.Class({},{New:function(){return $.New(this,{});}})},Input:{ActivateButtonListener:$.Field(function(){var t2,t_;t2=function(t3,t4){var t5,t6,t7,t8,t9;t5=t3.button;if(t5===0){t7=_0.MouseBtnSt1().Left;t6=V.Set(t7,t4);}else{if(t5===1){t8=_0.MouseBtnSt1().Middle;t6=V.Set(t8,t4);}else{if(t5===2){t9=_0.MouseBtnSt1().Right;t6=V.Set(t9,t4);}else{t6=null;}}}return t6;};if(!_0.MouseBtnSt1().Active){_0.MouseBtnSt1().Active=true;F.addEventListener("mousedown",function(t$){return t2(t$,true);},false);t_=F.addEventListener("mouseup",function(ua){return t2(ua,false);},false);}else{t_=null;}return t_;}),ActivateKeyListener:$.Field(function(){var ub,uc,ui;if(!_0.KeyListenerState().KeyListenerActive){uc=P(F).keydown(function(ud){var ue,uf,ug;ue=ud.which;uf=_0.KeyListenerState().LastPressed;V.Set(uf,ue);ug=V.Get(_0.KeyListenerState().KeysPressed);return!d.exists(function(uh){return uh===ue;},ug)?V.Set(_0.KeyListenerState().KeysPressed,B.append(ug,B.ofArray([ue]))):null;});ui=P(F).keyup(function(uj){var uk,ul,um,uo;uk=uj.which;ul=_0.KeyListenerState().KeysPressed;um=function(un){return un!==uk;};uo=function(up){return B.filter(um,up);};return V.Update(ul,uo);});ub=void ui;}else{ub=null;}return ub;}),KeyListenerState:$.Field(function(){return{KeysPressed:X.Create($.New(O,{$:0})),KeyListenerActive:false,LastPressed:X.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(uq){var ur;_0.ActivateKeyListener();ur=function(us){return us===uq;};return u.Map(function(ut){return d.exists(ur,ut);},_0.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Left.get_View();},get_MiddlePressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Middle.get_View();},get_MousePressed:function(){_0.ActivateButtonListener();return E.Apply(E.Apply(E.Apply(E.Const(function(uu){return function(uv){return function(uw){return(uu?true:uv)?true:uw;};};}),_0.MouseBtnSt1().Left.get_View()),_0.MouseBtnSt1().Middle.get_View()),_0.MouseBtnSt1().Right.get_View());},get_Position:function(){var ux,uB;ux=function(uy){var uz,uA;uz=_0.MousePosSt1().PosV;uA=[uy.clientX,uy.clientY];return V.Set(uz,uA);};if(!_0.MousePosSt1().Active){F.addEventListener("mousemove",ux,false);uB=void(_0.MousePosSt1().Active=true);}else{uB=null;}return _0.MousePosSt1().PosV.get_View();},get_RightPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt1().Right.get_View();}}),MouseBtnSt1:$.Field(function(){return{Active:false,Left:X.Create(false),Middle:X.Create(false),Right:X.Create(false)};}),MousePosSt1:$.Field(function(){return{Active:false,PosV:X.Create([0,0])};})},Interpolation1:$.Class({},{get_Double:function(){return $.New(_1,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(_2,{$:0,$0:h.Int()});}}),ListModel:$.Class({Add:function(uC){var uD,uE,uF,uG,uI=this,uJ;uD=V.Get(this.Var);if(!_3.Contains(this.get_Key(),uC,uD)){uF=this.Storage;uE=V.Set(this.Var,uF.Add(uC,uD));}else{uG=c.findINdex(function(uH){return m.Equals((uI.get_Key())(uH),(uI.get_Key())(uC));},uD);uJ=uI.Storage;uE=V.Set(uI.Var,uJ.SetAt(uG,uC,uD));}return uE;},Clear:function(){return V.Set(this.Var,this.Storage.Set(d.empty()));},ContainsKey:function(uK){var uM=this;return d.exists(function(uL){return m.Equals(uM.key.call(null,uL),uK);},V.Get(uM.Var));},ContainsKeyAsView:function(uN){var uO,uQ=this,uR,uT;uO=function(uP){return m.Equals(uQ.key.call(null,uP),uN);};uR=function(uS){return d.exists(uO,uS);};uT=uQ.Var.get_View();return u.Map(uR,uT);},Find:function(uU){return c.find(uU,V.Get(this.Var));},FindAsView:function(uV){var uW,uY;uW=function(uX){return c.find(uV,uX);};uY=this.Var.get_View();return u.Map(uW,uY);},FindByKey:function(uZ){var u1=this;return c.find(function(u0){return m.Equals(u1.key.call(null,u0),uZ);},V.Get(u1.Var));},FindByKeyAsView:function(u2){var u3,u5=this,u6,u8;u3=function(u4){return m.Equals(u5.key.call(null,u4),u2);};u6=function(u7){return c.find(u3,u7);};u8=u5.Var.get_View();return u.Map(u6,u8);},Iter:function(u9){return c.iter(u9,V.Get(this.Var));},Lens:function(u_){var u$,vb;u$=function(va){return va;};vb=function(){return function(vd){return vd;};};return this.LensInto(u$,vb,u_);},LensInto:function(ve,vf,vg){return _4.New(this,vg,ve,vf);},Remove:function(vh){var vi,vj,vk,vl,vm,vn;vi=V.Get(this.Var);if(_3.Contains(this.key,vh,vi)){vk=this.key;vl=vk(vh);vm=this.Storage;vn=function(vo){return!m.Equals(vk(vo),vl);};vj=V.Set(this.Var,vm.RemoveIf(vn,vi));}else{vj=null;}return vj;},RemoveBy:function(vp){var vq,vr,vs,vv;vq=this.Var;vr=this.Storage;vs=function(vt){var vu;vu=vp(vt);return!vu;};vv=V.Get(this.Var);return V.Set(vq,vr.RemoveIf(vs,vv));},RemoveByKey:function(vw){var vx,vy,vz,vB=this,vC;vx=this.Var;vy=this.Storage;vz=function(vA){return!m.Equals((vB.get_Key())(vA),vw);};vC=V.Get(vB.Var);return V.Set(vx,vy.RemoveIf(vz,vC));},Set:function(vD){return V.Set(this.Var,this.Storage.Set(vD));},TryFind:function(vE){return c.tryFind(vE,V.Get(this.Var));},TryFindAsView:function(vF){var vG,vI;vG=function(vH){return c.tryFind(vF,vH);};vI=this.Var.get_View();return u.Map(vG,vI);},TryFindByKey:function(vJ){var vL=this;return c.tryFind(function(vK){return m.Equals(vL.key.call(null,vK),vJ);},V.Get(vL.Var));},TryFindByKeyAsView:function(vM){var vN,vP=this,vQ,vS;vN=function(vO){return m.Equals(vP.key.call(null,vO),vM);};vQ=function(vR){return c.tryFind(vN,vR);};vS=vP.Var.get_View();return u.Map(vQ,vS);},UpdateAll:function(vT){var vU,vV,v3=this;vU=this.Var;vV=function(vW){var vX;vX=function(vY){return function(vZ){var v0,v2;v0=function(v1){return c.set(vW,vY,v1);};v2=vT(vZ);return t.iter(v0,v2);};};c.iteri(vX,vW);return v3.Storage.Set(vW);};return V.Update(vU,vV);},UpdateBy:function(v4,v5){var v6,v7,v9=this,v_,v$,wa,wb,wc,wd;v6=V.Get(this.Var);v7=c.tryFindIndex(function(v8){return m.Equals(v9.key.call(null,v8),v5);},v6);if(v7.$==1){v$=v7.$0;wa=v4(c.get(v6,v$));if(wa.$==1){wc=wa.$0;wd=v9.Storage;wb=V.Set(v9.Var,wd.SetAt(v$,wc,v6));}else{wb=null;}v_=wb;}else{v_=null;}return v_;},get_Key:function(){return this.key;},get_Length:function(){return c.length(V.Get(this.Var));},get_LengthAsView:function(){var we,wg;we=function(wf){return c.length(wf);};wg=this.Var.get_View();return u.Map(we,wg);},get_View:function(){return this.view;}},{Create:function(wh,wi){var wj,wk;wj=d.toArray(wi);wk=_5.InMemory(wj);return _6.CreateWithStorage(wh,wk);},CreateWithStorage:function(wl,wm){var wn,wo,wp,wq,wt,wu;wn=I.distinctBy(wl,wm.Init());wo=d.toArray(wn);wp=X.Create(wo);wq=function(wr){var ws;ws=wm.Set(wr);return wr.slice();};wt=wp.get_View();wu=u.Map(wq,wt);return $.New(_6,{key:wl,Var:wp,Storage:wm,view:wu});},FromSeq:function(wv){var ww;ww=function(wx){return wx;};return _6.Create(ww,wv);}}),ListModel1:$.Class({},{Key:function(wy){return wy.key;},View:function(wz){return wz.view;}}),ListModels:{Contains:function(wA,wB,wC){var wD;wD=wA(wB);return d.exists(function(wE){return m.Equals(wA(wE),wD);},wC);}},Model:$.Class({get_View:function(){return _7.View(this);}},{Create:function(wF,wG){var wH,wI,wJ;wH=X.Create(wG);wI=wH.get_View();wJ=u.Map(wF,wI);return $.New(_7,{$:0,$0:wH,$1:wJ});},Update:function(wK,wL){var wM,wN;wM=wL.$0;wN=function(wO){wK(wO);return wO;};return V.Update(wM,wN);},View:function(wP){var wQ;wQ=wP.$1;return wQ;}}),ReactiveExtensions:$.Class({},{New:function(){return $.New(this,{});}}),RefImpl:$.Class({Get:function(){return this.get.call(null,this.baseRef.Get());},Set:function(wR){var wT=this;return this.baseRef.Update(function(wS){return(wT.update.call(null,wS))(wR);});},Update:function(wU){var wW=this;return this.baseRef.Update(function(wV){return(wW.update.call(null,wV))(wU(wW.get.call(null,wV)));});},UpdateMaybe:function(wX){var wZ=this;return this.baseRef.UpdateMaybe(function(wY){return t.map(wZ.update.call(null,wY),wX(wZ.get.call(null,wY)));});},get_Id:function(){return this.id;},get_View:function(){var w0,w1;w0=this.get;w1=this.baseRef.get_View();return u.Map(w0,w1);}},{New:function(w2,w3,w4){var w5;w5=$.New(this,{});w5.baseRef=w2;w5.get=w3;w5.update=w4;w5.id=h.Id();return w5;}}),RefImpl1:$.Class({Get:function(){return this.get.call(null,this.m.FindByKey(this.key));},Set:function(w6){var w7,w8,w_=this,w$;w7=this.m;w8=function(w9){return{$:1,$0:(w_.update.call(null,w9))(w6)};};w$=w_.key;return w7.UpdateBy(w8,w$);},Update:function(xa){var xb,xc,xe=this,xf;xb=this.m;xc=function(xd){return{$:1,$0:(xe.update.call(null,xd))(xa(xe.get.call(null,xd)))};};xf=xe.key;return xb.UpdateBy(xc,xf);},UpdateMaybe:function(xg){var xh,xi,xk=this,xl;xh=this.m;xi=function(xj){return t.map(xk.update.call(null,xj),xg(xk.get.call(null,xj)));};xl=xk.key;return xh.UpdateBy(xi,xl);},get_Id:function(){return this.id;},get_View:function(){var xm,xn;xm=this.get;xn=this.m.FindByKeyAsView(this.key);return u.Map(xm,xn);}},{New:function(xo,xp,xq,xr){var xs;xs=$.New(this,{});xs.m=xo;xs.key=xp;xs.get=xq;xs.update=xr;xs.id=h.Id();return xs;}}),Route:{Append:function(xt,xu){var xv,xw;xv=xt.$0;xw=xu.$0;return{$:0,$0:p.Append(xv,xw)};},FromList:function(xx){var xy,xz;xy=c.ofSeq(xx);xz=p.FromArray(xy);return{$:0,$0:xz};},MakeHash:function(xA){var xB,xC,xD;xB=xA.$0;xC=p.ToArray(xB);xD=c.map(function(xE){return _8(xE);},xC);return _9.concat("/",xD);},NoHash:function(xF){return _9.StartsWith(xF,"#")?xF.substring(1):xF;},ParseHash:function(xG){var xH,xI,xK;xH=_9.SplitChars(_.NoHash(xG),[47],1);xI=c.map(function(xJ){return ba(xJ);},xH);xK=p.FromArray(xI);return{$:0,$0:xK};},SameHash:function(xL,xM){return _.NoHash(xL)===_.NoHash(xM);},ToList:function(xN){var xO,xP;xO=xN.$0;xP=p.ToArray(xO);return B.ofArray(xP);}},RouteMap1:$.Class({},{Create:function(xQ,xR){return{Des:xR,Ser:xQ};},Install:function(xS){return bb.InstallMap(xS);}}),Router1:$.Class({},{Dir:function(xT,xU){var xV;xV=bc.Merge(xU);return bc.Prefix(xT,xV);},Install:function(xW,xX){return bb.Install(xW,xX);},Merge:function(xY){return bb.MergeRouters(xY);},Prefix:function(xZ,x0){var x1,x2;x1=x0.$0;x2=x0.$1;return{$:0,$0:x1,$1:bd.Prefix(xZ,x2)};},Route:function(x3,x4,x5){return bb.DefineRoute(x3,x4,x5);}}),Routing:{ComputeBodies:function(x6){var x7,x8,x_;x7=be.New12();x8=function(x9){return x7.set_Item(x9.RouteId,x9);};x_=bd.ToArray(x6);c.iter(x8,x_);return x7;},DefineRoute:function(x$,ya,yb){var yc,yd,ye,yf;yc=X.Create(ya);yd=h.Int();ye=(yb({$:0,$0:yd}))(yc);yf=bd.Leaf({$:0,$0:yd,$1:function(yg){var yh,yj;yh=function(yi){return yg.UpdateRoute.call(null,bb.DoLink(x$,yi));};yj=yc.get_View();E.Sink(yh,yj);return{OnRouteChanged:function(yk){return V.Set(yc,bb.DoRoute(x$,yk));},OnSelect:function(){return yg.UpdateRoute.call(null,bb.DoLink(x$,V.Get(yc)));},RouteId:yd,RouteValue:ye};}});return{$:0,$0:{$:1,$0:ye},$1:yf};},DoLink:function(ym,yn){return _.FromList(ym.Ser.call(null,yn));},DoRoute:function(yo,yp){return yo.Des.call(null,_.ToList(yp));},Install:function(yq,yr){var ys,yt,yu,yx,yy,yE,yF,yH,yI,yJ,yK,yL,yM,yN,yO,yQ,yR,yY;ys=yr.$0;yt=yr.$1;yu=bb.InstallMap({Des:function(yv){return _.FromList(yv);},Ser:function(yw){return _.ToList(yw);}});yx={Bodies:g.U(),CurrentRoute:yu,CurrentSite:0,Selection:g.U()};yy=function(yz){return function(yA){var yB,yC;yB=yA.$1;yC=yA.$0;return yB({UpdateRoute:function(yD){return bb.OnInternalSiteUpdate(yx,yC,yz,yD);}});};};yE=bd.Map(yy,yt);yx.Bodies=bb.ComputeBodies(yE);yF=function(yG){return bd.Lookup(yE,_.ToList(yG));};yH=yF(V.Get(yu));if(yH.$==0){yK=yH.$0;yH.$1;yx.CurrentSite=yK.RouteId;yJ=X.Create(yK.RouteValue);}else{if(ys.$==1){yN=ys.$0;yM=yN;}else{yM=N.FailWith("Site.Install fails on empty site");}yL=yM;yJ=X.Create(yL);}yI=yJ;yx.Selection=yI;yO=function(yP){return bb.OnSelectSite(yx,yq(yP));};yQ=yI.get_View();E.Sink(yO,yQ);yR=function(yS){var yT,yU,yV,yW,yX;yT=yF(yS);if(yT.$==1){yU=null;}else{yV=yT.$0;yW=yT.$1;yX=_.FromList(yW);yU=bb.OnGlobalRouteChange(yx,yV,yX);}return yU;};yR(V.Get(yu));yY=yu.get_View();E.Sink(yR,yY);return yI;},InstallMap:function(yZ){var y0,y3,y4,y7,y9,za;y0=function(){var y2;y2=_.ParseHash(bf.location.hash);return yZ.Des.call(null,_.ToList(y2));};y3=X.Create(y0(null));y4=function(y5){var y6;y6=V.Get(y3);return!m.Equals(yZ.Ser.call(null,y6),yZ.Ser.call(null,y5))?V.Set(y3,y5):null;};y7=function(){return y4(y0(null));};bf.onpopstate=y7;bf.onhashchange=y7;y9=function(y_){var y$;y$=_.MakeHash(_.FromList(yZ.Ser.call(null,y_)));return!_.SameHash(bf.location.hash,y$)?void(bf.location.hash=y$):null;};za=y3.get_View();E.Sink(y9,za);return y3;},MergeRouters:function(zb){var zc,zd,zg,zh,zi,zl,zm,zn;zc=d.toArray(zb);zd=function(ze){var zf;zf=ze.$1;return zf;};zg=d.map(zd,zc);zh=bd.Merge(zg);zi=function(zj){var zk;zk=zj.$0;return zk;};zl=d.tryPick(zi,zc);if(zh.$==1){zn=zh.$0;zm={$:0,$0:zl,$1:zn};}else{zm=N.FailWith("Invalid Site.Merge: need more prefix disambiguation");}return zm;},OnGlobalRouteChange:function(zo,zp,zq){var zr;if(zo.CurrentSite!==zp.RouteId){zo.CurrentSite=zp.RouteId;zr=V.Set(zo.Selection,zp.RouteValue);}else{zr=null;}return zp.OnRouteChanged.call(null,zq);},OnInternalSiteUpdate:function(zs,zt,zu,zv){var zw,zx;if(zs.CurrentSite===zt){zx=_.Append(_.FromList(zu),zv);zw=bb.SetCurrentRoute(zs,zx);}else{zw=null;}return zw;},OnSelectSite:function(zy,zz){var zA,zB;zA=zz.$0;if(zy.CurrentSite!==zA){zy.CurrentSite=zA;zB=zy.Bodies.get_Item(zA).OnSelect.call(null,null);}else{zB=null;}return zB;},SetCurrentRoute:function(zC,zD){return!m.Equals(V.Get(zC.CurrentRoute),zD)?V.Set(zC.CurrentRoute,zD):null;}},Snap1:{Bind:function(zE,zF){var zG,zH,zJ;zG=bg.Create();zH=function(){return bg.MarkObsolete(zG);};zJ=function(zK){var zL;zL=zE(zK);return bg.When(zL,function(zM){return(bg.IsForever(zL)?bg.IsForever(zF):false)?bg.MarkForever(zG,zM):bg.MarkReady(zG,zM);},zH);};bg.When(zF,zJ,zH);return zG;},Create:function(){return bg.Make({$:3,$0:[],$1:[]});},CreateForever:function(zN){return bg.Make({$:0,$0:zN});},CreateWithValue:function(zO){return bg.Make({$:2,$0:zO,$1:[]});},IsForever:function(zP){var zQ;zQ=zP.State;return zQ.$==0?true:false;},IsObsolete:function(zR){var zS;zS=zR.State;return zS.$==1?true:false;},Make:function(zT){return{State:zT};},Map:function(zU,zV){var zW,zX,zY,zZ;zW=zV.State;if(zW.$==0){zY=zW.$0;zX=bg.CreateForever(zU(zY));}else{zZ=bg.Create();bg.When(zV,function(z0){var z1;z1=zU(z0);return bg.MarkDone(zZ,zV,z1);},function(){return bg.MarkObsolete(zZ);});zX=zZ;}return zX;},Map2:function(z3,z4,z5){var z6,z7,z8,z9,z_,z$,Aa,Ab,Ad,Ae,Af,Ag,Ai;z6=[z4.State,z5.State];if(z6[0].$==0){if(z6[1].$==0){z9=z6[0].$0;z_=z6[1].$0;z8=bg.CreateForever((z3(z9))(z_));}else{z$=z6[0].$0;z8=bg.Map(z3(z$),z5);}z7=z8;}else{if(z6[1].$==0){Ab=z6[1].$0;Aa=bg.Map(function(Ac){return(z3(Ac))(Ab);},z4);}else{Ad=bg.Create();Ae=[{$:0}];Af=[{$:0}];Ag=function(){Ae[0]={$:0};Af[0]={$:0};return bg.MarkObsolete(Ad);};Ai=function(){var Ak,Al,Am,An,Ao;Ak=[Ae[0],Af[0]];if(Ak[0].$==1){if(Ak[1].$==1){An=Ak[0].$0;Ao=Ak[1].$0;Am=(bg.IsForever(z4)?bg.IsForever(z5):false)?bg.MarkForever(Ad,(z3(An))(Ao)):bg.MarkReady(Ad,(z3(An))(Ao));}else{Am=null;}Al=Am;}else{Al=null;}return Al;};bg.When(z4,function(Ap){Ae[0]={$:1,$0:Ap};return Ai(null);},Ag);bg.When(z5,function(Aq){Af[0]={$:1,$0:Aq};return Ai(null);},Ag);Aa=Ad;}z7=Aa;}return z7;},Map3:function(Ar,As,At,Au){var Av,Aw,Ax,Ay,Az,AA,AB,AC,AD,AF,AG,AH,AJ,AM,AN,AO,AP,AR,AU,AV,AY,AZ,A0,A1,A2,A4;Av=[As.State,At.State,Au.State];if(Av[0].$==0){if(Av[1].$==0){if(Av[2].$==0){Az=Av[0].$0;AA=Av[1].$0;AB=Av[2].$0;Ay=bg.CreateForever(((Ar(Az))(AA))(AB));}else{AC=Av[0].$0;AD=Av[1].$0;Ay=bg.Map(function(AE){return((Ar(AC))(AD))(AE);},Au);}Ax=Ay;}else{if(Av[2].$==0){AG=Av[0].$0;AH=Av[2].$0;AF=bg.Map(function(AI){return((Ar(AG))(AI))(AH);},At);}else{AJ=Av[0].$0;AF=bg.Map2(function(AK){return function(AL){return((Ar(AJ))(AK))(AL);};},At,Au);}Ax=AF;}Aw=Ax;}else{if(Av[1].$==0){if(Av[2].$==0){AO=Av[1].$0;AP=Av[2].$0;AN=bg.Map(function(AQ){return((Ar(AQ))(AO))(AP);},As);}else{AR=Av[1].$0;AN=bg.Map2(function(AS){return function(AT){return((Ar(AS))(AR))(AT);};},As,Au);}AM=AN;}else{if(Av[2].$==0){AV=Av[2].$0;AU=bg.Map2(function(AW){return function(AX){return((Ar(AW))(AX))(AV);};},As,At);}else{AY=bg.Create();AZ=[{$:0}];A0=[{$:0}];A1=[{$:0}];A2=function(){AZ[0]={$:0};A0[0]={$:0};A1[0]={$:0};return bg.MarkObsolete(AY);};A4=function(){var A6,A7,A8,A9,A_,A$,Ba;A6=[AZ[0],A0[0],A1[0]];if(A6[0].$==1){if(A6[1].$==1){if(A6[2].$==1){A_=A6[0].$0;A$=A6[1].$0;Ba=A6[2].$0;A9=((bg.IsForever(As)?bg.IsForever(At):false)?bg.IsForever(Au):false)?bg.MarkForever(AY,((Ar(A_))(A$))(Ba)):bg.MarkReady(AY,((Ar(A_))(A$))(Ba));}else{A9=null;}A8=A9;}else{A8=null;}A7=A8;}else{A7=null;}return A7;};bg.When(As,function(Bb){AZ[0]={$:1,$0:Bb};return A4(null);},A2);bg.When(At,function(Bc){A0[0]={$:1,$0:Bc};return A4(null);},A2);bg.When(Au,function(Bd){A1[0]={$:1,$0:Bd};return A4(null);},A2);AU=AY;}AM=AU;}Aw=AM;}return Aw;},MapAsync:function(Be,Bf){var Bg;Bg=bg.Create();bg.When(Bf,function(Bh){return bh.StartTo(Be(Bh),function(Bi){return bg.MarkDone(Bg,Bf,Bi);});},function(){return bg.MarkObsolete(Bg);});return Bg;},MapCached:function(Bk,Bl,Bm){var Bn;Bn=function(Bo){var Bp,Bq,Br,Bs,Bt,Bu,Bv;Bp=Bk[0];if(Bp.$==1){Bp.$0[1];Br=Bp.$0[0];if(m.Equals(Bo,Br)){Bp.$0[0];Bt=Bp.$0[1];Bs=Bt;}else{Bu=Bl(Bo);Bk[0]={$:1,$0:[Bo,Bu]};Bs=Bu;}Bq=Bs;}else{Bv=Bl(Bo);Bk[0]={$:1,$0:[Bo,Bv]};Bq=Bv;}return Bq;};return bg.Map(Bn,Bm);},MarkDone:function(Bw,Bx,By){return bg.IsForever(Bx)?bg.MarkForever(Bw,By):bg.MarkReady(Bw,By);},MarkForever:function(Bz,BA){var BB,BC,BD;BB=Bz.State;if(BB.$==3){BD=BB.$0;Bz.State={$:0,$0:BA};BC=l.Iter(function(BE){return BE(BA);},BD);}else{BC=null;}return BC;},MarkObsolete:function(BF){var BG,BH,BI,BK;BG=BF.State;if(BG.$==1){BH=null;}else{if(BG.$==2){BI=BG.$1;BF.State={$:1};BH=l.Iter(function(BJ){return BJ(null);},BI);}else{if(BG.$==3){BK=BG.$1;BF.State={$:1};BH=l.Iter(function(BL){return BL(null);},BK);}else{BH=null;}}}return BH;},MarkReady:function(BM,BN){var BO,BP,BQ,BR;BO=BM.State;if(BO.$==3){BQ=BO.$1;BR=BO.$0;BM.State={$:2,$0:BN,$1:BQ};BP=l.Iter(function(BS){return BS(BN);},BR);}else{BP=null;}return BP;},Sequence:function(BT){var BU,BV,BW,BX,BY,BZ,B1,B4;BU=bg.Create();BV=c.ofSeq(BT);BW=c.length(BV);BX=[0];BY=[[]];BZ=function(){BX[0]=0;BY[0]=[];return bg.MarkObsolete(BU);};B1=function(){return BX[0]===BW?d.forall(function(B3){return bg.IsForever(B3);},BV)?bg.MarkForever(BU,BY[0]):bg.MarkReady(BU,BY[0]):null;};B4=function(B5){return function(B6){return bg.When(B6,function(B7){BY[0][B5]=B7;bi.incr(BX);return B1(null);},BZ);};};c.iteri(B4,BV);return BU;},SnapshotOn:function(B8,B9){var B_,B$,Ca,Cb,Cc,Cd,Ce,Cg;B_=[B8.State,B9.State];if(B_[1].$==0){Ca=B_[1].$0;B$=bg.CreateForever(Ca);}else{Cb=bg.Create();Cc=[{$:0}];Cd=[false];Ce=function(){Cc[0]={$:0};return bg.MarkObsolete(Cb);};Cg=function(){var Ci,Cj,Ck,Cl,Cm,Cn,Co,Cp,Cq;if(Cd[0]){Cj=Cc[0];if(Cj.$==1){Cj.$0;if(bg.IsForever(B9)){Cm=Cj.$0;Cl=bg.MarkForever(Cb,Cm);}else{if(Cj.$==1){Co=Cj.$0;Cn=bg.MarkReady(Cb,Co);}else{Cn=null;}Cl=Cn;}Ck=Cl;}else{if(Cj.$==1){Cq=Cj.$0;Cp=bg.MarkReady(Cb,Cq);}else{Cp=null;}Ck=Cp;}Ci=Ck;}else{Ci=null;}return Ci;};bg.When(B8,function(){Cd[0]=true;return Cg(null);},Ce);bg.When(B9,function(Cs){Cc[0]={$:1,$0:Cs};return Cg(null);},function(){});B$=Cb;}return B$;},When:function(Cu,Cv,Cw){var Cx,Cy,Cz,CA,CB,CC,CD;Cx=Cu.State;if(Cx.$==1){Cy=Cw(null);}else{if(Cx.$==2){Cz=Cx.$0;CA=Cx.$1;l.Add(Cw,CA);Cy=Cv(Cz);}else{if(Cx.$==3){CB=Cx.$1;CC=Cx.$0;l.Add(Cv,CC);Cy=l.Add(Cw,CB);}else{CD=Cx.$0;Cy=Cv(CD);}}}return Cy;}},Storage1:{ArrayStorage:$.Class({Add:function(CE,CF){var CG;CG=CF.push(CE);return CF;},Init:function(){return this.init;},RemoveIf:function(CH,CI){return c.filter(CH,CI);},Set:function(CJ){return d.toArray(CJ);},SetAt:function(CK,CL,CM){c.set(CM,CK,CL);return CM;}},{New:function(CN){var CO;CO=$.New(this,{});CO.init=CN;return CO;}}),InMemory:function(CP){return bj.New(CP);},LocalStorage:function(CQ,CR){return bk.New(CQ,CR);},LocalStorageBackend:$.Class({Add:function(CS,CT){var CU;CU=CT.push(CS);return this.set(CT);},Init:function(){var CV,CW,CX,CY,CZ,C0;CV=this.storage.getItem(this.id);if(CV===null){CW=[];}else{try{CY=bl.parse(CV);CZ=this.serializer.Decode;CX=c.map(CZ,CY);}catch(C0){CX=[];}CW=CX;}return CW;},RemoveIf:function(C1,C2){var C3;C3=c.filter(C1,C2);return this.set(C3);},Set:function(C4){var C5;C5=d.toArray(C4);return this.set(C5);},SetAt:function(C6,C7,C8){c.set(C8,C6,C7);return this.set(C8);},clear:function(){return this.storage.removeItem(this.id);},set:function(C9){var C_,C$;C_=this.serializer.Encode;C$=c.map(C_,C9);this.storage.setItem(this.id,bl.stringify(C$));return C9;}},{New:function(Da,Db){var Dc;Dc=$.New(this,{});Dc.id=Da;Dc.serializer=Db;Dc.storage=bf.localStorage;return Dc;}})},String:{isBlank:function(Dd){return _9.forall(function(De){return bm.IsWhiteSpace(De);},Dd);}},Submitter:$.Class({Trigger:function(){return V.Set(this["var"],null);},get_Input:function(){return this.input;},get_View:function(){return this.view;}},{Create:function(Df,Dg){return bn.New(Df,Dg);},CreateOption:function(Dh){var Di;Di=function(Dj){return{$:1,$0:Dj};};return bn.New(u.Map(Di,Dh),{$:0});},New:function(Dk,Dl){var Dm,Dn,Do;Dm=$.New(this,{});Dm.input=Dk;Dm["var"]=X.Create(null);Dn=Dm["var"].get_View();Do=Dm.input;Dm.view=u.SnapshotOn(Dl,Dn,Do);return Dm;},Trigger:function(Dp){return Dp.Trigger();},View:function(Dq){return Dq.get_View();}}),Submitter1:$.Class({},{Input:function(Dr){return Dr.get_Input();}}),Trans:$.Class({},{AnimateChange:function(Ds,Dt,Du){return(Ds.TChange.call(null,Dt))(Du);},AnimateEnter:function(Dv,Dw){return Dv.TEnter.call(null,Dw);},AnimateExit:function(Dx,Dy){return Dx.TExit.call(null,Dy);},CanAnimateChange:function(Dz){return(Dz.TFlags&1)!==0;},CanAnimateEnter:function(DA){return(DA.TFlags&2)!==0;},CanAnimateExit:function(DB){return(DB.TFlags&4)!==0;},Create:function(DC){return{TChange:DC,TEnter:function(DD){return o.Const(DD);},TExit:function(DE){return o.Const(DE);},TFlags:1};},Trivial:function(){return{TChange:function(){return function(DG){return o.Const(DG);};},TEnter:function(DH){return o.Const(DH);},TExit:function(DI){return o.Const(DI);},TFlags:0};}}),Trans1:$.Class({},{Change:function(DJ,DK){var DL;DL=DK.TFlags|1;return{TChange:DJ,TEnter:DK.TEnter,TExit:DK.TExit,TFlags:DL};},Enter:function(DM,DN){var DO;DO=DN.TFlags|2;return{TChange:DN.TChange,TEnter:DM,TExit:DN.TExit,TFlags:DO};},Exit:function(DP,DQ){var DR;DR=DQ.TFlags|4;return{TChange:DQ.TChange,TEnter:DQ.TEnter,TExit:DP,TFlags:DR};}}),Trie1:{AllSome:function(DS){var DT,DU,DV,DW,DX,DY;DT=bo.Get(DS);DU=bq.New2();DV=true;while(DV?DT.MoveNext():false){DW=DT.get_Current();if(DW.$==1){DY=DW.$0;DX=DU.Add(DY);}else{DX=DV=false;}}return DV?{$:1,$0:DU.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(DZ){return DZ.$==2?true:false;},Leaf:function(D0){return{$:2,$0:D0};},Look:function(D1,D2){var D3,D4,D5,D6,D7,D8,D9,D_,D$,Ea;D3=[D2,D1];if(D3[0].$==2){D5=D3[0].$0;D4={$:0,$0:D5,$1:D1};}else{if(D3[0].$==0){if(D3[1].$==1){D7=D3[1].$0;D8=D3[1].$1;D9=D3[0].$0;D_=br.TryFind(D7,D9);if(D_.$==0){D$={$:1};}else{Ea=D_.$0;D$=bd.Look(D8,Ea);}D6=D$;}else{D6={$:1};}D4=D6;}else{D4={$:1};}}return D4;},Lookup:function(Eb,Ec){return bd.Look(d.toList(Ec),Eb);},Map:function(Ed,Ee){return bd.MapLoop($.New(O,{$:0}),Ed,Ee);},MapLoop:function(Ef,Eg,Eh){var Ei,Ej,Ek,El,Eo;if(Eh.$==1){Ei={$:1};}else{if(Eh.$==2){Ej=Eh.$0;Ei={$:2,$0:(Eg(Ef))(Ej)};}else{Ek=Eh.$0;El=function(Em){return function(En){return bd.MapLoop(B.append(Ef,B.ofArray([Em])),Eg,En);};};Eo=br.Map(El,Ek);Ei=bd.TrieBranch(Eo);}}return Ei;},Mapi:function(Ep,Eq){var Er,Es;Er=[0];Es=function(){var Eu;Eu=Er[0];Er[0]=Eu+1;return Eu;};return bd.Map(function(Ev){return(Ep(Es(null)))(Ev);},Eq);},Merge:function(Ew){var Ex,Ey,Ez,EB,EC,EG,EI,EK,EL;Ex=d.toArray(Ew);Ey=c.length(Ex);if(Ey===0){Ez={$:1,$0:{$:1}};}else{if(Ey===1){Ez={$:1,$0:c.get(Ex,0)};}else{if(d.exists(function(EA){return bd.IsLeaf(EA);},Ex)){EB={$:0};}else{EC=function(ED){var EE,EF;if(ED.$==0){EF=ED.$0;EE={$:1,$0:EF};}else{EE={$:0};}return EE;};EG=function(EH){return bd.Merge(EH);};EI=function(EJ){return bd.TrieBranch(EJ);};EK=d.choose(EC,Ex);EL=bd.MergeMaps(EG,EK);EB=t.map(EI,EL);}Ez=EB;}}return Ez;},MergeMaps:function(EM,EN){var EO,EQ,EV,EW,EX,EY,E5,E6,E7;EO=d.collect(function(EP){return br.ToSeq(EP);},EN);EQ=function(ER){return function(ES){var ET,EU;ET=ES[0];EU=ES[1];return bd.MultiAdd(ET,EU,ER);};};EV=bs.New1([]);EW=d.fold(EQ,EV,EO);EX=br.ToSeq(EW);EY=function(EZ){var E0,E1,E2,E4;E0=EZ[0];E1=EZ[1];E2=function(E3){return[E0,E3];};E4=EM(E1);return t.map(E2,E4);};E5=d.map(EY,EX);E6=bd.AllSome(E5);E7=function(E8){return br.OfArray(d.toArray(E8));};return t.map(E7,E6);},MultiAdd:function(E9,E_,E$){return E$.Add(E9,$.New(O,{$:1,$0:E_,$1:bd.MultiFind(E9,E$)}));},MultiFind:function(Fa,Fb){return N.DefaultArg(br.TryFind(Fa,Fb),$.New(O,{$:0}));},Prefix:function(Fc,Fd){return bd.TrieBranch(bs.New1(B.ofArray([[Fc,Fd]])));},ToArray:function(Fe){var Ff,Fg;Ff=[];Fg=bd.Map(function(){return function(Fi){return l.Add(Fi,Ff);};},Fe);return l.ToArray(Ff);},TrieBranch:function(Fj){return Fj.get_IsEmpty()?{$:1}:{$:0,$0:Fj};}},Var:$.Class({Get:function(){return V.Get(this);},Set:function(Fk){return V.Set(this,Fk);},Update:function(Fl){return V.Update(this,Fl);},UpdateMaybe:function(Fm){var Fn,Fo,Fp;Fn=Fm(V.Get(this));if(Fn.$==1){Fp=Fn.$0;Fo=V.Set(this,Fp);}else{Fo=null;}return Fo;},get_Id:function(){return"uinref"+$$.String(V.GetId(this));},get_View:function(){var Fr=this;return{$:0,$0:function(){return V.Observe(Fr);}};},get_View1:function(){return this.get_View();}},{Create:function(Fs){return $.New(X,{Const:false,Current:Fs,Snap:bg.CreateWithValue(Fs),Id:h.Int()});}}),Var1:$.Class({},{Get:function(Ft){return Ft.Current;},GetId:function(Fu){return Fu.Id;},Lens:function(Fv,Fw,Fx){return bt.New(Fv,Fw,Fx);},Observe:function(Fy){return Fy.Snap;},Set:function(Fz,FA){var FB;if(Fz.Const){FB=null;}else{bg.MarkObsolete(Fz.Snap);Fz.Current=FA;FB=void(Fz.Snap=bg.CreateWithValue(FA));}return FB;},SetFinal:function(FC,FD){var FE;if(FC.Const){FE=null;}else{FC.Const=true;FC.Current=FD;FE=void(FC.Snap=bg.CreateForever(FD));}return FE;},Update:function(FF,FG){var FH;FH=FG(V.Get(FF));return V.Set(FF,FH);}}),View:$.Class({},{ConvertSeqNode:function(FI,FJ){var FK,FL;FK=X.Create(FJ);FL=FK.get_View();return{NValue:FI(FL),NVar:FK,NView:FL};},CreateLazy:function(FM){var FN,FO;FN=[{$:0}];FO=function(){var FQ,FR,FS,FT,FU,FV,FW;FQ=FN[0];if(FQ.$==1){FS=FQ.$0;if(!bg.IsObsolete(FS)){FU=FQ.$0;FT=FU;}else{FV=FM(null);FN[0]={$:1,$0:FV};FT=FV;}FR=FT;}else{FW=FM(null);FN[0]={$:1,$0:FW};FR=FW;}return FR;};return{$:0,$0:FO};},CreateLazy2:function(FX,FY,FZ){var F0,F1;F0=FY.$0;F1=FZ.$0;return u.CreateLazy(function(){var F3,F4;F3=F0(null);F4=F1(null);return(FX(F3))(F4);});},Map:function(F5,F6){var F7;F7=F6.$0;return u.CreateLazy(function(){var F9;F9=F7(null);return bg.Map(F5,F9);});},Map2:function(F_,F$,Ga){var Gb;Gb=function(Gc){return function(Gd){return bg.Map2(F_,Gc,Gd);};};return u.CreateLazy2(Gb,F$,Ga);},MapAsync:function(Ge,Gf){var Gg;Gg=Gf.$0;return u.CreateLazy(function(){var Gi;Gi=Gg(null);return bg.MapAsync(Ge,Gi);});},MapCached:function(Gj,Gk){var Gl,Gm;Gl=Gk.$0;Gm=[{$:0}];return u.CreateLazy(function(){var Go;Go=Gl(null);return bg.MapCached(Gm,Gj,Go);});},MapSeqCached:function(Gp,Gq){var Gr;Gr=function(Gs){return Gs;};return u.MapSeqCachedBy(Gr,Gp,Gq);},MapSeqCachedBy:function(Gt,Gu,Gv){var Gw,Gx;Gw=[be.New12()];Gx=function(Gy){var Gz,GA,GB,GF,GG;Gz=Gw[0];GA=be.New12();GB=function(GC){var GD,GE;GD=Gt(GC);GE=Gz.ContainsKey(GD)?Gz.get_Item(GD):Gu(GC);GA.set_Item(GD,GE);return GE;};GF=d.toArray(Gy);GG=c.map(GB,GF);Gw[0]=GA;return GG;};return u.Map(Gx,Gv);},MapSeqCachedView:function(GH,GI){var GJ,GL;GJ=function(GK){return GK;};GL=function(){return function(GN){return GH(GN);};};return u.MapSeqCachedViewBy(GJ,GL,GI);},MapSeqCachedViewBy:function(GO,GP,GQ){var GR,GS;GR=[be.New12()];GS=function(GT){var GU,GV,GW,GX,G6;GU=GR[0];GV=be.New12();GW=d.toArray(GT);GX=function(GY){var GZ,G0,G1,G2,G3,G4;GZ=GO(GY);if(GU.ContainsKey(GZ)){G2=GU.get_Item(GZ);G3=G2.NVar;V.Set(G3,GY);G1=G2;}else{G4=function(G5){return(GP(GZ))(G5);};G1=u.ConvertSeqNode(G4,GY);}G0=G1;GV.set_Item(GZ,G0);return G0.NValue;};G6=c.map(GX,GW);GR[0]=GV;return G6;};return u.Map(GS,GQ);},SnapshotOn:function(G7,G8,G9){var G_,G$,Ha,Hb,Hc,Hf;G_=G8.$0;G$=G9.$0;Ha=bg.CreateWithValue(G7);Hb=[false];Hc=function(){var He;if(!Hb[0]){Hb[0]=true;He=bg.MarkObsolete(Ha);}else{He=null;}return He;};Hf=function(){var Hh,Hi,Hj,Hk;Hh=G_(null);Hi=G$(null);if(Hb[0]){Hj=bg.SnapshotOn(Hh,Hi);}else{Hk=bg.SnapshotOn(Hh,Hi);bg.When(Hk,function(){return null;},function(){return Hc(null);});Hj=Ha;}return Hj;};return u.CreateLazy(Hf);},UpdateWhile:function(Hn,Ho,Hp){var Hq,Hr;Hq=[Hn];Hr=function(Hs){return function(Ht){Hs?void(Hq[0]=Ht):null;return Hq[0];};};return u.Map2(Hr,Ho,Hp);},get_Do:function(){return{$:0};}}),View1:$.Class({},{Apply:function(Hu,Hv){var Hw;Hw=function(Hx){return function(Hy){return Hx(Hy);};};return u.Map2(Hw,Hu,Hv);},Bind:function(Hz,HA){return E.Join(u.Map(Hz,HA));},Const:function(HB){var HC;HC=bg.CreateForever(HB);return{$:0,$0:function(){return HC;}};},Join:function(HE){var HF;HF=HE.$0;return u.CreateLazy(function(){var HH,HK;HH=function(HI){var HJ;HJ=HI.$0;return HJ(null);};HK=HF(null);return bg.Bind(HH,HK);});},Sequence:function(HL){return u.CreateLazy(function(){var HN,HQ;HN=function(HO){var HP;HP=HO.$0;return HP(null);};HQ=d.map(HN,HL);return bg.Sequence(HQ);});},Sink:function(HR,HS){var HT,HU;HT=HS.$0;HU=function(){var HW;HW=HT(null);return bg.When(HW,HR,function(){return bh.Schedule(HU);});};return bh.Schedule(HU);},TryFinally:function(HY,HZ){var H0;H0=HZ.$0;return u.CreateLazy(function(){var H2;try{H2=H0(null);}finally{HY(null);}return H2;});},TryWith:function(H3,H4){var H5;H5=H4.$0;return u.CreateLazy(function(){var H7,H8,H9,H_;try{H7=H5(null);}catch(H8){H9=H3(H8);H_=H9.$0;H7=H_(null);}return H7;});}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Concurrency);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Seq);e=$.Safe($$.WebSharper.UI);f=$.Safe(e.Next);g=$.Safe(f.Abbrev);h=$.Safe(g.Fresh);i=$.Safe($$.WebSharper.Collections);j=$.Safe(i.HashSetProxy);k=$.Safe(g.HashSet);l=$.Safe(g.JQueue);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(g.Slot1);o=$.Safe(f.An);p=$.Safe(f.AppendList1);q=$.Safe(f.Anims);r=$.Safe($$.requestAnimationFrame);s=$.Safe(f.Trans);t=$.Safe($$.WebSharper.Option);u=$.Safe(f.View);v=$.Safe($$.WebSharper.Lazy);w=$.Safe(f.Array);x=$.Safe(f.Attrs);y=$.Safe(f.DomUtility);z=$.Safe(f.AttrModule);A=$.Safe(f.AttrProxy);B=$.Safe($$.WebSharper.List);C=$.Safe(f.AnimatedAttrNode);D=$.Safe(f.DynamicAttrNode);E=$.Safe(f.View1);F=$.Safe($$.document);G=$.Safe(f.Doc);H=$.Safe(f.Elt);I=$.Safe($$.Seq);J=$.Safe(f.Docs);K=$.Safe(f.String);L=$.Safe(f.CheckedInput);M=$.Safe(g.Mailbox);N=$.Safe($$.WebSharper.Operators);O=$.Safe(B.T);P=$.Safe($$.jQuery);Q=$.Safe(J.NodeSet);R=$.Safe(f.DocElemNode);S=$.Safe(J.DomNodes);T=$.Safe(f.Easing);U=$.Safe(f.Easings);V=$.Safe(f.Var1);W=$.Safe($$.RegExp);X=$.Safe(f.Var);Y=$.Safe(f.FlowBuilder);Z=$.Safe(f.Flow1);_0=$.Safe(f.Input);_1=$.Safe(f.DoubleInterpolation);_2=$.Safe(f.Key);_3=$.Safe(f.ListModels);_4=$.Safe(f.RefImpl1);_5=$.Safe(f.Storage1);_6=$.Safe(f.ListModel);_7=$.Safe(f.Model);_8=$.Safe($$.encodeURIComponent);_9=$.Safe($$.WebSharper.Strings);_=$.Safe(f.Route);ba=$.Safe($$.decodeURIComponent);bb=$.Safe(f.Routing);bc=$.Safe(f.Router1);bd=$.Safe(f.Trie1);be=$.Safe(i.Dictionary);bf=$.Safe($$.window);bg=$.Safe(f.Snap1);bh=$.Safe(g.Async);bi=$.Safe($$.WebSharper.Ref);bj=$.Safe(_5.ArrayStorage);bk=$.Safe(_5.LocalStorageBackend);bl=$.Safe($$.JSON);bm=$.Safe($$.WebSharper.Char);bn=$.Safe(f.Submitter);bo=$.Safe($$.WebSharper.Enumerator);bp=$.Safe(i.ResizeArray);bq=$.Safe(bp.ResizeArrayProxy);br=$.Safe(i.MapModule);bs=$.Safe(i.FSharpMap);return bt=$.Safe(f.RefImpl);});$.OnLoad(function(){$.Inherit(H,G);_0.MousePosSt1();_0.MouseBtnSt1();_0.KeyListenerState();_0.ActivateKeyListener();_0.ActivateButtonListener();U.CubicInOut();y.Doc();x.EmptyAttr();h.counter();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;$.Define($$,{WebSharper:{Forms:{Attr:{SubmitterValidate:function(O){var P,S,T,V,W,X;P=c.Handler("click",function(){return function(){return O.Trigger();};});S=d.Const("disabled");T=function(U){return f.IsFailure(U);};V=O.get_Input();W=g.Map(T,V);X=c.DynamicPred("disabled",W,S);return h.Append(P,X);}},Doc:{ButtonValidate:function(Y,Z,_0){return i.Element("button",j.append([k.SubmitterValidate(_0)],Z),l.ofArray([i.TextNode(Y)]));},ShowErrors:function(_1,_2){return i.BindView(function(_3){var _4,_5;if(_3.$==1){_5=_3.$0;_4=_2(_5);}else{_4=i.get_Empty();}return _4;},_1);},ShowSuccess:function(_6,_7){return i.BindView(function(_8){var _9,_;if(_8.$==1){_8.$0;_9=i.get_Empty();}else{_=_8.$0;_9=_7(_);}return _9;},_6);}},ErrorMessage:$.Class({get_Id:function(){return this.id;},get_Text:function(){return this.message;}},{Create:function(ba,bb){return m.New(ba,bb);},Create1:function(bb,bc){return m.New(bb.id,bc);},New:function(bd,be){var bf;bf=$.New(this,{});bf.id=bd;bf.message=be;return bf;}}),Form:{ApJoin:function(bg,bh){var bi,bl,bm,bn,bo;bi=function(bj){return function(bk){return f.ApJoin(bj,bk);};};bl=bg.view;bm=bh.view;bn=bg.render;bo=bh.render;return $.New(n,{id:o.Id(),view:g.Map2(bi,bl,bm),render:function(bp){return bo(bn(bp));}});},Apply:function(bq,br){var bs,bv,bw,bx,by;bs=function(bt){return function(bu){return f.Apply(bt,bu);};};bv=bq.view;bw=br.view;bx=bq.render;by=br.render;return $.New(n,{id:o.Id(),view:g.Map2(bs,bv,bw),render:function(bz){return by(bx(bz));}});},Builder:$.Class({Bind:function(bA,bB){return p.Dependent2(bA,bB);},Return:function(bC){return n.Return(bC);},ReturnFrom:function(bD){return bD;},Yield:function(bE){return p.Yield(bE);},YieldFrom:function(bF){return bF;},Zero:function(){return n.ReturnFailure();}}),Dependent:{Make:function(bG,bH){var bI,bN;bI=q.memoize(function(bJ){var bK,bL;bK=bH(bJ);bL=bK.view;return $.New(n,{id:bK.id,view:bL,render:function(bM){return bK.render.call(null,bM);}});});bN=g.Map(function(bO){return f.Map(bI,bO);},bG.view);return r.New(function(bP){return bG.render.call(null,bP);},bN);}},Dependent1:$.Class({RenderDependent:function(bQ){var bR,bV;bR=function(bS){var bT,bU;if(bS.$==1){bT=i.get_Empty();}else{bU=bS.$0;bT=bU.render.call(null,bQ);}return bT;};bV=this.pOut;return i.BindView(bR,bV);},RenderPrimary:function(bW){return this.renderPrimary.call(null,bW);},get_View:function(){return this.out;}},{New:function(bX,bY){var bZ;bZ=$.New(this,{});bZ.renderPrimary=bX;bZ.pOut=bY;bZ.out=d.Bind(function(b0){var b1,b2,b3;if(b0.$==1){b2=b0.$0;b1=d.Const({$:1,$0:b2});}else{b3=b0.$0;b1=b3.view;}return b1;},bZ.pOut);return bZ;}}),Dependent2:function(b4,b5){var b6;b6=s.Make(b4,b5);return $.New(n,{id:o.Id(),view:b6.get_View(),render:function(b7){return b7(b6);}});},FlushErrors:function(b8){return p.MapResult(function(b9){return b9.$==1?{$:1,$0:$.New(t,{$:0})}:b9;},b8);},Many:{Collection:$.Class({Add:function(b_){return this.add(b_);},Render:function(b$){var ca,cb,ce;ca=this.changesView;cb=function(cc){var cd;cc[0];cc[1];cd=cc[2];return cd;};ce=function(cf){var cg,ch;cg=cf[0];ch=cf[1];cf[2];return cg.render.call(null,b$(ch));};return i.ConvertBy(cb,ce,ca);},RenderAdder:function(ci){var cj,ck,cm=this,cn,co,cp;cj=this.adder.render.call(null,ci);ck=function(cl){return cm.adderView(cl);};cn=cm.adder.view;co=g.Map(ck,cn);cp=i.EmbedView(co);return i.Append(cp,cj);},add:function(cq){var cr,cs;this.arr.Add(this.mk(cq));cr=this["var"];cs=function(ct){return ct;};return u.Update(cr,cs);},adderView:function(cu){var cv,cw;if(cu.$==0){cw=cu.$0;cv=this.add(cw);}else{cv=null;}return i.get_Empty();},get_View:function(){return this.out;},mk:function(cx){var cy,cz,cC,cE,cF,cG,cJ=this,cN,cP,cQ,cR,cS,cT,c1,c2,c4,c5,c6,c7,c8,de,df,dg,dj,dk,dn,_do,dp;cy=(w.Int())(null);cz=function(cA){var cB;cA[0];cA[1];cB=cA[2];return cy===cB;};cC=function(cD){return j.findIndex(cz,cD);};cE=this["var"].get_View();cF=g.Map(cC,cE);cG=function(){var cI,cK,cL;cI=cC(cJ.arr);cJ.arr.RemoveAt(cI);cK=cJ["var"];cL=function(cM){return cM;};return u.Update(cK,cL);};cN=function(cO){return cO===0?{$:1,$0:$.New(t,{$:0})}:{$:0,$0:true};};cP=g.Map(cN,cF);cQ=cJ.arr.get_Count()===0?{$:1,$0:$.New(t,{$:0})}:{$:0,$0:false};cR=x.Create(cP,cQ);cS=cR.get_View();cT=function(cU){var cV,cW,cX,cY,cZ;if(cU.$==0){if(cU.$0){cX=cC(cJ.arr);v["List`1.Swap"](cJ.arr,cX,cX-1);cY=cJ["var"];cZ=function(c0){return c0;};cW=u.Update(cY,cZ);}else{cW=null;}cV=cW;}else{cV=null;}return cV;};c1=g.Map(cT,cS);c2=function(c3){return c3===cJ.arr.get_Count()-1?{$:1,$0:$.New(t,{$:0})}:{$:0,$0:true};};c4=g.Map(c2,cF);c5={$:1,$0:$.New(t,{$:0})};c6=x.Create(c4,c5);c7=c6.get_View();c8=function(c9){var c_,c$,da,db,dc;if(c9.$==0){if(c9.$0){da=cC(cJ.arr);v["List`1.Swap"](cJ.arr,da,da+1);db=cJ["var"];dc=function(dd){return dd;};c$=u.Update(db,dc);}else{c$=null;}c_=c$;}else{c_=null;}return c_;};de=g.Map(c8,c7);df=cJ.p.call(null,cx);dg=function(dh){return function(){return dh;};};dj=df.view;dk=function(){return function(){return null;};};dn=g.Map2(dk,c1,de);_do=g.Map2(dg,dj,dn);dp=$.New(n,{id:df.id,view:_do,render:df.render});return[dp,y.New(cG,cR,c6),cy];}},{New:function(dq,dr,ds){var dt,du,dx,dy,dO,dP;dt=$.New(this,{});dt.p=dq;dt.adder=ds;dt.arr=B.New2();dt["var"]=C.Create(dt.arr);du=dt.arr;j.iter(function(dv){var dw;dw=dt.mk(dv);return du.Add(dw);},dr);dx=dt["var"].get_View();dy=function(dz){var dA,dB,dH,dI,dL;dA=dz.ToArray();dB=function(dC){var dD,dE,dG;dD=dC[0];dE=function(){return[dC];};dG=dD.view;return g.Map(dE,dG);};dH=d.Const(j.empty());dI=function(dJ){return function(dK){return j.append(dJ,dK);};};dL=function(dM){return function(dN){return g.Map2(dI,dM,dN);};};return D.MapReduce(dB,dH,dL,dA);};dt.changesView=d.Bind(dy,dx);dO=dt["var"].get_View();dP=function(dQ){var dR,dS,d0,d1,d4,d7;dR=dQ.ToArray();dS=function(dT){var dU,dV,dX,dZ;dU=dT[0];dT[1];dT[2];dV=function(dW){return[dW];};dX=function(dY){return f.Map(dV,dY);};dZ=dU.view;return g.Map(dX,dZ);};d0=d.Const({$:0,$0:j.empty()});d1=function(d2){return function(d3){return j.append(d2,d3);};};d4=function(d5){return function(d6){return E.Append(d1,d5,d6);};};d7=function(d8){return function(d9){return g.Map2(d4,d8,d9);};};return D.MapReduce(dS,d0,d7,dR);};dt.out=d.Bind(dP,dO);return dt;}}),CollectionWithDefault:$.Class({AddOne:function(){return this.Add(this["default"]);}},{New:function(d_,d$,ea,eb){var ec;ec=$.New(this,G.New(d_,d$,ea));ec["default"]=eb;return ec;}}),Fresh:{Int:$.Field(function(){var ed;ed=[0];return function(){H.incr(ed);return ed[0];};})},ItemOperations:$.Class({Delete:function(){return this["delete"].call(null,null);},get_MoveDown:function(){return this.moveDown;},get_MoveUp:function(){return this.moveUp;}},{New:function(ef,eg,eh){var ei;ei=$.New(this,{});ei["delete"]=ef;ei.moveUp=eg;ei.moveDown=eh;return ei;}}),"List`1.Swap":function(ej,ek,el){var em;em=ej.get_Item(ek);ej.set_Item(ek,ej.get_Item(el));return ej.set_Item(el,em);}},Many1:function(en,eo,ep){var eq,er;eq=ep(eo);er=F.New(ep,en,eq,eo);return $.New(n,{id:o.Id(),view:er.get_View(),render:function(es){return es(er);}});},ManyForm:function(et,eu,ev){var ew;ew=G.New(ev,et,eu);return $.New(n,{id:o.Id(),view:ew.get_View(),render:function(ex){return ex(ew);}});},Map:function(ey,ez){return p.MapResult(function(eA){return f.Map(ey,eA);},ez);},MapAsync:function(eB,eC){var eD;eD=function(eE){var eF,eG,eI;if(eE.$==1){eG=eE.$0;eF=I.Delay(function(){return I.Return({$:1,$0:eG});});}else{eI=eE.$0;eF=I.Delay(function(){return I.Bind(eB(eI),function(eK){return I.Return({$:0,$0:eK});});});}return eF;};return p.MapAsyncResult(eD,eC);},MapAsyncResult:function(eL,eM){var eN;eN=eM.view;return $.New(n,{id:eM.id,view:g.MapAsync(eL,eN),render:eM.render});},MapRenderArgs:function(eO,eP){return $.New(n,{id:eP.id,view:eP.view,render:function(eQ){return eQ(eP.render.call(null,eO));}});},MapResult:function(eR,eS){var eT;eT=eS.view;return $.New(n,{id:eS.id,view:g.Map(eR,eT),render:eS.render});},MapToAsyncResult:function(eU,eV){var eW;eW=function(eX){var eY,eZ,e1;if(eX.$==1){eZ=eX.$0;eY=I.Delay(function(){return I.Return({$:1,$0:eZ});});}else{e1=eX.$0;eY=I.Delay(function(){return eU(e1);});}return eY;};return p.MapAsyncResult(eW,eV);},MapToResult:function(e3,e4){return p.MapResult(function(e5){return f.Bind(e3,e5);},e4);},Run:function(e6,e7){return p.Map(function(e8){e6(e8);return e8;},e7);},RunResult:function(e9,e_){return p.MapResult(function(e$){e9(e$);return e$;},e_);},TransmitView:function(fa){return $.New(n,{id:fa.id,view:fa.view,render:function(fb){return(fa.render.call(null,fb))(fa.view);}});},TransmitViewMap:function(fc,fd){return p.TransmitViewMapResult(function(fe){return f.Map(fc,fe);},fd);},TransmitViewMapResult:function(ff,fg){return $.New(n,{id:fg.id,view:fg.view,render:function(fh){var fi;fi=fg.view;return(fg.render.call(null,fh))(g.Map(ff,fi));}});},WithSubmit:function(fj){var fk,fl,fm;fk=fj.view;fl={$:1,$0:$.New(t,{$:0})};fm=x.Create(fk,fl);return $.New(n,{id:o.Id(),view:fm.get_View(),render:function(fn){return(fj.render.call(null,fn))(fm);}});},Yield:function(fo){return n.YieldVar(C.Create(fo));},YieldFailure:function(){var fp,fq,fr,fs,fu;fp=C.Create(undefined);fq=fp.get_View();fr={$:1,$0:$.New(t,{$:0})};fs=function(ft){return{$:0,$0:ft};};fu=g.Map(fs,fq);return $.New(n,{id:u.GetId(fp),view:g.SnapshotOn(fr,fq,fu),render:function(fv){return fv(fp);}});},YieldOption:function(fw,fx){var fy,fz,fB;fy=C.Create(J.DefaultArg(fw,fx));fz=function(fA){return{$:0,$0:K.Equals(fA,fx)?{$:0}:{$:1,$0:fA}};};fB=fy.get_View();return $.New(n,{id:u.GetId(fy),view:g.Map(fz,fB),render:function(fC){return fC(fy);}});}},Form1:$.Class({get_Id:function(){return this.id;},get_Render:function(){return this.render;},get_View:function(){return this.view;}},{Create:function(fD,fE){return $.New(n,{id:o.Id(),view:fD,render:fE});},GetView:function(fF){return fF.view;},Render:function(fG,fH){var fI,fJ,fL,fM,fN;fI=fH.render.call(null,fG);fJ=function(){return i.get_Empty();};fL=fH.view;fM=g.Map(fJ,fL);fN=i.EmbedView(fM);return i.Append(fN,fI);},RenderDependent:function(fO,fP){return fO.RenderDependent(fP);},RenderMany:function(fQ,fR){return fQ.Render(fR);},RenderManyAdder:function(fS,fT){return fS.RenderAdder(fT);},RenderPrimary:function(fU,fV){return fU.RenderPrimary(fV);},Return:function(fW){return $.New(n,{id:o.Id(),view:d.Const({$:0,$0:fW}),render:function(fX){return fX;}});},ReturnFailure:function(){return $.New(n,{id:o.Id(),view:d.Const({$:1,$0:$.New(t,{$:0})}),render:function(fY){return fY;}});},YieldVar:function(fZ){var f0,f2;f0=function(f1){return{$:0,$0:f1};};f2=fZ.get_View();return $.New(n,{id:u.GetId(fZ),view:g.Map(f0,f2),render:function(f3){return f3(fZ);}});}}),Fresh:{Id:function(){H.decr(o.lastId());return(o.lastId())[0];},lastId:$.Field(function(){return[-1];})},Pervasives:{op_LessMultiplyGreater:function(f4,f5){return p.Apply(f4,f5);},op_LessMultiplyQmarkGreater:function(f6,f7){return p.ApJoin(f6,f7);}},Result:$.Class({},{Append:function(f8,f9,f_){var f$,ga,gb,gc,gd,ge,gf;if(f9.$==0){ga=f9.$0;if(f_.$==0){gc=f_.$0;gb={$:0,$0:(f8(ga))(gc)};}else{gb=f_;}f$=gb;}else{gd=f9.$0;if(f_.$==0){ge=f9;}else{gf=f_.$0;ge={$:1,$0:l.append(gd,gf)};}f$=ge;}return f$;},FailWith:function(gg,gh){var gi,gj,gk;if(gh.$==0){gj=o.Id();}else{gk=gh.$0;gj=gk;}gi=gj;return{$:1,$0:l.ofArray([m.New(gi,gg)])};}}),Result1:$.Class({},{ApJoin:function(gl,gm){var gn,go,gp,gq,gr,gs,gt,gu,gv,gw;if(gl.$==0){go=gl.$0;if(gm.$==0){if(gm.$0.$==0){gr=gm.$0.$0;gq={$:0,$0:go(gr)};}else{gs=gm.$0.$0;gq={$:1,$0:gs};}gp=gq;}else{gt=gm.$0;gp={$:1,$0:gt};}gn=gp;}else{gu=gl.$0;if(gm.$==0){gv={$:1,$0:gu};}else{gw=gm.$0;gv={$:1,$0:l.append(gu,gw)};}gn=gv;}return gn;},Apply:function(gx,gy){var gz,gA,gB,gC,gD,gE,gF,gG;if(gx.$==0){gA=gx.$0;if(gy.$==0){gC=gy.$0;gB={$:0,$0:gA(gC)};}else{gD=gy.$0;gB={$:1,$0:gD};}gz=gB;}else{gE=gx.$0;if(gy.$==0){gF={$:1,$0:gE};}else{gG=gy.$0;gF={$:1,$0:l.append(gE,gG)};}gz=gF;}return gz;},Bind:function(gH,gI){var gJ,gK,gL;if(gI.$==0){gK=gI.$0;gJ=gH(gK);}else{gL=gI.$0;gJ={$:1,$0:gL};}return gJ;},IsFailure:function(gM){return gM.$==1?true:false;},IsSuccess:function(gN){return gN.$==1?false:true;},Map:function(gO,gP){var gQ,gR,gS;if(gP.$==1){gR=gP.$0;gQ={$:1,$0:gR};}else{gS=gP.$0;gQ={$:0,$0:gO(gS)};}return gQ;}}),Utils:{memoize:function(gT){var gU;gU=L.New12();return function(gV){var gW,gX;if(gU.ContainsKey(gV)){gW=gU.get_Item(gV);}else{gX=gT(gV);gU.set_Item(gV,gX);gW=gX;}return gW;};}},Validation:{Is:function(gY,gZ,g0){var g1;g1=function(g2){var g3,g4;if(g2.$==1){g3=g2;}else{g4=g2.$0;g3=gY(g4)?g2:{$:1,$0:l.ofArray([m.New(g0.id,gZ)])};}return g3;};return p.MapResult(g1,g0);},IsMatch:function(g5,g6,g7){var g8;g8=new N(g5);return M.Is(function(g9){return g8.test(g9);},g6,g7);},IsNotEmpty:function(g_,g$){return M.Is(function(ha){return ha!=="";},g_,g$);},MapValidCheckedInput:function(hb,hc){var hd;hd=function(he){var hf,hg,hh,hi;if(he.$==1){hg=he.$0;hf={$:1,$0:hg};}else{if(he.$0.$==0){hi=he.$0.$0;hh={$:0,$0:hi};}else{hh={$:1,$0:l.ofArray([m.Create1(hc,hb)])};}hf=hh;}return hf;};return p.MapResult(hd,hc);}},View:$.Class({},{Through:function(hj,hk){var hl;hl=function(hm){var hn,ho,hp;if(hm.$==1){ho=hm.$0;hp=function(hq){return hq.get_Id()===u.GetId(hk);};hn={$:1,$0:l.filter(hp,ho)};}else{hn=hm;}return hn;};return g.Map(hl,hj);},Through1:function(hr,hs){var ht;ht=function(hu){var hv,hw,hx;if(hu.$==1){hw=hu.$0;hx=function(hy){return hy.get_Id()===hs.id;};hv={$:1,$0:l.filter(hx,hw)};}else{hv=hu;}return hv;};return g.Map(ht,hr);}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.UI);b=$.Safe(a.Next);c=$.Safe(b.AttrModule);d=$.Safe(b.View1);e=$.Safe($$.WebSharper.Forms);f=$.Safe(e.Result1);g=$.Safe(b.View);h=$.Safe(b.AttrProxy);i=$.Safe(b.Doc);j=$.Safe($$.WebSharper.Seq);k=$.Safe(e.Attr);l=$.Safe($$.WebSharper.List);m=$.Safe(e.ErrorMessage);n=$.Safe(e.Form1);o=$.Safe(e.Fresh);p=$.Safe(e.Form);q=$.Safe(e.Utils);r=$.Safe(p.Dependent1);s=$.Safe(p.Dependent);t=$.Safe(l.T);u=$.Safe(b.Var1);v=$.Safe(p.Many);w=$.Safe(v.Fresh);x=$.Safe(b.Submitter);y=$.Safe(v.ItemOperations);z=$.Safe($$.WebSharper.Collections);A=$.Safe(z.ResizeArray);B=$.Safe(A.ResizeArrayProxy);C=$.Safe(b.Var);D=$.Safe(b.Array);E=$.Safe(e.Result);F=$.Safe(v.CollectionWithDefault);G=$.Safe(v.Collection);H=$.Safe($$.WebSharper.Ref);I=$.Safe($$.WebSharper.Concurrency);J=$.Safe($$.WebSharper.Operators);K=$.Safe($$.WebSharper.Unchecked);L=$.Safe(z.Dictionary);M=$.Safe(e.Validation);return N=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(F,G);o.lastId();w.Int();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;$.Define($$,{WebSharper:{Control:{Disposable:{Of:function(F){return{Dispose:F};}},Event:{Event:$.Class({AddHandler:function(G){return this.Handlers.Add(G);},RemoveHandler:function(H){var I,K,L,N,O;I=function(J){return a.Equals(H,J);};K=this.Handlers;L=function(M){return K.RemoveAt(M);};N=this.Handlers;O=b.tryFindIndex(I,N);return c.iter(L,O);},Subscribe:function(P){var Q,T=this;Q=function(R){return P.OnNext(R);};this.AddHandler(Q);return e.Of(function(){return T.RemoveHandler(Q);});},Trigger:function(U){var V,W,X;V=this.Handlers.ToArray();for(W=0;W<=V.length-1;W++){X=f.get(V,W);X(U);}return;}})},EventModule:{Choose:function(Y,Z){var _0;_0=g.New();h.addListener(Z,function(_1){var _2,_3,_4;_2=Y(_1);if(_2.$==0){_3=null;}else{_4=_2.$0;_3=_0.event.Trigger(_4);}return _3;});return _0.event;},Filter:function(_5,_6){var _7;_7=$.New(j,{Handlers:m.New2()});h.addListener(_6,function(_8){return _5(_8)?_7.Trigger(_8):null;});return _7;},Map:function(_9,_){var ba;ba=$.New(j,{Handlers:m.New2()});h.addListener(_,function(bb){return ba.Trigger(_9(bb));});return ba;},Merge:function(bb,bc){var bd;bd=$.New(j,{Handlers:m.New2()});h.addListener(bb,function(be){return bd.Trigger(be);});h.addListener(bc,function(bf){return bd.Trigger(bf);});return bd;},Pairwise:function(bg){var bh,bi;bh=[{$:0}];bi=$.New(j,{Handlers:m.New2()});h.addListener(bg,function(bj){var bk,bl,bm;bk=bh[0];if(bk.$==1){bm=bk.$0;bh[0]={$:1,$0:bj};bl=bi.Trigger([bm,bj]);}else{bl=void(bh[0]={$:1,$0:bj});}return bl;});return bi;},Partition:function(bn,bo){return[n.Filter(bn,bo),n.Filter(function(bp){var bq;bq=bn(bp);return!bq;},bo)];},Scan:function(br,bs,bt){var bu,bv;bu=[bs];bv=function(bw){bu[0]=(br(bu[0]))(bw);return bu[0];};return n.Map(bv,bt);},Split:function(bx,by){var bz,bE;bz=function(bA){var bB,bC,bD;bB=bx(bA);if(bB.$==0){bD=bB.$0;bC={$:1,$0:bD};}else{bC={$:0};}return bC;};bE=function(bF){var bG,bH,bI;bG=bx(bF);if(bG.$==1){bI=bG.$0;bH={$:1,$0:bI};}else{bH={$:0};}return bH;};return[n.Choose(bz,by),n.Choose(bE,by)];}},FSharpEvent:$.Class({},{New:function(){var bJ;bJ=$.New(this,{});bJ.event=$.New(j,{Handlers:m.New2()});return bJ;}}),HotStream:{HotStream:$.Class({Subscribe:function(bK){var bL;this.Latest[0].$==1?bK.OnNext(this.Latest[0].$0):null;bL=h.subscribeTo(this.Event.event,function(bM){return bK.OnNext(bM);});return bL;},Trigger:function(bN){this.Latest[0]={$:1,$0:bN};return this.Event.event.Trigger(bN);}},{New:function(){return $.New(p,{Latest:[{$:0}],Event:g.New()});}})},MailboxProcessor:$.Class({PostAndAsyncReply:function(bO,bP){var bR=this;return q.Delay(function(){return q.Bind(bR.PostAndTryAsyncReply(bO,bP),function(bS){var bT,bU;if(bS.$==1){bU=bS.$0;bT=bU;}else{bT=r.Raise(s.New());}return q.Return(bT);});});},PostAndTryAsyncReply:function(bV,bW){var bX,bY,b6=this;bX=r.DefaultArg(bW,this.get_DefaultTimeout());bY=function(bZ){var b0,b1,b2,b3,b4,b7,b8,b$;b0=bZ[0];b1=bZ[1];b2=bZ[2];if(bX<0){b4=bV(function(b5){return b0({$:1,$0:b5});});b6.mailbox.AddLast(b4);b3=b6.resume();}else{b7=[true];b8=bV(function(b9){var b_;if(b7[0]){b7[0]=false;b_=b0({$:1,$0:b9});}else{b_=null;}return b_;});b6.mailbox.AddLast(b8);b6.resume();b$=t(function(){var cb;if(b7[0]){b7[0]=false;cb=b0({$:0});}else{cb=null;}return cb;},bX);b3=void b$;}return b3;};return q.FromContinuations(bY);},Receive:function(cc){var ce=this;return q.Delay(function(){return q.Bind(ce.TryReceive(cc),function(cf){var cg,ch;if(cf.$==1){ch=cf.$0;cg=ch;}else{cg=r.Raise(s.New());}return q.Return(cg);});});},Scan:function(ci,cj){var cl=this;return q.Delay(function(){return q.Bind(cl.TryScan(ci,cj),function(cm){var cn,co;if(cm.$==1){co=cm.$0;cn=co;}else{cn=r.Raise(s.New());}return q.Return(cn);});});},Start:function(){var cp,cq,ct=this;if(this.started){cp=r.FailWith("The MailboxProcessor has already been started.");}else{this.started=true;cq=q.Delay(function(){return q.TryWith(q.Delay(function(){return q.Bind(ct.initial.call(null,ct),function(){return q.Return(null);});}),function(cv){ct.errorEvent.event.Trigger(cv);return q.Return(null);});});cp=ct.startAsync(cq);}return cp;},TryReceive:function(cw){var cx,cy,cD=this;cx=r.DefaultArg(cw,this.get_DefaultTimeout());cy=function(cz){var cA,cB,cC,cE,cF,cG,cJ,cK,cN,cR;cA=cz[0];cB=cz[1];cC=cz[2];if(a.Equals(cD.mailbox.get_First(),null)){if(cx<0){cG=q.Delay(function(){var cI;cI=cD.dequeue();cA({$:1,$0:cI});return q.Return(null);});cF=void(cD.savedCont={$:1,$0:cG});}else{cJ=[true];cK=t(function(){var cM;if(cJ[0]){cJ[0]=false;cD.savedCont={$:0};cM=cA({$:0});}else{cM=null;}return cM;},cx);cN=q.Delay(function(){var cP,cQ;if(cJ[0]){cJ[0]=false;u(cK);cQ=cD.dequeue();cA({$:1,$0:cQ});cP=q.Return(null);}else{cP=q.Return(null);}return cP;});cF=void(cD.savedCont={$:1,$0:cN});}cE=cF;}else{cR=cD.dequeue();cE=cA({$:1,$0:cR});}return cE;};return q.FromContinuations(cy);},TryScan:function(cS,cT){var cU,cZ=this;cU=r.DefaultArg(cT,this.get_DefaultTimeout());return q.Delay(function(){var cW,c3,c4,c5,c7;cW=function(){var cY,c0,c1,c2;cY=cZ.mailbox.get_First();c0={$:0};while(!a.Equals(cY,null)){c1=cS(cY.v);if(c1.$==0){c2=cY=cY.n;}else{cZ.mailbox.Remove(cY);cY=null;c2=c0=c1;}}return c0;};c3=cW(null);if(c3.$==1){c5=c3.$0;c4=q.Bind(c5,function(c6){return q.Return({$:1,$0:c6});});}else{c7=function(c8){var c9,c_,c$,da,db,dj,dk,dn;c9=c8[0];c_=c8[1];c$=c8[2];if(cU<0){db=function(){var dd;dd=q.Delay(function(){var df,dg,dh;df=cS(cZ.mailbox.get_First().v);if(df.$==1){dh=df.$0;cZ.mailbox.RemoveFirst();dg=q.Bind(dh,function(di){c9({$:1,$0:di});return q.Return(null);});}else{db(null);dg=q.Return(null);}return dg;});cZ.savedCont={$:1,$0:dd};return;};da=db(null);}else{dj=[true];dk=t(function(){var dm;if(dj[0]){dj[0]=false;cZ.savedCont={$:0};dm=c9({$:0});}else{dm=null;}return dm;},cU);dn=function(){var dp;dp=q.Delay(function(){var dr,ds,dt;dr=cS(cZ.mailbox.get_First().v);if(dr.$==1){dt=dr.$0;cZ.mailbox.RemoveFirst();ds=q.Bind(dt,function(du){var dv;if(dj[0]){dj[0]=false;u(dk);c9({$:1,$0:du});dv=q.Return(null);}else{dv=q.Return(null);}return dv;});}else{dn(null);ds=q.Return(null);}return ds;});cZ.savedCont={$:1,$0:dp};return;};da=dn(null);}return da;};c4=q.FromContinuations(c7);}return c4;});},dequeue:function(){var dw;dw=this.mailbox.get_First().v;this.mailbox.RemoveFirst();return dw;},get_CurrentQueueLength:function(){return this.mailbox.get_Count();},get_DefaultTimeout:function(){return this["DefaultTimeout@"];},get_Error:function(){return this.errorEvent.event;},resume:function(){var dx,dy,dz;dx=this.savedCont;if(dx.$==1){dz=dx.$0;this.savedCont={$:0};dy=this.startAsync(dz);}else{dy=null;}return dy;},set_DefaultTimeout:function(dA){this["DefaultTimeout@"]=dA;return;},startAsync:function(dB){return q.Start(dB,this.token);}},{New:function(dC,dD){var dE,dF,dG,dH,dI;dE=$.New(this,{});dE.initial=dC;dE.token=dD;dE.started=false;dE.errorEvent=g.New();dE.mailbox=w.New();dE.savedCont={$:0};dF=dE.token;if(dF.$==0){dG=null;}else{dH=dF.$0;dI=q.Register(dH,function(){return function(){return dE.resume();}();});dG=void dI;}dE["DefaultTimeout@"]=-1;return dE;},Start:function(dL,dM){var dN;dN=x.New(dL,dM);dN.Start();return dN;}}),Observable:{Aggregate:function(dO,dP,dQ){var dR;dR=function(dS){var dT,dU,dZ;dT=[dP];dU=function(dV){return y.Protect(function(){return(dQ(dT[0]))(dV);},function(dX){dT[0]=dX;return dS.OnNext(dX);},function(dY){return dS.OnError(dY);});};dZ=z.New(dU,function(d0){return dS.OnError(d0);},function(){return dS.OnCompleted();});return dO.Subscribe(dZ);};return y.New(dR);},Choose:function(d2,d3){var d4;d4=function(d5){var d6,eb;d6=function(d7){var d9;d9=function(d_){return d5.OnNext(d_);};return y.Protect(function(){return d2(d7);},function(d$){return c.iter(d9,d$);},function(ea){return d5.OnError(ea);});};eb=z.New(d6,function(ec){return d5.OnError(ec);},function(){return d5.OnCompleted();});return d3.Subscribe(eb);};return y.New(d4);},CombineLatest:function(ee,ef,eg){var eh;eh=function(ei){var ej,ek,el,ev,ex,eA,eC,eF,eG;ej=[{$:0}];ek=[{$:0}];el=function(){var en,eo,ep,eq,er;en=[ej[0],ek[0]];if(en[0].$==1){if(en[1].$==1){eq=en[0].$0;er=en[1].$0;ep=y.Protect(function(){return(eg(eq))(er);},function(et){return ei.OnNext(et);},function(eu){return ei.OnError(eu);});}else{ep=null;}eo=ep;}else{eo=null;}return eo;};ev=function(ew){ej[0]={$:1,$0:ew};return el(null);};ex=z.New(ev,function(){},function(){});eA=function(eB){ek[0]={$:1,$0:eB};return el(null);};eC=z.New(eA,function(){},function(){});eF=ee.Subscribe(ex);eG=ef.Subscribe(eC);return e.Of(function(){eF.Dispose();return eG.Dispose();});};return y.New(eh);},Concat:function(eI,eJ){var eK;eK=function(eL){var eM,eN,eS;eM=[{$:0}];eN=eI.Subscribe(z.New(function(eO){return eL.OnNext(eO);},function(){},function(){var eR;eR=eJ.Subscribe(eL);eM[0]={$:1,$0:eR};}));eS=function(){eM[0].$==1?eM[0].$0.Dispose():null;return eN.Dispose();};return e.Of(eS);};return y.New(eK);},Drop:function(eU,eV){var eW;eW=function(eX){var eY,eZ,e1;eY=[0];eZ=function(e0){A.incr(eY);return eY[0]>eU?eX.OnNext(e0):null;};e1=z.New(eZ,function(e2){return eX.OnError(e2);},function(){return eX.OnCompleted();});return eV.Subscribe(e1);};return y.New(eW);},Filter:function(e4,e5){var e6;e6=function(e7){var e8,fd;e8=function(e9){var e$;e$=function(fa){return e7.OnNext(fa);};return y.Protect(function(){return e4(e9)?{$:1,$0:e9}:{$:0};},function(fb){return c.iter(e$,fb);},function(fc){return e7.OnError(fc);});};fd=z.New(e8,function(fe){return e7.OnError(fe);},function(){return e7.OnCompleted();});return e5.Subscribe(fd);};return y.New(e6);},Map:function(fg,fh){var fi;fi=function(fj){var fk,fp;fk=function(fl){return y.Protect(function(){return fg(fl);},function(fn){return fj.OnNext(fn);},function(fo){return fj.OnError(fo);});};fp=z.New(fk,function(fq){return fj.OnError(fq);},function(){return fj.OnCompleted();});return fh.Subscribe(fp);};return y.New(fi);},Merge:function(fs,ft){var fu;fu=function(fv){var fw,fx,fy,fC,fD,fH;fw=[false];fx=[false];fy=z.New(function(fz){return fv.OnNext(fz);},function(){},function(){fw[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fC=fs.Subscribe(fy);fD=z.New(function(fE){return fv.OnNext(fE);},function(){},function(){fx[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fH=ft.Subscribe(fD);return e.Of(function(){fC.Dispose();return fH.Dispose();});};return y.New(fu);},Never:function(){return y.New(function(){return e.Of(function(){});});},New:function(fL){return $.New(B,{Subscribe1:fL});},Observable:$.Class({Subscribe:function(fM){return this.Subscribe1.call(null,fM);}}),Of:function(fN){return y.New(function(fO){return e.Of(fN(function(fP){return fO.OnNext(fP);}));});},Protect:function(fQ,fR,fS){var fT,fU,fV,fW,fX,fY;try{fU={$:0,$0:fQ(null)};}catch(fV){fU={$:1,$0:fV};}fT=fU;if(fT.$==1){fX=fT.$0;fW=fS(fX);}else{fY=fT.$0;fW=fR(fY);}return fW;},Range:function(fZ,f0){var f1;f1=function(f2){var f3;for(f3=fZ;f3<=fZ+f0;f3++){f2.OnNext(f3);}return e.Of(function(){});};return y.New(f1);},Return:function(f5){var f6;f6=function(f7){f7.OnNext(f5);f7.OnCompleted();return e.Of(function(){});};return y.New(f6);},SelectMany:function(f9){return y.New(function(f_){var f$,gb;f$=[function(){}];gb=h.subscribeTo(f9,function(gc){var gd;gd=h.subscribeTo(gc,function(ge){return f_.OnNext(ge);});f$[0]=function(){f$[0].call(null,null);return gd.Dispose();};return;});return e.Of(function(){f$[0].call(null,null);return gb.Dispose();});});},Sequence:function(gh){var gi;gi=function(gj){var gk,gl,gm,gn;if(gj.$==1){gl=gj.$1;gm=gj.$0;gn=gi(gl);gk=y.CombineLatest(gm,gn,function(go){return function(gp){return $.New(D,{$:1,$0:go,$1:gp});};});}else{gk=y.Return($.New(D,{$:0}));}return gk;};return gi(C.ofSeq(gh));},Switch:function(gq){return y.New(function(gr){var gs,gt,gu;gs=[0];gt=[{$:0}];gu=h.subscribeTo(gq,function(gv){var gw,gx,gz;A.incr(gs);gt[0].$==1?gt[0].$0.Dispose():null;gw=gs[0];gx=h.subscribeTo(gv,function(gy){return gw===gs[0]?gr.OnNext(gy):null;});gz={$:1,$0:gx};gt[0]=gz;return;});return gu;});}},ObservableModule:{Pairwise:function(gA){var gB;gB=function(gC){var gD,gE,gJ;gD=[{$:0}];gE=function(gF){var gG,gH,gI;gG=gD[0];if(gG.$==1){gI=gG.$0;gH=gC.OnNext([gI,gF]);}else{gH=null;}gD[0]={$:1,$0:gF};return;};gJ=z.New(gE,function(gK){return gC.OnError(gK);},function(){return gC.OnCompleted();});return gA.Subscribe(gJ);};return y.New(gB);},Partition:function(gM,gN){return[y.Filter(gM,gN),y.Filter(function(gO){var gP;gP=gM(gO);return!gP;},gN)];},Scan:function(gQ,gR,gS){var gT;gT=function(gU){var gV,gW,g1;gV=[gR];gW=function(gX){return y.Protect(function(){return(gQ(gV[0]))(gX);},function(gZ){gV[0]=gZ;return gU.OnNext(gZ);},function(g0){return gU.OnError(g0);});};g1=z.New(gW,function(g2){return gU.OnError(g2);},function(){return gU.OnCompleted();});return gS.Subscribe(g1);};return y.New(gT);},Split:function(g4,g5){var g6,g$,ha,hf;g6=function(g7){var g8,g9,g_;g8=g4(g7);if(g8.$==0){g_=g8.$0;g9={$:1,$0:g_};}else{g9={$:0};}return g9;};g$=y.Choose(g6,g5);ha=function(hb){var hc,hd,he;hc=g4(hb);if(hc.$==1){he=hc.$0;hd={$:1,$0:he};}else{hd={$:0};}return hd;};hf=y.Choose(ha,g5);return[g$,hf];}},Observer:{New:function(hg,hh,hi){return $.New(E,{onNext:hg,onError:hh,onCompleted:hi});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(hj){return this.onError.call(null,hj);},OnNext:function(hk){return this.onNext.call(null,hk);}}),Of:function(hl){return $.New(E,{onNext:function(hm){return hl(hm);},onError:function(hn){return r.Raise(hn);},onCompleted:function(){return null;}});}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.WebSharper.Seq);c=$.Safe($$.WebSharper.Option);d=$.Safe($$.WebSharper.Control);e=$.Safe(d.Disposable);f=$.Safe($$.WebSharper.Arrays);g=$.Safe(d.FSharpEvent);h=$.Safe($$.WebSharper.Util);i=$.Safe(d.Event);j=$.Safe(i.Event);k=$.Safe($$.WebSharper.Collections);l=$.Safe(k.ResizeArray);m=$.Safe(l.ResizeArrayProxy);n=$.Safe(d.EventModule);o=$.Safe(d.HotStream);p=$.Safe(o.HotStream);q=$.Safe($$.WebSharper.Concurrency);r=$.Safe($$.WebSharper.Operators);s=$.Safe($$.WebSharper.TimeoutException);t=$.Safe($$.setTimeout);u=$.Safe($$.clearTimeout);v=$.Safe(k.LinkedList);w=$.Safe(v.T);x=$.Safe(d.MailboxProcessor);y=$.Safe(d.Observable);z=$.Safe(d.Observer);A=$.Safe($$.WebSharper.Ref);B=$.Safe(y.Observable);C=$.Safe($$.WebSharper.List);D=$.Safe(C.T);return E=$.Safe(z.Observer);});$.OnLoad(function(){return;});}());

(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;$.Define($$,{WebSharperBootstrap:{Bootstrap:{Breadcrumb:$.Class({Render:function(){return c.Render(this);},WithDecoration:function(T){var U;U={$:1,$0:T};return $.New(c,{Title:this.Title,RelativeUrl:this.RelativeUrl,IsActive:this.IsActive,Decoration:U});}},{Create:function(V,W){return $.New(c,{Title:V,RelativeUrl:W,IsActive:false,Decoration:{$:0}});},CreateActive:function(X){return $.New(c,{Title:X,RelativeUrl:"",IsActive:true,Decoration:{$:0}});},Render:function(Y){var Z,_0,_1,_2,_3,_4,_5,_6,_7;Z=Y.Decoration;if(Z.$==0){_1=g.ofArray([f.TextNode(Y.Title)]);}else{if(Z.$0.$==1){_3=Z.$0.$0;_2=g.ofArray([f.Element("i",g.ofArray([h.Create("class","fa "+_3),h.Create("style","margin-right: 5px;")]),$.New(i,{$:0})),f.TextNode(Y.Title)]);}else{_4=Z.$0.$0;_2=g.ofArray([f.Element("img",g.ofArray([h.Create("src",_4),h.Create("class","img-circle img-responsive"),h.Create("style","width: 25px; height: 25px; margin-right: 5px;display: inline;")]),$.New(i,{$:0})),f.TextNode(Y.Title)]);}_1=_2;}_0=f.Concat(_1);_5=Y.IsActive;if(_5){_6=f.Element("li",g.ofArray([h.Create("class","active")]),g.ofArray([_0]));}else{_7=g.ofArray([j.Create({$:0,$0:Y.RelativeUrl},_0).Render()]);_6=f.Element("li",[],_7);}return _6;}}),BreadcrumbBar:$.Class({Render:function(){return k.Render(this);}},{Create:function(_8){return $.New(k,{Breadcrumbs:_8});},Render:function(_9){var _,bb,bc,bd;_=function(ba){return c.Render(ba);};bb=g.ofArray([h.Create("class","breadcrumb")]);bc=_9.Breadcrumbs;bd=g.map(_,bc);return f.Element("ol",bb,bd);}}),Button:$.Class({Render:function(){return l.Render(this);},WithCssClass:function(bd){var be;be={$:1,$0:bd};return $.New(l,{Title:this.Title,Action:this.Action,ButtonStyle:this.ButtonStyle,CssClass:be,ExtraAttrs:this.ExtraAttrs});},WithExtraAttrs:function(bf){return $.New(l,{Title:this.Title,Action:this.Action,ButtonStyle:this.ButtonStyle,CssClass:this.CssClass,ExtraAttrs:bf});}},{Create:function(bg,bh,bi){return $.New(l,{Title:bg,Action:bi,ButtonStyle:bh,CssClass:{$:0},ExtraAttrs:$.New(i,{$:0})});},Render:function(bj){var bk,bl,bm,bn,bo,bp,bq;bk=bj.Title;bl=bj.Action;bm=bj.ButtonStyle.CssClass();bn=bj.CssClass;if(bn.$==0){bp="";}else{bq=bn.$0;bp=bq;}bo=bp;return f.Button(bk,g.ofArray([h.Create("class","btn "+m.toSafe(bm)+" "+m.toSafe(bo)),h.Create("style","margin-bottom: 15px;")]),bl);}}),ButtonStyle:$.Class({CssClass:function(){return this.$==1?"btn-primary":this.$==2?"btn-info":this.$==3?"btn-warning":this.$==4?"btn-danger":this.$==5?"btn-link":"btn-default";}}),Container:$.Class({AddRow:function(br){var bt=this;return $.New(n,{Content:o.toList(o.delay(function(){return o.append(bt.Content,o.delay(function(){return[p.Render(br)];}));})),ContainerType:bt.ContainerType});},Render:function(){return n.Render(this);}},{Create:function(){return $.New(n,{Content:$.New(i,{$:0}),ContainerType:{$:0}});},Create1:function(bv){return $.New(n,{Content:$.New(i,{$:0}),ContainerType:bv});},Create2:function(bw,bx){return $.New(n,{Content:bw,ContainerType:bx});},Render:function(by){var bz,bA;bz=by.Content;bA=by.ContainerType;return f.Element("div",g.ofArray([h.Create("class",bA.$==1?"container-fluid":"container")]),bz);}}),DescriptionList:$.Class({Render:function(){return q.Render(this);},WithCssClass:function(bB){return $.New(q,{Descriptions:this.Descriptions,Orientation:this.Orientation,CssClass:bB});}},{Create:function(bC,bD){return $.New(q,{Descriptions:bC,Orientation:bD,CssClass:""});},Render:function(bE){var bF,bG,bH;bF=bE.CssClass;bG=bE.Orientation;bH=bG.$==1?"":"dl-horizontal";return f.Element("dl",g.ofArray([h.Create("class",m.toSafe(bF)+" "+m.toSafe(bH))]),g.map(function(bI){return r.Render(bI);},bE.Descriptions));}}),DescriptionTerm:$.Class({Render:function(){return r.Render(this);}},{Create:function(bJ){return $.New(r,{Term:bJ,Description:{$:2}});},Create1:function(bK,bL){return $.New(r,{Term:bK,Description:{$:1,$0:bL}});},Create2:function(bM,bN){return $.New(r,{Term:bM,Description:{$:0,$0:bN}});},Render:function(bO){var bP,bQ,bR,bS,bT,bU,bV;bQ=g.ofArray([f.TextNode(bO.Term)]);bS=bO.Description;if(bS.$==1){bU=bS.$0;bT=f.TextNode(bU);}else{if(bS.$==2){bT=f.get_Empty();}else{bV=bS.$0;bT=bV;}}bR=g.ofArray([bT]);bP=g.ofArray([f.Element("dt",[],bQ),f.Element("dd",[],bR)]);return f.Concat(bP);}}),FormElement:$.Class({Render:function(){return s.Render(this);},WithButtons:function(bW){return $.New(s,{FormGroups:this.FormGroups,Buttons:bW,FormDisplay:this.FormDisplay});},WithDisplay:function(bX){return $.New(s,{FormGroups:this.FormGroups,Buttons:this.Buttons,FormDisplay:bX});}},{Create:function(bY,bZ,b0){return $.New(s,{FormGroups:bZ,Buttons:b0,FormDisplay:bY});},Create1:function(b1,b2){return $.New(s,{FormGroups:b1,Buttons:b2,FormDisplay:{$:0}});},Create2:function(b3){return $.New(s,{FormGroups:b3,Buttons:$.New(i,{$:0}),FormDisplay:{$:0}});},Render:function(b4){var b5,b6,b7;b6=b4.FormDisplay;b5=g.ofArray([h.Create("class",b6.$==1?"form-horizontal":b6.$==2?"form-inline":"")]);b7=o.toList(o.delay(function(){var b9,b$,ca;b9=function(b_){return b_.Render(b4.FormDisplay);};b$=b4.FormGroups;ca=g.map(b9,b$);return o.append(ca,o.delay(function(){var cc,ce,cf;cc=function(cd){return l.Render(cd);};ce=b4.Buttons;cf=g.map(cc,ce);return cf;}));}));return f.Element("form",b5,g.ofArray([f.Element("fieldset",[],b7)]));}}),FormGroup:$.Class({Render:function(cg){return t.Render(cg,this);},WithInput:function(ch){return $.New(t,{Id:this.Id,Title:this.Title,Input:ch});},WithTitle:function(ci){return $.New(t,{Id:this.Id,Title:ci,Input:this.Input});},WithTitle1:function(cj){var ck;ck={$:0,$0:cj};return $.New(t,{Id:this.Id,Title:ck,Input:this.Input});}},{Create:function(cl){return $.New(t,{Id:cl,Title:{$:1,$0:""},Input:{$:4,$0:f.get_Empty()}});},Create1:function(cm,cn,co){return $.New(t,{Id:cm,Title:{$:0,$0:cn},Input:co});},Create2:function(cp,cq,cr){return $.New(t,{Id:cp,Title:cq,Input:cr});},CreatePasswordInput:function(cs,ct,cu,cv,cw,cx){return $.New(t,{Id:cs,Title:ct,Input:{$:1,$0:cu,$1:cv,$2:cw,$3:u.DefaultArg(cx,$.New(i,{$:0}))}});},CreateTextInput:function(cy,cz,cA,cB,cC,cD){return $.New(t,{Id:cy,Title:cz,Input:{$:0,$0:cA,$1:cB,$2:cC,$3:u.DefaultArg(cD,$.New(i,{$:0}))}});},Render:function(cE,cF){var cG,cM,cS,cT,cU,cV,cW,cX,cY,cZ,c4,c6,c9,c_,c$,da,db,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,du,dw,dz;cG=function(cH){var cI,cJ,cK,cL;cI=cF.Title;if(cI.$==1){cK=cI.$0;cJ=f.Element("label",g.ofArray([h.Create("for",cF.Id),h.Create("class",cH+" sr-only")]),g.ofArray([f.TextNode(cK)]));}else{cL=cI.$0;cJ=f.Element("label",g.ofArray([h.Create("for",cF.Id),h.Create("class",cH)]),g.ofArray([f.TextNode(cL)]));}return cJ;};cM=function(cN){var cO,cP,cQ,cR;if(cE.$==0){cP=cF.Input;cO=cP.$==2?cN:g.append(g.ofArray([cG("")]),cN);}else{if(cE.$==2){cQ=cF.Input;cO=cQ.$==2?cN:g.append(g.ofArray([cG("")]),cN);}else{cR=cF.Input;cO=cR.$==2?g.ofArray([f.Element("div",g.ofArray([h.Create("class","col-sm-offset-2 col-sm-10")]),cN)]):g.ofArray([cG("col-sm-2 control-label"),f.Element("div",g.ofArray([h.Create("class","col-sm-10")]),cN)]);}}return cO;};cS=cF.Input;if(cS.$==1){cU=cS.$0;cV=cS.$2;cW=cS.$1;cX=cS.$3;cZ=function(c0){return!v.Equals(c0,$.New(i,{$:0}))?"form-group has-error":"form-group";};cY=g.ofArray([w.Dynamic("class",x.Map(cZ,cW))]);c4=function(c5){return f.Element("span",g.ofArray([h.Create("class","help-block")]),g.ofArray([f.TextNode(c5)]));};c6=function(c7){var c8;c8=g.map(c4,c7);return f.Concat(c8);};c9=x.Map(c6,cW);cT=f.Element("div",cY,cM(g.ofArray([f.PasswordBox(o.toList(o.delay(function(){return o.append([h.Create("class","form-control")],o.delay(function(){return o.append([h.Create("placeholder",cV)],o.delay(function(){return cX;}));}));})),cU),f.EmbedView(c9)])));}else{if(cS.$==2){c_=cS.$0;c$=cS.$1;da=g.ofArray([h.Create("class","form-group")]);db=o.toList(o.delay(function(){return o.append([h.Create("class","checkbox")],o.delay(function(){return c$;}));}));df=cF.Title;if(df.$==0){dh=df.$0;dg=f.TextNode(dh);}else{dg=f.get_Empty();}de=g.ofArray([f.CheckBox($.New(i,{$:0}),c_),dg]);cT=f.Element("div",da,cM(g.ofArray([f.Element("div",db,g.ofArray([f.Element("label",[],de)]))])));}else{if(cS.$==3){di=cS.$0;cT=f.Element("div",g.ofArray([h.Create("class","form-group")]),cM(g.ofArray([f.Element("p",g.ofArray([h.Create("class","form-control-static")]),g.ofArray([f.TextNode(di)]))])));}else{if(cS.$==4){dj=cS.$0;cT=f.Element("div",g.ofArray([h.Create("class","form-group")]),cM(g.ofArray([dj])));}else{dk=cS.$0;dl=cS.$2;dm=cS.$1;dn=cS.$3;dp=function(dq){return!v.Equals(dq,$.New(i,{$:0}))?"form-group has-error":"form-group";};_do=g.ofArray([w.Dynamic("class",x.Map(dp,dm))]);du=function(dv){return f.Element("span",g.ofArray([h.Create("class","help-block")]),g.ofArray([f.TextNode(dv)]));};dw=function(dx){var dy;dy=g.map(du,dx);return f.Concat(dy);};dz=x.Map(dw,dm);cT=f.Element("div",_do,cM(g.ofArray([f.Input(o.toList(o.delay(function(){return o.append([h.Create("class","form-control")],o.delay(function(){return o.append([h.Create("placeholder",dl)],o.delay(function(){return dn;}));}));})),dk),f.EmbedView(dz)])));}}}}return cT;},ShowErrors:function(dA){return t.Create("errors").WithTitle({$:1,$0:"Errors after submit"}).WithInput({$:4,$0:z.ShowErrors(b["View.ThroughCustomId.Static"](dA),function(dB){var dC,dD;if(dB.$==0){dC=f.get_Empty();}else{dD=function(dE){var dF;dF=g.ofArray([f.TextNode(dE.get_Text())]);return f.Element("p",[],dF);};dC=f.Element("div",g.ofArray([h.Create("class","alert alert-warning"),b["attr.role.Static"]("alert")]),g.map(dD,dB));}return dC;})});},ShowSuccess:function(dG,dH){return t.Create("success").WithTitle({$:1,$0:"Success message after submit"}).WithInput({$:4,$0:z.ShowSuccess(dH,function(){return f.Element("div",g.ofArray([h.Create("class","alert alert-success"),b["attr.role.Static"]("alert")]),g.ofArray([f.TextNode(dG)]));})});}}),GridColumn:$.Class({Render:function(){return A.Render(this);}},{Create:function(dJ,dK){return $.New(A,{Content:dJ,GridSizes:dK});},Render:function(dL){var dM,dO,dP;dM=function(dN){return B.CssClass(dN);};dO=dL.GridSizes;dP=g.map(dM,dO);return f.Element("div",g.ofArray([h.Create("class",C.concat(" ",dP))]),g.ofArray([dL.Content]));}}),GridColumnSize:$.Class({CssClass:function(){return B.CssClass(this);}},{CssClass:function(dQ){return dQ.$==1?"col-sm-3":dQ.$==2?"col-sm-4":dQ.$==3?"col-sm-6":dQ.$==4?"col-sm-8":dQ.$==5?"col-sm-12":dQ.$==6?"col-md-2":dQ.$==7?"col-md-3":dQ.$==8?"col-md-4":dQ.$==9?"col-md-6":dQ.$==10?"col-md-9":dQ.$==11?"col-md-12":"col-xs-12";}}),GridRow:$.Class({AddColumn:function(dR,dS){var dU=this;return $.New(p,{Columns:o.toList(o.delay(function(){return o.append(dU.Columns,o.delay(function(){return[A.Create(dR,dS)];}));}))});},Render:function(){return p.Render(this);}},{Create:function(){return $.New(p,{Columns:$.New(i,{$:0})});},Create1:function(dW){return $.New(p,{Columns:dW});},Render:function(dX){var dY,d0,d1,d2;dY=function(dZ){return A.Render(dZ);};d0=g.ofArray([h.Create("class","row")]);d1=dX.Columns;d2=g.map(dY,d1);return f.Element("div",d0,d2);}}),Header:$.Class({Render:function(){return D.Render(this);},WithIcon:function(d3){var d4;d4={$:1,$0:d3};return $.New(D,{Text:this.Text,HeaderType:this.HeaderType,Icon:d4});}},{Create:function(d5,d6){return $.New(D,{Text:d5,HeaderType:d6,Icon:{$:0}});},Render:function(d7){var d8,eb,ec,ed,ee,ef,eg,eh,ei;d8=function(d9){var d_,d$,ea;d_=d7.Icon;if(d_.$==1){ea=d_.$0;d$=f.Element("i",g.ofArray([h.Create("class","fa "+ea),h.Create("style","margin-right:"+d9)]),$.New(i,{$:0}));}else{d$=f.get_Empty();}return g.ofArray([d$,f.TextNode(d7.Text)]);};eb=d7.HeaderType;if(eb.$==1){ed=d8("15px");ec=f.Element("h2",[],ed);}else{if(eb.$==2){ee=d8("15px");ec=f.Element("h3",[],ee);}else{if(eb.$==3){ef=d8("5px");ec=f.Element("h4",[],ef);}else{if(eb.$==4){eg=d8("5px");ec=f.Element("h5",[],eg);}else{if(eb.$==5){eh=d8("5px");ec=f.Element("h6",[],eh);}else{ei=d8("15px");ec=f.Element("h1",[],ei);}}}}}return ec;}}),Hyperlink:$.Class({Render:function(){return j.Render(this);},WithAriaLabel:function(ej){var ek;ek={$:1,$0:ej};return $.New(j,{Action:this.Action,Content:this.Content,AriaLabel:ek,Role:this.Role,DataToggle:this.DataToggle});},WithDataToggle:function(el){var em;em={$:1,$0:el};return $.New(j,{Action:this.Action,Content:this.Content,AriaLabel:this.AriaLabel,Role:this.Role,DataToggle:em});},WithRole:function(en){var eo;eo={$:1,$0:en};return $.New(j,{Action:this.Action,Content:this.Content,AriaLabel:this.AriaLabel,Role:eo,DataToggle:this.DataToggle});}},{Create:function(ep,eq){return $.New(j,{Action:ep,Content:{$:0,$0:eq},AriaLabel:{$:0},Role:{$:0},DataToggle:{$:0}});},Create1:function(er,es){return $.New(j,{Action:er,Content:{$:1,$0:es},AriaLabel:{$:0},Role:{$:0},DataToggle:{$:0}});},Render:function(et){var eN,eO,eP,eQ;eN=et.Content;if(eN.$==1){eP=eN.$0;eO=f.TextNode(eP);}else{eQ=eN.$0;eO=eQ;}return f.Element("a",o.toList(o.delay(function(){var ev,ew,ex,eA;ev=et.Action;if(ev.$==1){ex=ev.$0;ew=g.ofArray([h.Create("href","#"),w.Handler("click",function(){return function(){return ex(null);};})]);}else{eA=ev.$0;ew=g.ofArray([h.Create("href",eA)]);}return o.append(ew,o.delay(function(){var eC,eD,eE;eC=et.AriaLabel;if(eC.$==0){eD=$.New(i,{$:0});}else{eE=eC.$0;eD=g.ofArray([b["attr.ariaLabel.Static"](eE)]);}return o.append(eD,o.delay(function(){var eG,eH,eI;eG=et.Role;if(eG.$==0){eH=$.New(i,{$:0});}else{eI=eG.$0;eH=g.ofArray([b["attr.role.Static"](eI)]);}return o.append(eH,o.delay(function(){var eK,eL,eM;eK=et.DataToggle;if(eK.$==0){eL=$.New(i,{$:0});}else{eM=eK.$0;eL=g.ofArray([b["attr.dataToggle.Static"](eM)]);}return eL;}));}));}));})),g.ofArray([eO]));}}),Label:$.Class({Render:function(){return f.Element("span",g.ofArray([h.Create("style","margin: 3px 3px 3px 0px; display: inline-block;"),h.Create("class","label "+this.LabelStyle.CssClass())]),g.ofArray([f.TextNode(this.Text)]));}},{Create:function(eR,eS){return $.New(E,{Text:eR,LabelStyle:eS});},Render:function(eT){return f.Element("span",g.ofArray([h.Create("style","margin: 3px 3px 3px 0px; display: inline-block;"),h.Create("class","label "+eT.LabelStyle.CssClass())]),g.ofArray([f.TextNode(eT.Text)]));}}),LabelStyle:$.Class({CssClass:function(){return this.$==1?"label-primary":this.$==2?"label-info":this.$==4?"label-warning":this.$==5?"label-danger":this.$==3?"label-link":"label-default";}}),NavTab:$.Class({RenderContent:function(){return F.RenderContent(this);},RenderTab:function(){return F.RenderTab(this);},WithContent:function(eU){return $.New(F,{Id:this.Id,Title:this.Title,Content:eU,State:this.State});},WithState:function(eV){return $.New(F,{Id:this.Id,Title:this.Title,Content:this.Content,State:eV});},WithTitle:function(eW){return $.New(F,{Id:this.Id,Title:eW,Content:this.Content,State:this.State});}},{Create:function(eX){return $.New(F,{Id:eX,Title:"",Content:f.get_Empty(),State:{$:0}});},RenderContent:function(eY){var eZ;eZ=eY.State;return f.Element("div",g.ofArray([b["attr.role.Static"]("tabpanel"),h.Create("id",eY.Id),h.Create("class",eZ.$==1?"tab-pane fade in active":"tab-content tab-pane fade")]),g.ofArray([eY.Content]));},RenderTab:function(e0){var e1,e2,e3,e4,e5;e2=e0.State;e1=g.ofArray([b["attr.role.Static"]("presentation"),h.Create("class",e2.$==1?"active":e2.$==2?"disabled":"")]);e3=e0.State;if(e3.$==2){e4=j.Create1({$:0,$0:"#"},e0.Title);}else{e5="#"+e0.Id;e4=j.Create1({$:0,$0:e5},e0.Title).WithRole("tab").WithDataToggle("tab");}return f.Element("li",e1,g.ofArray([e4.Render()]));}}),NavTabs:$.Class({Justify:function(e6){return $.New(G,{Tabs:this.Tabs,NavTabType:this.NavTabType,IsJustified:e6});},RenderContent:function(){return G.RenderContent(this);},RenderNav:function(){return G.RenderTabs(this);},WithTabs:function(e7){return $.New(G,{Tabs:e7,NavTabType:this.NavTabType,IsJustified:this.IsJustified});},WithType:function(e8){return $.New(G,{Tabs:this.Tabs,NavTabType:e8,IsJustified:this.IsJustified});}},{Create:function(){return $.New(G,{Tabs:$.New(i,{$:0}),NavTabType:{$:0},IsJustified:false});},RenderContent:function(e9){var e_,fa,fb,fc;e_=function(e$){return F.RenderContent(e$);};fa=g.ofArray([h.Create("class","tab-content")]);fb=e9.Tabs;fc=g.map(e_,fb);return f.Element("div",fa,fc);},RenderTabs:function(fd){var fe,fg,fh,fi,fj;fe=function(ff){return F.RenderTab(ff);};fh=fd.NavTabType;fg=g.ofArray([h.Create("class","nav "+(fd.IsJustified?"nav-justified ":"")+(fh.$==1?fh.$0.$==1?"nav-pills nav-stacked":"nav-pills":"nav-tabs"))]);fi=fd.Tabs;fj=g.map(fe,fi);return f.Element("ul",fg,fj);}}),Pagination:$.Class({Render:function(){return H.Render(this);}},{Create:function(fk){return $.New(H,{Links:fk});},Render:function(fl){var fm,fn,fp,fq,fr;fn=function(fo){return I.Render(fo);};fp=g.ofArray([h.Create("class","pagination")]);fq=fl.Links;fr=g.map(fn,fq);fm=g.ofArray([f.Element("ul",fp,fr)]);return f.Element("nav",[],fm);}}),PaginationListItem:$.Class({Render:function(){return I.Render(this);}},{Create:function(fs,ft){return $.New(I,{Link:fs,PaginationListItemState:ft});},Create1:function(fu){return $.New(I,{Link:fu,PaginationListItemState:{$:0}});},Render:function(fv){var fw;fw=fv.PaginationListItemState;return f.Element("li",g.ofArray([h.Create("class",fw.$==1?"active":fw.$==2?"disabled":"")]),g.ofArray([fv.Link.Render()]));}}),"View.ErrorMessages.Static":function(fx,fy){var fz,fF;fz=function(fA){var fB,fC,fD;if(fA.$==1){fC=fA.$0;fD=function(fE){return fE.get_Text();};fB=g.map(fD,fC);}else{fB=$.New(i,{$:0});}return fB;};fF=J.Through(fx,fy);return x.Map(fz,fF);},"View.ThroughCustomId.Static":function(fG){var fH;fH=function(fI){var fJ,fK,fL;if(fI.$==1){fK=fI.$0;fL=function(fM){return fM.get_Id()===b["View.get_CustomErrorId.Static"]();};fJ={$:1,$0:g.filter(fL,fK)};}else{fJ=fI;}return fJ;};return x.Map(fH,fG);},"View.get_CustomErrorId.Static":function(){return 5000;},"attr.ariaControls.Static":function(fN){return h.Create("aria-controls",fN);},"attr.ariaExpanded.Static":function(fO){return h.Create("aria-expanded",fO);},"attr.ariaHidden.Static":function(fP){return h.Create("aria-hidden",fP);},"attr.ariaLabel.Static":function(fQ){return h.Create("aria-label",fQ);},"attr.dataTarget.Static":function(fR){return h.Create("data-target",fR);},"attr.dataToggle.Static":function(fS){return h.Create("data-toggle",fS);},"attr.role.Static":function(){return h.Create("role","presentation");}},Client:{Main:$.Field(function(){var fU,fV,fW,fX,fZ,f0,f1,f2,f3,f4,f5,f6,f7,f8,f9;fU=g.ofArray([h.Create("href","https://github.com/Kimserey/WebSharperBootstrap")]);fV=g.ofArray([f.Element("img",g.ofArray([h.Create("style","position: absolute; top: 0; right: 0; border: 0;"),h.Create("src","https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67"),h.Create("alt","Fork me on GitHub"),h.Create("data-"+"canonical-src","https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png")]),$.New(i,{$:0}))]);fW=f.Element("a",fU,fV);fX=l.Create("Create a new user",$.New(K,{$:1}),function(){return L("Yay!");});fZ=j.Create1({$:0,$0:"#"},"Hello world link");f0=p.Create1(g.ofArray([A.Create(fX.Render(),g.ofArray([$.New(B,{$:3})])),A.Create(fZ.Render(),g.ofArray([$.New(B,{$:3})]))]));f1=k.Create(g.ofArray([c.Create("Home","#"),c.Create("Navigation 1","#").WithDecoration({$:1,$0:"fa-user"}),c.Create("Navigation 2","#").WithDecoration({$:0,$0:"https://placeholdit.imgix.net/~text?txtsize=5&txt=25%C3%9725&w=25&h=25&txtpad=1"}),c.CreateActive("Navigation 3")]));f2=fX.WithCssClass("pull-right");f3=p.Create1(g.ofArray([A.Create(f1.Render(),g.ofArray([$.New(B,{$:0}),$.New(B,{$:4})])),A.Create(f2.Render(),g.ofArray([$.New(B,{$:0}),$.New(B,{$:2})]))]));f6=g.ofArray([f.TextNode("Hehe ")]);f7=g.ofArray([f.TextNode("hoho")]);f5=g.ofArray([f.Element("strong",[],f6),f.Element("small",[],f7)]);f4=q.Create(g.ofArray([r.Create1("Description","Something cool is happening."),r.Create1("Computer","Super super super computer."),r.Create2("Custom div",f.Element("p",[],f5))]),{$:0});f8=G.Create().WithType({$:1,$0:{$:1}}).WithTabs(g.ofArray([F.Create("home").WithTitle("Home").WithContent(f.TextNode("Home page here.")).WithState({$:1}),F.Create("account").WithTitle("Account").WithContent(f.TextNode("Account page here.")),F.Create("profile").WithTitle("Profile").WithContent(f.TextNode("Profile page here.")),F.Create("hello").WithTitle("Hello").WithState({$:2})]));f9=H.Create(g.ofArray([I.Create(j.Create1({$:0,$0:"#"},"Previous"),{$:2}),I.Create(j.Create1({$:0,$0:"#"},"1"),{$:1}),I.Create1(j.Create1({$:0,$0:"#"},"2")),I.Create1(j.Create1({$:0,$0:"#"},"3")),I.Create1(j.Create1({$:0,$0:"#"},"Next"))]));return f.RunById("main",f.Concat(g.ofArray([fW,n.Render(n.Create2(g.ofArray([f0.Render(),f1.Render(),f3.Render(),f4.Render(),f8.RenderNav(),f8.RenderContent(),f9.Render(),M.normal(),M.horizontal(),M.inlineForm()]),{$:0}))])));})},Forms:{errView:function(f_,f$){var ga,ge;ga=function(gb){var gc,gd;if(gb.$==1){gd=gb.$0;gc={$:1,$0:gd};}else{gc={$:0};}return gc;};ge=J.Through(f_,f$);return x.Map(ga,ge);},horizontal:$.Field(function(){var gf,gj,gk,gl;gj=P.Yield("");gf=N.op_LessMultiplyGreater(N.op_LessMultiplyGreater(N.op_LessMultiplyGreater(O.Return(function(gg){return function(gh){return function(gi){return[gg,gh,gi];};};}),Q.IsNotEmpty("Input 1 is required",gj)),P.YieldOption({$:0},"")),P.Yield(true));gk=P.WithSubmit(gf);gl=function(gm){return function(gn){return function(go){return function(gp){return s.Create({$:1},g.ofArray([t.Create1("input-1","This is input 1",{$:0,$0:gm,$1:b["View.ErrorMessages.Static"](gp.get_View(),gm),$2:"abcd efg",$3:$.New(i,{$:0})}),t.Create1("input-2","This is input 2",{$:0,$0:gn,$1:R.Const($.New(i,{$:0})),$2:"abcd efg",$3:$.New(i,{$:0})}),t.Create1("checkbox-1","This is a checkbox",{$:2,$0:go,$1:$.New(i,{$:0})})]),g.ofArray([l.Create("Send now!",$.New(K,{$:1}),function(){return gp.Trigger();})])).Render();};};};};return O.Render(gl,gk);}),inlineForm:$.Field(function(){var gr,gv,gw,gx;gv=P.Yield("");gr=N.op_LessMultiplyGreater(N.op_LessMultiplyGreater(N.op_LessMultiplyGreater(O.Return(function(gs){return function(gt){return function(gu){return[gs,gt,gu];};};}),Q.IsNotEmpty("Input 1 is required",gv)),P.YieldOption({$:0},"")),P.Yield(true));gw=P.WithSubmit(gr);gx=function(gy){return function(gz){return function(gA){return function(gB){return s.Create({$:2},g.ofArray([t.Create1("input-1","This is input 1",{$:0,$0:gy,$1:b["View.ErrorMessages.Static"](gB.get_View(),gy),$2:"abcd efg",$3:$.New(i,{$:0})}),t.Create1("input-2","This is input 2",{$:0,$0:gz,$1:R.Const($.New(i,{$:0})),$2:"abcd efg",$3:$.New(i,{$:0})}),t.Create1("checkbox-1","This is a checkbox",{$:2,$0:gA,$1:$.New(i,{$:0})})]),g.ofArray([l.Create("Send now!",$.New(K,{$:1}),function(){return gB.Trigger();})])).Render();};};};};return O.Render(gx,gw);}),normal:$.Field(function(){var gD,gH,gI,gJ;gH=P.Yield("");gD=N.op_LessMultiplyGreater(N.op_LessMultiplyGreater(N.op_LessMultiplyGreater(O.Return(function(gE){return function(gF){return function(gG){return[gE,gF,gG];};};}),Q.IsNotEmpty("Input 1 is required",gH)),P.YieldOption({$:0},"")),P.Yield(true));gI=P.WithSubmit(gD);gJ=function(gK){return function(gL){return function(gM){return function(gN){return s.Create1(g.ofArray([t.Create1("input-1","This is input 1",{$:0,$0:gK,$1:b["View.ErrorMessages.Static"](gN.get_View(),gK),$2:"abcd efg",$3:$.New(i,{$:0})}),t.Create1("input-2","This is input 2",{$:0,$0:gL,$1:R.Const($.New(i,{$:0})),$2:"abcd efg",$3:$.New(i,{$:0})}),t.Create1("checkbox-1","This is a checkbox",{$:2,$0:gM,$1:$.New(i,{$:0})})]),g.ofArray([l.Create("Send now!",$.New(K,{$:1}),function(){return gN.Trigger();}).WithExtraAttrs(g.ofArray([h.Create("style","margin-bottom: 15px;")]))])).Render();};};};};return O.Render(gJ,gI);})}}});$.OnInit(function(){a=$.Safe($$.WebSharperBootstrap);b=$.Safe(a.Bootstrap);c=$.Safe(b.Breadcrumb);d=$.Safe($$.WebSharper.UI);e=$.Safe(d.Next);f=$.Safe(e.Doc);g=$.Safe($$.WebSharper.List);h=$.Safe(e.AttrProxy);i=$.Safe(g.T);j=$.Safe(b.Hyperlink);k=$.Safe(b.BreadcrumbBar);l=$.Safe(b.Button);m=$.Safe($$.WebSharper.PrintfHelpers);n=$.Safe(b.Container);o=$.Safe($$.WebSharper.Seq);p=$.Safe(b.GridRow);q=$.Safe(b.DescriptionList);r=$.Safe(b.DescriptionTerm);s=$.Safe(b.FormElement);t=$.Safe(b.FormGroup);u=$.Safe($$.WebSharper.Operators);v=$.Safe($$.WebSharper.Unchecked);w=$.Safe(e.AttrModule);x=$.Safe(e.View);y=$.Safe($$.WebSharper.Forms);z=$.Safe(y.Doc);A=$.Safe(b.GridColumn);B=$.Safe(b.GridColumnSize);C=$.Safe($$.WebSharper.Strings);D=$.Safe(b.Header);E=$.Safe(b.Label);F=$.Safe(b.NavTab);G=$.Safe(b.NavTabs);H=$.Safe(b.Pagination);I=$.Safe(b.PaginationListItem);J=$.Safe(y.View);K=$.Safe(b.ButtonStyle);L=$.Safe($$.alert);M=$.Safe(a.Forms);N=$.Safe(y.Pervasives);O=$.Safe(y.Form1);P=$.Safe(y.Form);Q=$.Safe(y.Validation);R=$.Safe(e.View1);return S=$.Safe(a.Client);});$.OnLoad(function(){M.normal();M.inlineForm();M.horizontal();S.Main();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
